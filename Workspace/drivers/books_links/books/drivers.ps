%!PS-Adobe-2.0
%%Creator: dvips 5.495 Copyright 1986, 1992 Radical Eye Software
%%Title: drivers.dvi
%%CreationDate: Thu Jun 30 16:56:56 1994
%%Pages: 69
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%EndComments
%DVIPSCommandLine: dvips -o drivers.ps drivers
%DVIPSSource:  TeX output 1994.06.30:1647
%%BeginProcSet: tex.pro
%!
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N /X{S N}
B /TR{translate}N /isls false N /vsize 11 72 mul N /@rigin{isls{[0 -1 1 0 0 0]
concat}if 72 Resolution div 72 VResolution div neg scale isls{Resolution hsize
-72 div mul 0 TR}if Resolution VResolution vsize -72 div 1 add mul TR matrix
currentmatrix dup dup 4 get round 4 exch put dup dup 5 get round 5 exch put
setmatrix}N /@landscape{/isls true N}B /@manualfeed{statusdict /manualfeed
true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N
/IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn begin /FontType 3 N /FontMatrix
fntrx N /FontBBox FBB N string /base X array /BitMaps X /BuildChar{
CharBuilder}N /Encoding IE N end dup{/foo setfont}2 array copy cvx N load 0 nn
put /ctr 0 N[}B /df{/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0
0 sf neg 0 0]N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data
dup length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128
ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127
sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp 0 N
/cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2 index get
S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff ch-yoff ch-height
sub ch-xoff ch-width add ch-yoff setcachedevice ch-width ch-height true[1 0 0
-1 -.1 ch-xoff sub ch-yoff .1 add]{ch-image}imagemask restore}B /D{/cc X dup
type /stringtype ne{]}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1
ne{dup dup length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}
B /I{cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage userdict
/eop-hook known{eop-hook}if}N /@start{userdict /start-hook known{start-hook}
if pop /VResolution X /Resolution X 1000 div /DVImag X /IE 256 array N 0 1 255
{IE S 1 string dup 0 3 index put cvn put}for 65781.76 div /vsize X 65781.76
div /hsize X}N /p{show}N /RMat[1 0 0 -1 0 0]N /BDot 260 string N /rulex 0 N
/ruley 0 N /v{/ruley X /rulex X V}B /V{}B /RV statusdict begin /product where{
pop product dup length 7 ge{0 7 getinterval dup(Display)eq exch 0 4
getinterval(NeXT)eq or}{pop false}ifelse}{false}ifelse end{{gsave TR -.1 -.1
TR 1 1 scale rulex ruley false RMat{BDot}imagemask grestore}}{{gsave TR -.1
-.1 TR rulex ruley scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{
gsave transform round exch round exch itransform moveto rulex 0 rlineto 0
ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N
/tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{4 M}B
/w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{p 1 w}B /r{
p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p a}B /bos{/SS save
N}B /eos{SS restore}B end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300 (/remote/ftp/DOC/drivers.dvi)
@start /Fa 18 118 df<1C003E007F00FF80FF80FF807F003E001C0009097B8813>46
D<000E00001E00007E0007FE00FFFE00FFFE00F8FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE
0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE007FFFFE7FFFFE7FFF
FE17277BA622>49 D<007F800003FFF00007FFFC000F81FE001F00FF003F80FF003F807F803F80
7F803F807F801F807F800F007F800000FF000000FF000000FE000001FC000001F8000007F00000
FFC00000FFF0000001FC0000007E0000007F0000007F8000003FC000003FC000003FE000003FE0
3C003FE07E003FE0FF003FE0FF003FE0FF003FC0FF007FC07E007F807C007F003F01FE001FFFFC
0007FFF00000FF80001B277DA622>51 D<00000E0000001E0000003E0000007E000000FE000000
FE000001FE000003FE0000077E00000E7E00000E7E00001C7E0000387E0000707E0000E07E0000
E07E0001C07E0003807E0007007E000E007E000E007E001C007E0038007E0070007E00E0007E00
FFFFFFF8FFFFFFF8FFFFFFF80000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE00007FFFF8007FFFF8007FFFF81D277EA622>I<FFFFFCFFFFFCFFFFFC01FE0001FE00
01FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE00
01FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE0001FE00
01FE0001FE0001FE0001FE0001FE0001FE0001FE00FFFFFCFFFFFCFFFFFC16297EA81A>73
D<7FFFFFFFFFC07FFFFFFFFFC07FFFFFFFFFC07F803FC03FC07E003FC007C078003FC003C07800
3FC003C070003FC001C0F0003FC001E0F0003FC001E0E0003FC000E0E0003FC000E0E0003FC000
E0E0003FC000E0E0003FC000E000003FC0000000003FC0000000003FC0000000003FC000000000
3FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC000
0000003FC0000000003FC0000000003FC0000000003FC0000000003FC0000000003FC000000000
3FC0000000003FC0000000003FC0000000003FC0000000003FC00000007FFFFFE000007FFFFFE0
00007FFFFFE0002B287EA730>84 D<01FF800007FFF0000F81F8001FC07E001FC07E001FC03F00
0F803F8007003F8000003F8000003F8000003F80000FFF8000FFFF8007FC3F800FE03F803F803F
803F003F807F003F80FE003F80FE003F80FE003F80FE003F807E007F807F00DF803F839FFC0FFF
0FFC01FC03FC1E1B7E9A21>97 D<00003FF80000003FF80000003FF800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800001FE3F80000FFFBF80003F03FF80007E00FF8000FC007F8001F8003
F8003F8003F8007F0003F8007F0003F8007F0003F800FF0003F800FF0003F800FF0003F800FF00
03F800FF0003F800FF0003F800FF0003F8007F0003F8007F0003F8007F0003F8003F8003F8001F
8003F8000F8007F80007C00FF80003F03BFF8000FFF3FF80003FC3FF80212A7EA926>100
D<003FE00001FFF80003F07E0007C01F000F801F801F800F803F800FC07F000FC07F0007C07F00
07E0FF0007E0FF0007E0FFFFFFE0FFFFFFE0FF000000FF000000FF0000007F0000007F0000007F
0000003F8000E01F8000E00FC001C007E0038003F81F0000FFFE00001FF0001B1B7E9A20>I<07
000F801FC03FE03FE03FE01FC00F8007000000000000000000000000000000FFE0FFE0FFE00FE0
0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00F
E0FFFEFFFEFFFE0F2B7DAA14>105 D<FFC07F800FF000FFC1FFE03FFC00FFC383F0707E000FC6
03F8C07F000FCC01F9803F000FD801FF003F800FF001FE003F800FF001FE003F800FE001FC003F
800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001
FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F80
0FE001FC003F800FE001FC003F800FE001FC003F800FE001FC003F80FFFE1FFFC3FFF8FFFE1FFF
C3FFF8FFFE1FFFC3FFF8351B7D9A3A>109 D<FFC07F0000FFC1FFC000FFC787E0000FCE03F000
0FD803F0000FD803F8000FF003F8000FF003F8000FE003F8000FE003F8000FE003F8000FE003F8
000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003
F8000FE003F8000FE003F8000FE003F8000FE003F800FFFE3FFF80FFFE3FFF80FFFE3FFF80211B
7D9A26>I<003FE00001FFFC0003F07E000FC01F801F800FC03F800FE03F0007E07F0007F07F00
07F07F0007F0FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F8FF0007F87F
0007F07F0007F03F800FE03F800FE01F800FC00FC01F8007F07F0001FFFC00003FE0001D1B7E9A
22>I<FFE1FE0000FFE7FF8000FFFE07E0000FF803F0000FF001F8000FE000FC000FE000FE000F
E000FF000FE0007F000FE0007F000FE0007F800FE0007F800FE0007F800FE0007F800FE0007F80
0FE0007F800FE0007F800FE0007F000FE000FF000FE000FF000FE000FE000FE001FC000FF001F8
000FF803F0000FFE0FE0000FE7FF80000FE1FC00000FE00000000FE00000000FE00000000FE000
00000FE00000000FE00000000FE00000000FE00000000FE0000000FFFE000000FFFE000000FFFE
00000021277E9A26>I<FFC1F0FFC7FCFFCE3E0FD87F0FD87F0FF07F0FF03E0FF01C0FE0000FE0
000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0
000FE000FFFF00FFFF00FFFF00181B7E9A1C>114 D<03FE300FFFF01E03F03800F0700070F000
70F00070F80070FC0000FFE0007FFE007FFF803FFFE01FFFF007FFF800FFF80003FC0000FC6000
7CE0003CF0003CF00038F80038FC0070FF01E0F7FFC0C1FF00161B7E9A1B>I<00700000700000
700000700000F00000F00000F00001F00003F00003F00007F0001FFFF0FFFFF0FFFFF007F00007
F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F03807
F03807F03807F03807F03807F03803F03803F87001F86000FFC0001F8015267FA51B>I<FFE03F
F800FFE03FF800FFE03FF8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE0
03F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE003F8000F
E003F8000FE003F8000FE003F8000FE003F8000FE003F8000FE007F80007E007F80007E00FF800
03F03BFF8001FFF3FF80003FC3FF80211B7D9A26>I E /Fb 47 123 df<007E1F0001C1B18003
03E3C00703C3C00E03C1800E01C0000E01C0000E01C0000E01C0000E01C0000E01C000FFFFFC00
0E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0
000E01C0000E01C0000E01C0000E01C0000E01C0000E01C0007F87FC001A1D809C18>11
D<007E0001C1800301800703C00E03C00E01800E00000E00000E00000E00000E0000FFFFC00E01
C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01C00E01
C00E01C00E01C07F87F8151D809C17>I<60F0F8680808081010204080050C7C9C0C>39
D<004000800100020006000C000C0018001800300030007000600060006000E000E000E000E000
E000E000E000E000E000E000E000E000600060006000700030003000180018000C000C00060002
000100008000400A2A7D9E10>I<800040002000100018000C000C000600060003000300038001
800180018001C001C001C001C001C001C001C001C001C001C001C001C001800180018003800300
0300060006000C000C00180010002000400080000A2A7E9E10>I<60F0F0701010101020204080
040C7C830C>44 D<FFE0FFE00B0280890E>I<60F0F06004047C830C>I<00010003000600060006
000C000C000C0018001800180030003000300060006000C000C000C00180018001800300030003
00060006000C000C000C00180018001800300030003000600060006000C000C00010297E9E15>
I<03C00C301818300C300C700E60066006E007E007E007E007E007E007E007E007E007E007E007
E007E00760066006700E300C300C18180C3007E0101D7E9B15>I<07E01830201C201C781E780E
781E381E001C001C00180030006007E00030001C001C000E000F000F700FF80FF80FF80FF00E40
1C201C183007E0101D7E9B15>51 D<60F0F060000000000060606060606060606060606060F0F0
F0F0F0F0F060041E7C940C>60 D<03000780078003000000000000000000000001000100020002
0002000200060004000C00180038007000E000E01EE01EE01EE00E600430180FE00F1D7E9414>
62 D<FFFFC00F00F00F00380F003C0F001C0F001E0F001E0F001E0F001E0F001C0F003C0F0078
0F01F00FFFE00F00780F003C0F001E0F000E0F000F0F000F0F000F0F000F0F000F0F001E0F001E
0F003C0F0078FFFFE0181C7E9B1D>66 D<FFFFF80F00780F00180F00080F00080F000C0F00040F
00040F02040F02000F02000F02000F06000FFE000F06000F02000F02000F02000F02000F00000F
00000F00000F00000F00000F00000F00000F8000FFF800161C7E9B1B>70
D<FFF3FFC00F003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C000F00
3C000F003C000F003C000F003C000FFFFC000F003C000F003C000F003C000F003C000F003C000F
003C000F003C000F003C000F003C000F003C000F003C000F003C000F003C00FFF3FFC01A1C7E9B
1F>72 D<FFF00F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F00FFF00C1C7F9B0F>I<FF8000FF800F8000F8000F
8000F8000BC00178000BC00178000BC001780009E002780009E002780008F004780008F0047800
08F0047800087808780008780878000878087800083C107800083C107800083C107800081E2078
00081E207800081E207800080F407800080F407800080780780008078078000807807800080300
78001C03007800FF8307FF80211C7E9B26>77 D<FF007FC00F800E000F8004000BC0040009E004
0009E0040008F0040008F8040008780400083C0400083C0400081E0400080F0400080F04000807
84000807C4000803C4000801E4000801E4000800F40008007C0008007C0008003C0008003C0008
001C0008000C001C000C00FF8004001A1C7E9B1F>I<003F800000E0E0000380380007001C000E
000E001C0007003C00078038000380780003C0780003C0700001C0F00001E0F00001E0F00001E0
F00001E0F00001E0F00001E0F00001E0F00001E0700001C0780003C0780003C0380003803C0007
801C0007000E000E0007001C000380380000E0E000003F80001B1E7E9C20>I<FFFF00000F01E0
000F0078000F003C000F001C000F001E000F001E000F001E000F001E000F001C000F003C000F00
78000F01E0000FFF00000F03C0000F00E0000F00F0000F0078000F0078000F0078000F0078000F
0078000F0078000F0078100F0078100F0038100F003C20FFF01C20000007C01C1D7E9B1F>82
D<7FFFFFC0700F01C0600F00C0400F0040400F0040C00F0020800F0020800F0020800F0020000F
0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F000000
0F0000000F0000000F0000000F0000000F0000000F0000000F0000001F800003FFFC001B1C7F9B
1E>84 D<1FC000307000783800781C00301C00001C00001C0001FC000F1C00381C00701C00601C
00E01C40E01C40E01C40603C40304E801F870012127E9115>97 D<FC00001C00001C00001C0000
1C00001C00001C00001C00001C00001C00001C00001C7C001D86001E03001C01801C01C01C00C0
1C00E01C00E01C00E01C00E01C00E01C00E01C00C01C01C01C01801E030019060010F800131D7F
9C17>I<07E00C301878307870306000E000E000E000E000E000E00060007004300418080C3007
C00E127E9112>I<003F0000070000070000070000070000070000070000070000070000070000
070003E7000C1700180F00300700700700600700E00700E00700E00700E00700E00700E0070060
0700700700300700180F000C370007C7E0131D7E9C17>I<03E00C301818300C700E6006E006FF
FEE000E000E000E00060007002300218040C1803E00F127F9112>I<00F8018C071E061E0E0C0E
000E000E000E000E000E00FFE00E000E000E000E000E000E000E000E000E000E000E000E000E00
0E000E000E007FE00F1D809C0D>I<00038003C4C00C38C01C3880181800381C00381C00381C00
381C001818001C38000C300013C0001000003000001800001FF8001FFF001FFF803003806001C0
C000C0C000C0C000C06001803003001C0E0007F800121C7F9215>I<FC00001C00001C00001C00
001C00001C00001C00001C00001C00001C00001C00001C7C001C87001D03001E03801C03801C03
801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380FF9FF0141D
7F9C17>I<18003C003C0018000000000000000000000000000000FC001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C001C001C00FF80091D7F9C0C>I<00C001E001E000C0
00000000000000000000000000000FE000E000E000E000E000E000E000E000E000E000E000E000
E000E000E000E000E000E000E000E000E060E0F0C0F1C061803E000B25839C0D>I<FC00001C00
001C00001C00001C00001C00001C00001C00001C00001C00001C00001C3FC01C0F001C0C001C08
001C10001C20001C40001CE0001DE0001E70001C78001C38001C3C001C1C001C0E001C0F001C0F
80FF9FE0131D7F9C16>I<FC001C001C001C001C001C001C001C001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C001C001C001C001C001C00FF80091D7F9C0C>I<FC7E
07E0001C838838001D019018001E01E01C001C01C01C001C01C01C001C01C01C001C01C01C001C
01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C00
1C01C01C00FF8FF8FF8021127F9124>I<FC7C001C87001D03001E03801C03801C03801C03801C
03801C03801C03801C03801C03801C03801C03801C03801C03801C0380FF9FF014127F9117>I<
03F0000E1C00180600300300700380600180E001C0E001C0E001C0E001C0E001C0E001C0600180
7003803003001806000E1C0003F00012127F9115>I<FC7C001D86001E03001C01801C01C01C00
C01C00E01C00E01C00E01C00E01C00E01C00E01C01C01C01C01C01801E03001D06001CF8001C00
001C00001C00001C00001C00001C00001C0000FF8000131A7F9117>I<FCE01D301E781E781C30
1C001C001C001C001C001C001C001C001C001C001C001C00FFC00D127F9110>114
D<1F9030704030C010C010E010F8007F803FE00FF000F880388018C018C018E010D0608FC00D12
7F9110>I<04000400040004000C000C001C003C00FFE01C001C001C001C001C001C001C001C00
1C001C101C101C101C101C100C100E2003C00C1A7F9910>I<FC1F801C03801C03801C03801C03
801C03801C03801C03801C03801C03801C03801C03801C03801C03801C07800C07800E1B8003E3
F014127F9117>I<FF07E03C03801C01001C01000E02000E020007040007040007040003880003
880003D80001D00001D00000E00000E00000E00000400013127F9116>I<FF3FCFE03C0F03801C
0701801C0701001C0B01000E0B82000E0B82000E1182000711C4000711C4000720C40003A0E800
03A0E80003C0680001C0700001C0700001803000008020001B127F911E>I<7F8FF00F03800F03
0007020003840001C80001D80000F00000700000780000F800009C00010E00020E000607000403
801E07C0FF0FF81512809116>I<FF07E03C03801C01001C01000E02000E020007040007040007
040003880003880003D80001D00001D00000E00000E00000E000004000004000008000008000F0
8000F10000F300006600003C0000131A7F9116>I<7FFC70386038407040F040E041C003C00380
07000F040E041C043C0C380870087038FFF80E127F9112>I E /Fc 3 52
df<0C001C00EC000C000C000C000C000C000C000C000C000C000C000C000C000C000C000C00FF
C00A137D9211>49 D<1F0060C06060F070F030603000700070006000C001C00180020004000810
101020207FE0FFE00C137E9211>I<0FC030707038703870380038003000E00FC0007000380018
001C601CF01CF018E03860701FC00E137F9211>I E /Fd 3 52 df<03000700FF000700070007
00070007000700070007000700070007000700070007000700070007007FF00C157E9412>49
D<0F8030E040708030C038E0384038003800700070006000C00180030006000C08080810183FF0
7FF0FFF00D157E9412>I<0FE030306018701C701C001C00180038006007E000300018000C000E
000EE00EE00EC00C401830300FE00F157F9412>I E /Fe 57 125 df<0038007800F001E003C0
07800F000E001C001C0038003800700070007000E000E000E000E000E000E000E000E000E000E0
00700070007000380038001C001C000E000F00078003C001E000F8007800380D2878A21A>40
D<6000F00078003C001E000F000780038001C001C000E000E00070007000700038003800380038
00380038003800380038003800700070007000E000E001C001C0038007800F001E003C007800F0
0060000D287CA21A>I<00E00000E00000E00000E00040E040F0E1E0F8E3E07EEFC01FFF0007FC
0003F80007FC001FFF007EEFC0F8E3E0F0E1E040E04000E00000E00000E00000E00013157D991A
>I<183E7E7F3F1F070E0E1CFCF8E0080D77851A>44 D<7FFFC0FFFFE0FFFFE07FFFC013047D90
1A>I<3078FCFC7830060676851A>I<0000C00001E00001E00003E00003C00007C0000780000F80
000F00000F00001F00001E00003E00003C00007C0000780000780000F80000F00001F00001E000
03E00003C00003C00007C0000780000F80000F00001F00001E00001E00003E00003C00007C0000
780000F80000F00000F0000060000013277DA21A>I<01F00007FC000FFE001F1F001C07003803
803803807001C07001C07001C0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000
E0F001E07001C07001C07803C03803803C07801C07001F1F000FFE0007FC0001F000131E7D9D1A
>I<00C001C001C003C007C00FC07FC0FDC071C001C001C001C001C001C001C001C001C001C001
C001C001C001C001C001C001C001C001C07FFF7FFF7FFF101E7B9D1A>I<03F0000FFC001FFF00
3C0F807803C07001C0E000E0F000E0F000E06000E00000E00000E00001C00001C0000380000780
000F00000E00003C00007C0000F00001E00003C0000780000F00001E00E03C00E07FFFE0FFFFE0
7FFFE0131E7D9D1A>I<01FC0007FF001FFF801E03C03C01C03C00E03C00E00000E00000E00001
C00003C000078001FF0001FF0001FFC00003E00000F0000070000078000038000038600038F000
38F00078E000707000F07E03E03FFFC00FFF0001FC00151E7E9D1A>I<000F80001F80003B8000
3B8000738000F38000E38001C38003C3800383800783800F03800E03801E03803C038038038078
0380F00380FFFFFEFFFFFEFFFFFE000380000380000380000380000380000380003FF8007FFC00
3FF8171E7F9D1A>I<3FFFC07FFFC07FFFC0700000700000700000700000700000700000700000
70000071F8007FFE007FFF007E07807803C03001C00001C00000E00000E00000E06000E0F000E0
F001C0E001C07003807C0F803FFF000FFC0003F000131E7D9D1A>I<007E0001FF8003FFC00781
E00F01E01E01E03C00C0380000700000700000700000E1F800E7FE00FFFF00FE0780F803C0F001
C0F000E0F000E0E000E0F000E07000E07000E07001C03801C03C03801E0F800FFF0007FC0001F0
00131E7D9D1A>I<E00000FFFFF8FFFFF8FFFFF0E000E0E001C00003C0000780000F00000E0000
1C00001C0000380000380000700000700000E00000E00000E00001C00001C00001C00001C00003
8000038000038000038000038000038000038000038000151F7E9E1A>I<01FC0007FF001FFFC0
1F07C03C01E07800F07000707000707000707800F03800E01E03C00FFF8003FE0007FF001F8FC0
3C01E07800F0700070E00038E00038E00038E00038F000787000707800F03E03E01FFFC007FF00
01FC00151E7E9D1A>I<01F00007FC001FFE003E0F003807807003807001C0E001C0E001C0E001
E0E000E0E000E0E001E07001E07803E03C0FE01FFFE00FFCE003F0E00001C00001C00001C00003
80600380F00700F00F00F03E007FFC003FF0000FC000131E7D9D1A>I<3078FCFC783000000000
00000000003078FCFC7830061576941A>I<183C7E7E3C18000000000000000000183C7E7E3E1E
0E0E1C3CF8F0C0071C77941A>I<0000C00003E00007E0000FC0003F80007E0000FC0003F80007
E0000FC0003F80007E0000FC0000FC00007E00003F80000FC00007E00003F80000FC00007E0000
3F80000FC00007E00003E00000C0131A7D9B1A>I<7FFFF0FFFFF8FFFFF87FFFF0000000000000
0000000000007FFFF0FFFFF8FFFFF87FFFF0150C7E941A>I<600000F80000FC00007E00003F80
000FC00007E00003F80000FC00007E00003F80000FC00007E00007E0000FC0003F80007E0000FC
0003F80007E0000FC0003F80007E0000FC0000F80000600000131A7D9B1A>I<003800007C0000
7C00006C0000EE0000EE0000EE0000C60000C60001C70001C70001C70001C70003838003838003
83800383800701C00701C007FFC007FFC00FFFE00E00E00E00E00E00E00E00E01C00707F01FCFF
83FE7F01FC171E7F9D1A>65 D<FFFE00FFFF80FFFFC01C03E01C00E01C00F01C00701C00701C00
701C00701C00E01C01E01C07C01FFF801FFF801FFFC01C01E01C00F01C00701C00381C00381C00
381C00381C00381C00781C00F01C01F0FFFFE0FFFFC0FFFF00151E7E9D1A>I<7FFE00FFFF007F
FF801C07C01C01E01C00F01C00701C00781C00381C00381C003C1C001C1C001C1C001C1C001C1C
001C1C001C1C001C1C001C1C003C1C00381C00381C00781C00701C00F01C01E01C07C07FFFC0FF
FF007FFE00161E7F9D1A>68 D<FF83FEFF83FEFF83FE1C00701C00701C00701C00701C00701C00
701C00701C00701C00701C00701FFFF01FFFF01FFFF01C00701C00701C00701C00701C00701C00
701C00701C00701C00701C00701C0070FF83FEFF83FEFF83FE171E7F9D1A>72
D<FFFF80FFFF80FFFF8001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0
0001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0
0001C000FFFF80FFFF80FFFF80111E7C9D1A>I<7FE000FFF0007FE0000E00000E00000E00000E
00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E
00000E00000E00000E001C0E001C0E001C0E001C0E001C7FFFFCFFFFFC7FFFFC161E7F9D1A>76
D<7E003F00FF007F807F007F001D80DC001D80DC001D80DC001DC1DC001DC1DC001CC19C001CC1
9C001CE39C001CE39C001C631C001C771C001C771C001C361C001C361C001C3E1C001C1C1C001C
1C1C001C001C001C001C001C001C001C001C001C001C001C001C001C001C007F007F00FF80FF80
7F007F00191E809D1A>I<0FFE003FFF807FFFC07C07C07001C0F001E0E000E0E000E0E000E0E0
00E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E000E0E0
00E0F001E0F001E07001C07C07C07FFFC03FFF800FFE00131E7D9D1A>79
D<FFFE00FFFF80FFFFC01C03E01C00F01C00701C00781C00381C00381C00381C00381C00781C00
701C00F01C03E01FFFC01FFF801FFE001C00001C00001C00001C00001C00001C00001C00001C00
001C0000FF8000FF8000FF8000151E7E9D1A>I<03F1C00FFDC03FFFC07C0FC07003C0E003C0E0
01C0E001C0E001C0E000007000007800003F00001FF00007FE0000FF00000F800003C00001C000
00E00000E06000E0E000E0E000E0E001C0F001C0FC0780FFFF80EFFE00E3F800131E7D9D1A>83
D<600000F00000F00000F800007800007C00003C00003E00001E00001E00001F00000F00000F80
0007800007C00003C00003C00003E00001E00001F00000F00000F800007800007800007C00003C
00003E00001E00001F00000F00000F00000F800007800007C00003C00003E00001E00001E00000
C013277DA21A>92 D<7FFFC0FFFFE0FFFFE07FFFC013047D7E1A>95 D<1FF0003FFC007FFE0078
0F00300700000380000380007F8007FF801FFF803F8380780380700380E00380E00380E0038070
0780780F803FFFFC1FFDFC07F0FC16157D941A>97 D<FE0000FE0000FE00000E00000E00000E00
000E00000E00000E00000E3E000EFF800FFFE00FC1F00F80700F00380E00380E001C0E001C0E00
1C0E001C0E001C0E001C0E001C0F00380F00780F80F00FC1E00FFFC00EFF80063E00161E7F9D1A
>I<00FF8003FFC00FFFE01F01E03C00C0780000700000700000E00000E00000E00000E00000E0
00007000007000007800703C00701F01F00FFFE003FFC000FE0014157D941A>I<001FC0001FC0
001FC00001C00001C00001C00001C00001C00001C001F1C007FDC00FFFC01E0FC03C07C07803C0
7001C0E001C0E001C0E001C0E001C0E001C0E001C0E001C07003C07003C03807C03E0FC01FFFFC
07FDFC01F1FC161E7E9D1A>I<01F80007FF000FFF801E07C03C01C07800E07000E0E00070E000
70FFFFF0FFFFF0FFFFF0E000007000007000007800703C00701F01F00FFFE003FFC000FE001415
7D941A>I<0007E0001FF0003FF800787800F03000E00000E00000E00000E0007FFFF0FFFFF0FF
FFF000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000
E00000E00000E0003FFF807FFFC03FFF80151E7F9D1A>I<01F87C07FFFE0FFFFE1E078C1C0380
3801C03801C03801C03801C03801C01C03801E07801FFF001FFE0039F8003800003800001C0000
1FFF801FFFE03FFFF878007C70001CE0000EE0000EE0000EE0000E70001C78003C3E00F81FFFF0
07FFC001FF0017217F941A>I<FE0000FE0000FE00000E00000E00000E00000E00000E00000E00
000E3E000EFF800FFFC00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00E00E00E00E00
E00E00E00E00E00E00E00E00E00E00E0FFE3FEFFE7FEFFE3FE171E7F9D1A>I<00C00001E00001
E00000C0000000000000000000000000000000000000007FE0007FE0007FE00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0007F
FF80FFFFC07FFF80121F7C9E1A>I<FE0000FE0000FE00000E00000E00000E00000E00000E0000
0E00000E0FFC0E1FFE0E0FFC0E03C00E07800E0F000E1E000E3C000E78000EFC000FFC000FDE00
0F8F000E07800E03800E01C00E01E00E00F0FFE3FEFFE3FFFFE3FE181E7F9D1A>107
D<FFE000FFE000FFE00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
0000E000FFFFE0FFFFE0FFFFE0131E7D9D1A>I<7CE0E000FFFBF8007FFFF8001F1F1C001E1E1C
001E1E1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C
1C001C1C1C001C1C1C001C1C1C007F1F1F00FF9F9F807F1F1F00191580941A>I<FE3E00FEFF80
FFFFC00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E0
0E00E00E00E00E00E0FFE3FEFFE7FEFFE3FE17157F941A>I<01F00007FC001FFF003E0F803C07
807803C07001C0E000E0E000E0E000E0E000E0E000E0E000E0F001E07001C07803C03C07803E0F
801FFF0007FC0001F00013157D941A>I<FE3E00FEFF80FFFFE00FC1F00F80700F00380E00380E
001C0E001C0E001C0E001C0E001C0E001C0E001C0F00380F00780F80F00FC1E00FFFC00EFF800E
3E000E00000E00000E00000E00000E00000E00000E00000E0000FFE000FFE000FFE00016207F94
1A>I<7F83F0FF8FF87FBFFC03FC3C03F01803E00003C00003C000038000038000038000038000
0380000380000380000380000380000380007FFF00FFFF007FFF0016157E941A>114
D<07FB801FFF807FFF80780780E00380E00380E003807800007FC0003FFC0007FE00003F800007
806001C0E001C0E001C0F003C0FC0780FFFF00EFFE00E3F80012157C941A>I<00C00001C00001
C00001C00001C00001C00001C0007FFFE0FFFFE0FFFFE001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C07001C07001C07001C07000E0E000FFE0007FC0001F0014
1C7F9B1A>I<FE0FE0FE0FE0FE0FE00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E0
0E00E00E00E00E00E00E00E00E00E00E01E00F03E007FFFE03FFFE00FCFE17157F941A>I<7F83
FCFFC7FE7F83FC0E00E00E00E00E00E00701C00701C00701C003838003838003838001C70001C7
0001C70000EE0000EE0000EE00007C00007C0000380017157F941A>I<7FC7F87FCFFC7FC7F807
03C003838003C70001EF0000FE00007C00007800003800007C0000EE0001EE0001C70003838007
83C00F01C07FC7FCFFC7FE7FC7FC17157F941A>120 D<7FC3FCFFC7FE7FC3FC0E00E00E00E007
00E00701C00781C00381C003838003C38001C38001C70000E70000E70000E600006600006E0000
3C00003C00003C0000380000380000380000700000700030700078E00071E0007FC0003F80001E
000017207F941A>I<60F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F060042775A21A>124 D E /Ff 50 123 df<FFFFF0FFFFF0FFFFF0FFFFF0FF
FFF0FFFFF0FFFFF014077F921B>45 D<1F003F807FC0FFE0FFE0FFE0FFE0FFE07FC03F801F000B
0B7A8A17>I<000000380000007C0000007C000000FC000000F8000000F8000001F8000001F000
0001F0000003F0000003E0000007E0000007C0000007C000000FC000000F8000000F8000001F80
00001F0000003F0000003E0000003E0000007E0000007C0000007C000000FC000000F8000001F8
000001F0000001F0000003F0000003E0000003E0000007E0000007C000000FC000000F8000000F
8000001F8000001F0000001F0000003F0000003E0000003E0000007E0000007C000000FC000000
F8000000F8000001F8000001F0000001F0000003F0000003E0000007E0000007C0000007C00000
0FC000000F8000000F8000001F8000001F0000003F0000003E0000003E0000007E0000007C0000
007C000000FC000000F8000000F8000000700000001E487BB529>I<0001E0000003E000000FE0
00007FE0001FFFE000FFFFE000FFBFE000E03FE000003FE000003FE000003FE000003FE000003F
E000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE00000
3FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000
003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE000003FE0
00003FE0007FFFFFF07FFFFFF07FFFFFF01C2E7AAD29>49 D<003FF00001FFFE0007FFFF800FC0
7FE01E001FF03C000FF87F0007FC7F8007FEFFC007FEFFC003FEFFC003FFFFC003FF7F8003FF7F
8003FF3F0003FF000003FF000003FE000003FE000007FC000007FC00000FF800000FF000001FE0
00001FC000003F8000007F000000FE000001F8000001F0000003E00000078007000F0007001E00
07003C000F0078000E00F0000E01C0001E03FFFFFE07FFFFFE0FFFFFFE1FFFFFFE3FFFFFFE7FFF
FFFCFFFFFFFCFFFFFFFCFFFFFFFC202E7CAD29>I<000FFC0000007FFF800001F01FE00003C00F
F000070007F8000FE007FC000FF007FC001FF007FE001FF807FE001FF807FE001FF807FE001FF8
07FE000FF007FC0007E007FC00018007FC0000000FF80000000FF00000001FE00000001FC00000
007F8000001FFE0000001FFC0000001FFF800000001FF000000007F800000003FC00000003FE00
000003FF00000001FF80000001FF800E0001FFC03F8001FFC07FC001FFC07FC001FFC0FFE001FF
C0FFE001FFC0FFE001FF80FFE001FF80FFC003FF007F8003FF003F0003FE001F0007FC000FE01F
F80007FFFFE00001FFFF8000001FFC0000222E7DAD29>I<0000007800000000F800000001F800
000003F800000007F800000007F80000000FF80000001FF80000003FF80000007FF800000077F8
000000F7F8000001E7F8000003C7F800000787F800000707F800000F07F800001E07F800003C07
F800007807F800007007F80000F007F80001E007F80003C007F800078007F8000F0007F8000F00
07F8001E0007F8003C0007F800780007F800F00007F800FFFFFFFFF0FFFFFFFFF0FFFFFFFFF000
000FF80000000FF80000000FF80000000FF80000000FF80000000FF80000000FF80000000FF800
00000FF800000FFFFFF0000FFFFFF0000FFFFFF0242E7EAD29>I<0C0000380FC003F80FFFFFF8
0FFFFFF00FFFFFE00FFFFFC00FFFFF800FFFFE000FFFFC000FFFF0000FFF00000F0000000F0000
000F0000000F0000000F0000000F0000000F0000000F0FF8000F7FFF000FFFFFC00FF01FE00F80
0FF00F0007F80E0007FC000003FC000003FE000003FE000003FF000003FF1E0003FF3F0003FF7F
8003FFFF8003FFFFC003FFFFC003FEFF8003FEFF8003FE7F0007FC7C0007F83C000FF01E001FE0
0FC07FC007FFFF8001FFFE00003FE000202E7CAD29>I<00007F80000007FFF000001FC0780000
7F001C0000FC001E0001F8007E0003F800FF0007F001FF000FF001FF000FE001FF001FE001FF00
3FE000FE003FE0007C003FC00000007FC00000007FC00000007FC0000000FFC3FF8000FFC7FFE0
00FFCFBFF000FFDC03F800FFF801FC00FFF001FE00FFF000FF00FFE000FF80FFE000FF80FFE000
FF80FFC000FFC0FFC000FFC0FFC000FFC07FC000FFC07FC000FFC07FC000FFC07FC000FFC03FC0
00FFC03FC000FF803FC000FF801FE000FF801FE000FF000FE001FE0007F001FC0003F803F80001
FC0FF00000FFFFE000003FFF80000007FC0000222E7DAD29>I<1F003F807FC0FFE0FFE0FFE0FF
E0FFE07FC03F801F0000000000000000000000000000000000000000001F003F807FC0FFE0FFE0
FFE0FFE0FFE07FC03F801F000B207A9F17>58 D<00FFE00003FFFC000FFFFF001F007F803C003F
C07E001FE07F001FE0FF801FF0FF801FF0FF801FF0FF801FF07F001FF03E003FE01C003FC00000
7F800000FF000001FE000001F8000003F0000007E0000007C000000F8000000F0000000E000000
0E0000001E0000001C0000001C0000001C0000001C0000001C0000001C0000001C000000000000
0000000000000000000000000000000000000000001C0000007F000000FF800000FF800001FFC0
0001FFC00001FFC00000FF800000FF8000007F0000001C00001C327BB127>63
D<0000007C0000000000007C000000000000FE000000000000FE000000000000FE000000000001
FF000000000001FF000000000003FF800000000003FF800000000007FFC00000000007FFC00000
000007FFC0000000000FFFE0000000000F7FE0000000001F7FF0000000001E3FF0000000001E3F
F0000000003E3FF8000000003C1FF8000000007C1FFC00000000780FFC00000000780FFC000000
00F80FFE00000000F007FE00000001F007FF00000001E003FF00000001E003FF00000003E003FF
80000003C001FF80000007C001FFC00000078000FFC00000078000FFC000000FFFFFFFE000000F
FFFFFFE000001FFFFFFFF000001E00003FF000001E00003FF000003C00003FF800003C00001FF8
00007C00001FFC00007800000FFC00007800000FFC0000F0000007FE0000F0000007FE0001F000
0007FF0003F8000003FF00FFFFC001FFFFFEFFFFC001FFFFFEFFFFC001FFFFFE37317DB03E>65
D<000003FF80018000003FFFF003800001FFFFFC0F800007FF007F1F80001FF8000FBF80003FE0
0003FF8000FF800000FF8001FF0000007F8003FE0000003F8007FC0000003F8007FC0000001F80
0FF80000001F801FF80000000F801FF00000000F803FF000000007803FF000000007807FF00000
0007807FE000000007807FE000000000007FE00000000000FFE00000000000FFE00000000000FF
E00000000000FFE00000000000FFE00000000000FFE00000000000FFE00000000000FFE0000000
0000FFE000000000007FE000000000007FE000000000007FE000000000007FF000000003803FF0
00000003803FF000000003801FF000000003801FF800000007800FF8000000070007FC00000007
0007FC0000000E0003FE0000001E0001FF0000003C0000FF8000007800003FE00000F000001FF8
0003E0000007FF003F80000001FFFFFE000000003FFFF80000000003FF80000031317BB03C>67
D<FFFFFFFFF00000FFFFFFFFFF0000FFFFFFFFFFC00000FFC000FFF00000FFC0000FFC0000FFC0
0007FE0000FFC00001FF0000FFC00000FF8000FFC000007FC000FFC000003FE000FFC000003FE0
00FFC000001FF000FFC000001FF000FFC000001FF800FFC000000FF800FFC000000FFC00FFC000
000FFC00FFC000000FFC00FFC000000FFC00FFC000000FFE00FFC000000FFE00FFC000000FFE00
FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC000000FFE00FFC00000
0FFE00FFC000000FFE00FFC000000FFE00FFC000000FFC00FFC000000FFC00FFC000000FFC00FF
C000000FFC00FFC000000FF800FFC000001FF800FFC000001FF800FFC000001FF000FFC000003F
E000FFC000003FE000FFC000007FC000FFC00000FF8000FFC00001FF0000FFC00003FE0000FFC0
000FFC0000FFC0007FF000FFFFFFFFFFE000FFFFFFFFFF0000FFFFFFFFF0000037317EB03F>I<
FFFFFFFFFFF000FFFFFFFFFFF000FFFFFFFFFFF00000FFC0003FF00000FFC00007F80000FFC000
03F80000FFC00000F80000FFC00000F80000FFC00000780000FFC00000780000FFC00000380000
FFC00000380000FFC00000380000FFC000001C0000FFC007001C0000FFC007001C0000FFC00700
1C0000FFC00700000000FFC00700000000FFC00F00000000FFC01F00000000FFC03F00000000FF
FFFF00000000FFFFFF00000000FFFFFF00000000FFC03F00000000FFC01F00000000FFC00F0000
0000FFC00700000000FFC00700000000FFC00700038000FFC00700038000FFC00700038000FFC0
0000070000FFC00000070000FFC00000070000FFC00000070000FFC000000F0000FFC000000F00
00FFC000001E0000FFC000001E0000FFC000003E0000FFC000007E0000FFC00000FE0000FFC000
03FE0000FFC0001FFE00FFFFFFFFFFFC00FFFFFFFFFFFC00FFFFFFFFFFFC0031317EB036>I<FF
FFFFFFFFF0FFFFFFFFFFF0FFFFFFFFFFF000FFC0003FF000FFC00007F800FFC00003F800FFC000
00F800FFC00000F800FFC000007800FFC000007800FFC000003800FFC000003800FFC000003800
FFC000001C00FFC000001C00FFC007001C00FFC007001C00FFC007000000FFC007000000FFC007
000000FFC00F000000FFC01F000000FFC03F000000FFFFFF000000FFFFFF000000FFFFFF000000
FFC03F000000FFC01F000000FFC00F000000FFC007000000FFC007000000FFC007000000FFC007
000000FFC007000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000
0000FFFFFFF00000FFFFFFF00000FFFFFFF000002E317EB034>I<000003FF80018000003FFFF0
03800001FFFFFC0F800007FF007F1F80001FF8000FBF80003FE00003FF8000FF800000FF8001FF
0000007F8003FE0000003F8007FC0000003F8007FC0000001F800FF80000001F801FF80000000F
801FF00000000F803FF000000007803FF000000007807FF000000007807FE000000007807FE000
000000007FE00000000000FFE00000000000FFE00000000000FFE00000000000FFE00000000000
FFE00000000000FFE00000000000FFE00000000000FFE00000000000FFE00007FFFFFE7FE00007
FFFFFE7FE00007FFFFFE7FE0000001FF807FF0000001FF803FF0000001FF803FF0000001FF801F
F0000001FF801FF8000001FF800FF8000001FF8007FC000001FF8007FC000001FF8003FE000001
FF8001FF000001FF8000FF800001FF80003FE00003FF80001FF80007FF800007FF803F3F800001
FFFFFE1F8000003FFFF80780000003FFC0018037317BB041>I<FFFFFFC0FFFFFFC0FFFFFFC000
FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC000
00FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC0
0000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FF
C00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000FFC00000
FFC00000FFC00000FFC00000FFC000FFFFFFC0FFFFFFC0FFFFFFC01A317EB01F>73
D<FFFFFFC0007FFFC0FFFFFFC0007FFFC0FFFFFFC0007FFFC000FFC0000007F00000FFC0000003
C00000FFC000000F800000FFC000001F000000FFC000003C000000FFC0000078000000FFC00001
F0000000FFC00003E0000000FFC0000780000000FFC0000F00000000FFC0003E00000000FFC000
7C00000000FFC000F000000000FFC001E000000000FFC007C000000000FFC00F8000000000FFC0
1F0000000000FFC03F8000000000FFC07FC000000000FFC1FFE000000000FFC3FFF000000000FF
C7FFF000000000FFCF3FF800000000FFFE1FFC00000000FFFC0FFE00000000FFF007FE00000000
FFE007FF00000000FFC003FF80000000FFC001FFC0000000FFC000FFE0000000FFC000FFE00000
00FFC0007FF0000000FFC0003FF8000000FFC0001FFC000000FFC0000FFC000000FFC0000FFE00
0000FFC00007FF000000FFC00003FF800000FFC00001FFC00000FFC00001FFC00000FFC00000FF
E00000FFC000007FF00000FFC000007FF800FFFFFFC00FFFFFE0FFFFFFC00FFFFFE0FFFFFFC00F
FFFFE03B317EB041>75 D<FFFFFFF00000FFFFFFF00000FFFFFFF0000000FFC000000000FFC000
000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000
000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000
007000FFC000007000FFC000007000FFC00000F000FFC00000F000FFC00000E000FFC00000E000
FFC00001E000FFC00001E000FFC00003E000FFC00003E000FFC00007E000FFC0000FE000FFC000
1FE000FFC0007FC000FFC003FFC0FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC02C317EB032>I<
FFFF8000000001FFFF80FFFFC000000003FFFF80FFFFE000000007FFFF8000FFE000000007FF80
0000EFF00000000EFF800000EFF00000000EFF800000EFF00000000EFF800000E7F80000001CFF
800000E7F80000001CFF800000E3FC00000038FF800000E3FC00000038FF800000E1FE00000070
FF800000E1FE00000070FF800000E0FF000000E0FF800000E0FF000000E0FF800000E07F800001
C0FF800000E07F800001C0FF800000E03FC0000380FF800000E03FC0000380FF800000E03FC000
0380FF800000E01FE0000700FF800000E01FE0000700FF800000E00FF0000E00FF800000E00FF0
000E00FF800000E007F8001C00FF800000E007F8001C00FF800000E003FC003800FF800000E003
FC003800FF800000E001FE007000FF800000E001FE007000FF800000E000FF00E000FF800000E0
00FF00E000FF800000E000FF00E000FF800000E0007F81C000FF800000E0007F81C000FF800000
E0003FC38000FF800000E0003FC38000FF800000E0001FE70000FF800000E0001FE70000FF8000
00E0000FFE0000FF800000E0000FFE0000FF800000E00007FC0000FF800000E00007FC0000FF80
0000E00007FC0000FF800000E00003F80000FF800001F00003F80000FF8000FFFFE001F000FFFF
FF80FFFFE001F000FFFFFF80FFFFE000E000FFFFFF8049317EB04E>I<00000FFE0000000000FF
FFE000000007FFFFFC0000001FFC07FF0000003FE000FF800000FF80003FE00001FF00001FF000
03FE00000FF80007FC000007FC0007FC000007FC000FF8000003FE001FF8000003FF001FF00000
01FF003FF0000001FF803FF0000001FF803FF0000001FF807FE0000000FFC07FE0000000FFC07F
E0000000FFC0FFE0000000FFE0FFE0000000FFE0FFE0000000FFE0FFE0000000FFE0FFE0000000
FFE0FFE0000000FFE0FFE0000000FFE0FFE0000000FFE0FFE0000000FFE0FFE0000000FFE0FFE0
000000FFE07FE0000000FFC07FE0000000FFC07FF0000001FFC07FF0000001FFC03FF0000001FF
803FF0000001FF801FF8000003FF001FF8000003FF000FFC000007FE000FFC000007FE0007FE00
000FFC0003FF00001FF80001FF80003FF00000FFC0007FE000003FE000FF8000001FFC07FF0000
0007FFFFFC00000000FFFFE0000000000FFE00000033317BB03E>79 D<FFFFFFFFE000FFFFFFFF
FE00FFFFFFFFFF8000FFC001FFE000FFC0003FF000FFC0001FF800FFC0000FFC00FFC0000FFC00
FFC00007FE00FFC00007FE00FFC00007FF00FFC00007FF00FFC00007FF00FFC00007FF00FFC000
07FF00FFC00007FF00FFC00007FF00FFC00007FE00FFC00007FE00FFC0000FFC00FFC0000FFC00
FFC0001FF800FFC0003FF000FFC001FFE000FFFFFFFF8000FFFFFFFE0000FFFFFFE00000FFC000
000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000
FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000000000FFC000
000000FFC000000000FFC000000000FFC000000000FFC000000000FFC0000000FFFFFFC00000FF
FFFFC00000FFFFFFC0000030317EB038>I<FFFFFFFFC0000000FFFFFFFFFC000000FFFFFFFFFF
80000000FFC001FFE0000000FFC0003FF0000000FFC0000FFC000000FFC00007FC000000FFC000
07FE000000FFC00003FF000000FFC00003FF000000FFC00003FF800000FFC00003FF800000FFC0
0003FF800000FFC00003FF800000FFC00003FF800000FFC00003FF800000FFC00003FF000000FF
C00003FF000000FFC00007FE000000FFC00007FC000000FFC0000FFC000000FFC0003FF0000000
FFC001FFE0000000FFFFFFFF80000000FFFFFFFC00000000FFFFFFFE00000000FFC003FF000000
00FFC000FFC0000000FFC0007FE0000000FFC0003FE0000000FFC0003FF0000000FFC0001FF000
0000FFC0001FF8000000FFC0001FF8000000FFC0001FF8000000FFC0001FF8000000FFC0001FF8
000000FFC0001FFC000000FFC0001FFC000000FFC0001FFC000000FFC0001FFC004000FFC0001F
FC00E000FFC0001FFE00E000FFC0000FFE00E000FFC0000FFF01C000FFC00007FF83C0FFFFFFC0
03FFFF80FFFFFFC000FFFF00FFFFFFC0000FFC003B317EB03E>82 D<001FF0018000FFFF038003
FFFFC78007F00FFF800F8001FF801F00007F803F00001F803E00000F807E00000F807E00000780
FE00000780FE00000780FE00000380FF00000380FF00000380FF80000000FFE00000007FFC0000
007FFFE000007FFFFE00003FFFFFC0001FFFFFF0001FFFFFF8000FFFFFFC0003FFFFFE0001FFFF
FF00007FFFFF80001FFFFF800000FFFFC0000007FFC0000000FFE00000003FE00000003FE00000
001FE06000001FE0E000000FE0E000000FE0E000000FE0E000000FC0F000000FC0F000000FC0F8
00001F80FC00001F80FF00003F00FFC0007E00FFFC01FC00F1FFFFF800E03FFFE000C007FF0000
23317BB02E>I<3FFFFFFFFFFF003FFFFFFFFFFF003FFFFFFFFFFF003FE00FFC01FF007F000FFC
003F807E000FFC001F807C000FFC000F8078000FFC00078078000FFC00078070000FFC00038070
000FFC00038070000FFC00038070000FFC000380E0000FFC0001C0E0000FFC0001C0E0000FFC00
01C0E0000FFC0001C000000FFC00000000000FFC00000000000FFC00000000000FFC0000000000
0FFC00000000000FFC00000000000FFC00000000000FFC00000000000FFC00000000000FFC0000
0000000FFC00000000000FFC00000000000FFC00000000000FFC00000000000FFC00000000000F
FC00000000000FFC00000000000FFC00000000000FFC00000000000FFC00000000000FFC000000
00000FFC00000000000FFC00000000000FFC00000000000FFC00000000000FFC00000000000FFC
00000000000FFC000000007FFFFFFF8000007FFFFFFF8000007FFFFFFF800032307DAF39>I<FF
FFFFC003FFFFC0FFFFFFC003FFFFC0FFFFFFC003FFFFC000FFC0000007E00000FFC0000003C000
00FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC0000003C0
0000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC0000003
C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC00000
03C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC000
0003C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC0
000003C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FFC0000003C00000FF
C0000003C00000FFC0000003C000007FC00000038000007FC00000078000007FE0000007800000
3FE000000F0000003FE000000F0000001FF000001E0000000FF800003E00000007FC00007C0000
0003FE0001F800000000FFC00FE0000000003FFFFF80000000000FFFFE000000000000FFF00000
003A317EB03F>I<FFFFFE07FFFFF801FFFFFFFFFE07FFFFF801FFFFFFFFFE07FFFFF801FFFF03
FF00000FFC000007E003FF80000FFC000003C001FF80000FFE0000038001FF800007FE00000380
01FFC00007FE0000078000FFC00007FF0000070000FFE00003FF00000700007FE00003FF80000E
00007FE00003FF80000E00007FF00003FF80001E00003FF00007FFC0001C00003FF80007FFC000
1C00001FF80007FFE0003800001FF8000E7FE0003800001FFC000E7FE0007800000FFC001E7FF0
007000000FFC001C3FF00070000007FE001C3FF000E0000007FE00381FF800E0000007FF00381F
F801E0000003FF00781FFC01C0000003FF00700FFC01C0000003FF80700FFC03C0000001FF80F0
0FFE0380000001FFC0E007FE0380000000FFC0E007FF0700000000FFC1C003FF0700000000FFE1
C003FF0F000000007FE3C003FF8E000000007FE38001FF8E000000003FF38001FF9C000000003F
F70000FFDC000000003FFF0000FFFC000000001FFF0000FFF8000000001FFE00007FF800000000
0FFE00007FF0000000000FFC00003FF0000000000FFC00003FF00000000007FC00003FE0000000
0007F800001FE00000000007F800001FE00000000003F800001FC00000000003F000000FC00000
000001F000000F800000000001E0000007800000000000E000000700000050317EB055>87
D<007FF8000003FFFF000007FFFFC0000FE01FE0001FF007F0001FF003F8001FF003FC001FF001
FE000FE001FE0007C001FE00010001FE00000001FE00000001FE000001FFFE00003FFFFE0001FF
F1FE0007FE01FE000FF001FE001FC001FE003F8001FE007F8001FE00FF0001FE00FF0001FE00FF
0001FE00FF0001FE00FF0003FE007F8003FE007FC00EFE003FF03CFF000FFFF87FF807FFF03FF8
00FF800FF825207E9F28>97 D<01F8000000FFF8000000FFF8000000FFF80000000FF800000007
F800000007F800000007F800000007F800000007F800000007F800000007F800000007F8000000
07F800000007F800000007F800000007F800000007F800000007F80FF00007F87FFE0007F9FFFF
8007FFE03FC007FF000FE007FE0007F007FC0003F807F80003FC07F80003FC07F80001FE07F800
01FE07F80001FE07F80001FF07F80001FF07F80001FF07F80001FF07F80001FF07F80001FF07F8
0001FF07F80001FF07F80001FE07F80001FE07F80001FE07F80003FC07F80003FC07FC0007F807
FE0007F007F7001FE007E3E07FC007C1FFFF0007807FFE0007001FE00028327EB12E>I<0007FF
00007FFFE000FFFFF003FC03F807F007FC0FE007FC1FE007FC3FC007FC3FC003F87FC001F07F80
00407F800000FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF8000007F
8000007FC000007FC000003FC0000E3FE0000E1FE0001C0FF0001C07F8007803FF01F000FFFFE0
007FFF800007FC001F207D9F25>I<00000007E0000003FFE0000003FFE0000003FFE00000003F
E00000001FE00000001FE00000001FE00000001FE00000001FE00000001FE00000001FE0000000
1FE00000001FE00000001FE00000001FE00000001FE00000001FE0000FF81FE0007FFF1FE001FF
FFDFE003FE03FFE007F800FFE00FE0003FE01FE0001FE03FC0001FE03FC0001FE07F80001FE07F
80001FE07F80001FE0FF80001FE0FF80001FE0FF80001FE0FF80001FE0FF80001FE0FF80001FE0
FF80001FE0FF80001FE07F80001FE07F80001FE07F80001FE03FC0001FE03FC0001FE01FC0003F
E00FE0007FE007F001FFE003FC07DFF001FFFF9FFF007FFE1FFF000FF01FFF28327DB12E>I<00
07FC0000003FFF800000FFFFE00003FC07F00007F801F8000FE000FC001FE0007E003FC0007E00
3FC0003F007FC0003F007F80003F007F80003F80FF80003F80FF80003F80FFFFFFFF80FFFFFFFF
80FFFFFFFF80FF80000000FF80000000FF800000007F800000007F800000003FC00000003FC000
03801FC00003801FE00007800FF0000F0007F8001E0003FE00FC0000FFFFF800003FFFE0000003
FF000021207E9F26>I<0000FF000007FFC0001FFFE0003FC7F0007F0FF800FE0FF801FE0FF801
FC0FF803FC07F003FC03E003FC01C003FC000003FC000003FC000003FC000003FC000003FC0000
03FC0000FFFFF800FFFFF800FFFFF80003FC000003FC000003FC000003FC000003FC000003FC00
0003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC
000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003
FC00007FFFF0007FFFF0007FFFF0001D327EB119>I<001FF007E000FFFE3FF001FFFF7FF807F8
3FF1F80FE00FE1F80FE00FE0F01FC007F0601FC007F0003FC007F8003FC007F8003FC007F8003F
C007F8003FC007F8001FC007F0001FC007F0000FE00FE0000FE00FE00007F83FC00007FFFF0000
06FFFE00000E1FF000000E000000001E000000001E000000001F000000001F800000001FFFFFC0
000FFFFFF8000FFFFFFE0007FFFFFF0003FFFFFF8007FFFFFFC01FFFFFFFE03F00007FE07E0000
0FF0FC000007F0FC000003F0FC000003F0FC000003F0FC000003F07E000007E03F00000FC01FC0
003F800FF801FF0007FFFFFE0000FFFFF000001FFF8000252F7E9F29>I<01F800000000FFF800
000000FFF800000000FFF8000000000FF80000000007F80000000007F80000000007F800000000
07F80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F800
00000007F80000000007F80000000007F80000000007F807F8000007F83FFF000007F87FFF8000
07F8F03FC00007F9C01FE00007FB000FE00007FE000FF00007FE000FF00007FC000FF00007FC00
0FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF000
07F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F800
0FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF000
FFFFC1FFFF80FFFFC1FFFF80FFFFC1FFFF8029327DB12E>I<01C00007F0000FF8000FF8001FFC
001FFC001FFC000FF8000FF80007F00001C0000000000000000000000000000000000000000000
0000000001F800FFF800FFF800FFF8000FF80007F80007F80007F80007F80007F80007F80007F8
0007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F8
0007F80007F80007F80007F800FFFF80FFFF80FFFF8011337DB217>I<01F8000000FFF8000000
FFF8000000FFF80000000FF800000007F800000007F800000007F800000007F800000007F80000
0007F800000007F800000007F800000007F800000007F800000007F800000007F800000007F800
000007F8007FFC07F8007FFC07F8007FFC07F8001FC007F8001F0007F8003E0007F800780007F8
01F00007F803E00007F807800007F81F000007F83E000007F87C000007F9FE000007FBFF000007
FFFF800007FF7FC00007FE3FE00007F81FE00007F01FF00007F00FF80007F007FC0007F003FE00
07F001FF0007F000FF0007F000FF8007F0007FC007F0003FE007F0003FF0FFFF80FFFFFFFF80FF
FFFFFF80FFFF28327EB12C>107 D<01F800FFF800FFF800FFF8000FF80007F80007F80007F800
07F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F800
07F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F800
07F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F800
FFFFC0FFFFC0FFFFC012327DB117>I<03F007F8000FF000FFF03FFF007FFE00FFF07FFF80FFFF
00FFF0F03FC1E07F800FF1C01FE3803FC007F3000FE6001FC007F6000FFC001FE007FE000FFC00
1FE007FC000FF8001FE007FC000FF8001FE007F8000FF0001FE007F8000FF0001FE007F8000FF0
001FE007F8000FF0001FE007F8000FF0001FE007F8000FF0001FE007F8000FF0001FE007F8000F
F0001FE007F8000FF0001FE007F8000FF0001FE007F8000FF0001FE007F8000FF0001FE007F800
0FF0001FE007F8000FF0001FE007F8000FF0001FE007F8000FF0001FE007F8000FF0001FE007F8
000FF0001FE007F8000FF0001FE0FFFFC1FFFF83FFFFFFFFC1FFFF83FFFFFFFFC1FFFF83FFFF40
207D9F45>I<03F007F80000FFF03FFF0000FFF07FFF8000FFF0F03FC0000FF1C01FE00007F300
0FE00007F6000FF00007FE000FF00007FC000FF00007FC000FF00007F8000FF00007F8000FF000
07F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F800
0FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF000
07F8000FF00007F8000FF00007F8000FF00007F8000FF000FFFFC1FFFF80FFFFC1FFFF80FFFFC1
FFFF8029207D9F2E>I<0007FE0000003FFFC00000FFFFF00003FC03FC0007F000FE000FE0007F
001FC0003F803FC0003FC03FC0003FC07F80001FE07F80001FE07F80001FE0FF80001FF0FF8000
1FF0FF80001FF0FF80001FF0FF80001FF0FF80001FF0FF80001FF0FF80001FF07F80001FE07F80
001FE07F80001FE03FC0003FC03FC0003FC01FE0007F800FE0007F0007F801FE0003FE07FC0001
FFFFF800003FFFC0000007FE000024207E9F29>I<01F80FF000FFF87FFE00FFF9FFFF80FFFFE0
7FC00FFF001FE007FE000FF007FC0007F807F80007FC07F80003FC07F80003FE07F80003FE07F8
0001FE07F80001FF07F80001FF07F80001FF07F80001FF07F80001FF07F80001FF07F80001FF07
F80001FF07F80001FE07F80003FE07F80003FE07F80003FC07F80007FC07FC0007F807FE000FF0
07FF001FE007FBE07FC007F9FFFF0007F87FFE0007F81FE00007F800000007F800000007F80000
0007F800000007F800000007F800000007F800000007F800000007F800000007F800000007F800
0000FFFFC00000FFFFC00000FFFFC00000282E7E9F2E>I<03F03F00FFF07FC0FFF1FFE0FFF3C7
F00FF38FF807F70FF807F60FF807FE0FF807FC07F007FC03E007FC008007F8000007F8000007F8
000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007
F8000007F8000007F8000007F8000007F8000007F80000FFFFE000FFFFE000FFFFE0001D207E9F
22>114 D<00FF870007FFEF001FFFFF003F007F003C001F0078000F00F8000700F8000700F800
0700FC000700FF000000FFF800007FFFC0003FFFF0003FFFFC000FFFFE0007FFFF0001FFFF8000
1FFF800000FFC000001FC060000FC0E00007C0E00007C0F00007C0F8000780F8000F80FE000F00
FF803E00FFFFFC00F3FFF800C07FC0001A207D9F21>I<00380000380000380000380000380000
780000780000780000F80000F80001F80003F80007F8001FF800FFFFFEFFFFFEFFFFFE07F80007
F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007
F80007F80007F80707F80707F80707F80707F80707F80707F80703F80E03FC0E01FE1C00FFF800
7FF0000FE0182E7EAD20>I<01F80003F000FFF801FFF000FFF801FFF000FFF801FFF0000FF800
1FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF000
07F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F800
0FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF00007F8000FF000
07F8001FF00007F8001FF00003F8003FF00003F8006FF00001FE03CFF80000FFFF8FFF80007FFF
0FFF80000FFC0FFF8029207D9F2E>I<FFFF801FFEFFFF801FFEFFFF801FFE07F80003E007F800
01C007FC0003C003FC00038003FE00078001FE00070001FF000F0000FF000E0000FF801E00007F
801C00007FC03C00003FC03800003FE03800001FE07000001FE07000000FF0E000000FF0E00000
0FF9E0000007F9C0000007FFC0000003FF80000003FF80000001FF00000001FF00000000FE0000
0000FE000000007C000000007C0000000038000027207E9F2C>I<FFFF801FFEFFFF801FFEFFFF
801FFE07F80003E007F80001C007FC0003C003FC00038003FE00078001FE00070001FF000F0000
FF000E0000FF801E00007F801C00007FC03C00003FC03800003FE03800001FE07000001FE07000
000FF0E000000FF0E000000FF9E0000007F9C0000007FFC0000003FF80000003FF80000001FF00
000001FF00000000FE00000000FE000000007C000000007C000000003800000000380000000070
000000007000000000F000003C00E000007E01E00000FF01C00000FF03800000FF07800000FF0F
0000007A3E0000007FFC0000003FF80000000FC0000000272E7E9F2C>121
D<3FFFFFFC3FFFFFFC3FFFFFFC3FC00FF83E001FF03C003FF038003FE078007FC07800FF807001
FF807001FF007003FE007007FC00000FF800000FF800001FF000003FE000007FC00E007FC00E00
FF800E01FF000E03FE000E07FE001E07FC001E0FF8001C1FF0003C3FF0007C3FE000FC7FC007FC
FFFFFFFCFFFFFFFCFFFFFFFC1F207E9F25>I E /Fg 26 122 df<000002004000000600C00000
0600C000000C018000000C018000000C0180000018030000001803000000300600000030060000
00600C000000600C000000600C000000C018000000C01800000180300000018030001FFFFFFFE0
1FFFFFFFE0000600C000000C018000000C01800000180300000018030000003006000000300600
0000600C0000FFFFFFFF00FFFFFFFF0001803000000180300000030060000003006000000600C0
00000600C000000C018000000C018000000C018000001803000000180300000030060000003006
000000600C000000600C0000004008000000232D7BA228>35 D<00FFFFF000000F003C00000F00
0E00000F000700001E000380001E000380001E0001C0001E0001C0003C0001C0003C0001E0003C
0001E0003C0001E000780001E000780001E000780001E000780001E000F00003C000F00003C000
F00003C000F00003C001E000078001E000078001E000070001E0000F0003C0000E0003C0001C00
03C0003C0003C00038000780007000078000E000078003800007800700000F801C0000FFFFF000
0023227DA125>68 D<00FFF8000F00000F00000F00001E00001E00001E00001E00003C00003C00
003C00003C0000780000780000780000780000F00000F00000F00000F00001E00001E00001E000
01E00003C00003C00003C00003C0000780000780000780000780000F8000FFF00015227DA113>
73 D<00FF000FFC000F8001E0000F800180000FC000800013C001000013C001000011E0010000
11E001000021E002000020F002000020F002000020F00200004078040000407804000040780400
00403C040000803C080000803E080000801E080000801E080001001F100001000F100001000F10
000100079000020007A000020007A000020003E000020003E000040003C000040001C000040001
C0000C0001C0001E00008000FF8000800026227DA124>78 D<3FFE03FF03C0007803C0006003C0
0020078000400780004007800040078000400F0000800F0000800F0000800F0000801E0001001E
0001001E0001001E0001003C0002003C0002003C0002003C000200780004007800040078000400
7800040070000800F0000800F00010007000100070002000700040003000400038018000180200
000E0C000003F00000202377A124>85 D<FFE07FF00FF81F000F8003C01E000F0001801E000F00
01001E000F0002001E000F0002001F000F0004001F000F0004000F001F0008000F001F0008000F
002F0010000F002F0010000F004F8020000F00478040000F00878040000F00878080000F010780
80000F03078100000F02078100000F04078200000F04078200000F08078400000F08078C00000F
10078800000F10079000000F20079000000FA007A000000FC007A00000078007C00000078007C0
00000700078000000700078000000600070000000600020000000400020000002D2376A131>87
D<007FF80FFC000FC003C0000780038000078002000007C004000003C008000003E018000003E0
10000001E020000001F040000000F080000000F100000000FA000000007C000000007C00000000
7C000000003C000000003C000000007E000000009E000000011E000000031F000000060F000000
040F800000080F80000010078000002007C000004003C000008003C000018003E000030001E000
070001E0001F0003F000FFC00FFE0026227EA124>I<00F8C00185C00705C00E03800E03801C03
803C0380380700780700780700780700F00E00F00E00F00E00F00E10F01C20701C20703C20305C
40308C400F078014157B9419>97 D<03C01F8003800380038007000700070007000E000E000E00
0E001C001CF81D0C1E0E3C0638073807380F700F700F700F700FE01EE01EE01EE03CE038E03860
7060E031C01F0010237BA216>I<007E0001C1000301800703800E07801C07803C000038000078
0000780000780000F00000F00000F00000F00000F00100700100700200300C001830000FC00011
157B9416>I<00003C0003F80000380000380000380000700000700000700000700000E00000E0
0000E00000E00001C000F9C00185C00705C00E03800E03801C03803C0380380700780700780700
780700F00E00F00E00F00E00F00E10F01C20701C20703C20305C40308C400F078016237BA219>
I<00F803840E021C023C0238027804F018FFE0F000F000E000E000E000E000E002E00260047018
30600F800F157A9416>I<001F180030B800E0B801C07001C0700380700780700700E00F00E00F
00E00F00E01E01C01E01C01E01C01E01C01E03800E03800E0780060B8006170001E70000070000
0700000E00000E00000E00701C00F01800F0300060E0003F8000151F7E9416>103
D<00F0000FE00000E00000E00000E00001C00001C00001C00001C0000380000380000380000380
00070000071F0007218007C0C00F00E00F00E00E00E00E00E01C01C01C01C01C01C01C01C03803
80380380380380380704700708700E08700E10700610E006206003C016237DA219>I<00C001E0
01C001C0000000000000000000000000000000001E002300430043008700870087000E000E001C
001C001C00380038003840708070807080710032001C000B217BA00F>I<01E00FC001C001C001
C0038003800380038007000700070007000E000E000E000E001C001C001C001C00380038003800
38007000700070007100E200E200E200E200640038000B237CA20C>108
D<1C0F80F8002610C10C00476066060087807807008780780700870070070087007007000E00E0
0E000E00E00E000E00E00E000E00E00E001C01C01C001C01C01C001C01C01C001C01C038203803
80384038038070403803807080380380308070070031003003001E0023157B9428>I<380F804C
30C04E40608E80708F00708E00708E00701C00E01C00E01C00E01C00E03801C03801C03801C038
0384700388700308700708700310E003106001E016157B941B>I<007E0001C3000381800701C0
0E01C01C01E03C01E03801E07801E07801E07801E0F003C0F003C0F00380F00780700700700E00
700C0030180018700007C00013157B9419>I<01C1F002621804741C08780C08700E08700E0870
1E00E01E00E01E00E01E00E01E01C03C01C03C01C03C01C07803807003807003C0E003C1C00723
80071E000700000700000E00000E00000E00000E00001C00001C00001C0000FFC000171F7F9419
>I<1C1F002620804741C08783C08703C08701808700000E00000E00000E00000E00001C00001C
00001C00001C000038000038000038000038000070000030000012157B9415>114
D<00FC000183000200800401800C03800C03000C00000F00000FF00007FC0003FE00003E00000F
00000700700700F00600F00600E004004008002030001FC00011157D9414>I<00C001C001C001
C001C003800380038003800700FFF8070007000E000E000E000E001C001C001C001C0038003800
38003810702070207040708031001E000D1F7C9E10>I<1E00602300E04380E04381C08381C087
01C08701C00703800E03800E03800E03801C07001C07001C07001C07081C0E10180E101C0E101C
1E200C262007C3C015157B941A>I<1C01802603C04707C04703C08701C08E00C08E00C00E0080
1C00801C00801C00803801003801003801003802003802003804003808001808000C300007C000
12157B9416>I<1E00302300704380704380E08380E08700E08700E00701C00E01C00E01C00E01
C01C03801C03801C03801C03801C07001C07001C07001C0F000C3E0003CE00000E00000E00001C
00601C00F03800F03000E0600080C0004380003E0000141F7B9418>121
D E /Fh 92 127 df<70F8F8F8F8F8F8F8F8F8F8F8F8F8F8F8F870000000000070F8F8F870051C
779B18>33 D<4010E038F078E038E038E038E038E038E038E038E038E038E03860300D0E7B9C18
>I<030600078F00078F00078F00078F00078F00078F007FFFC0FFFFE0FFFFE07FFFC00F1E000F
1E000F1E000F1E000F1E000F1E007FFFC0FFFFE0FFFFE07FFFC01E3C001E3C001E3C001E3C001E
3C001E3C000C1800131C7E9B18>I<00C00001C00001C00001C00003F0000FFC003FFE007DCF00
71C700E1C380E1C780E1C780E1C780F1C00079C0003DC0001FE0000FF80003FC0001DE0001CF00
01C70061C380F1C380F1C380E1C380E1C70071C70079DE003FFE001FF80007E00001C00001C000
01C00000C00011247D9F18>I<3803007C07807C0780EE0F80EE0F00EE0F00EE1F00EE1E00EE1E
00EE3E007C3C007C3C00387C0000780000780000F80000F00001F00001E00001E00003E00003C0
0003C00007C0000783800787C00F87C00F0EE00F0EE01F0EE01E0EE01E0EE03E0EE03C07C03C07
C018038013247E9F18>I<01C00007E0000FF0000E70001C38001C38001C38001C38001C73F01C
73F01CE3F00FE3800FC7000F87000F07001F0E003F0E007B8E0073DC00E1DC00E0F800E0F800E0
7070E0787070FC707FFFE03FCFE00F03C0141C7F9B18>I<387C7C7E3E0E0E0E1C1C38F8F0C007
0E789B18>I<007000F001E003C007800F001E001C00380038007000700070007000E000E000E0
00E000E000E000E000E0007000700070007000380038001C001E000F00078003C001F000F00070
0C24799F18>I<6000F00078003C001E000F000780038001C001C000E000E000E000E000700070
00700070007000700070007000E000E000E000E001C001C0038007800F001E003C007800F00060
000C247C9F18>I<01C00001C00001C00001C000C1C180F1C780F9CF807FFF001FFC0007F00007
F0001FFC007FFF00F9CF80F1C780C1C18001C00001C00001C00001C00011147D9718>I<006000
00F00000F00000F00000F00000F00000F00000F0007FFFC0FFFFE0FFFFE07FFFC000F00000F000
00F00000F00000F00000F00000F00000600013147E9718>I<1C3E7E7F3F1F070E1E7CF860080C
788518>I<7FFF00FFFF80FFFF807FFF0011047D8F18>I<3078FCFC78300606778518>I<000300
000780000780000F80000F00001F00001E00001E00003E00003C00007C0000780000780000F800
00F00001F00001E00003E00003C00003C00007C0000780000F80000F00000F00001F00001E0000
3E00003C00003C00007C0000780000F80000F00000F0000060000011247D9F18>I<01F00007FC
000FFE001F1F001C07003803807803C07001C07001C0E000E0E000E0E000E0E000E0E000E0E000
E0E000E0E000E0E000E0F001E07001C07001C07803C03803801C07001F1F000FFE0007FC0001F0
00131C7E9B18>I<01800380038007800F803F80FF80FB80438003800380038003800380038003
800380038003800380038003800380038003807FFCFFFE7FFC0F1C7B9B18>I<03F0000FFE003F
FF007C0F807003C0E001C0F000E0F000E06000E00000E00000E00001C00001C00003C000078000
0F00001E00003C0000780000F00001E00007C0000F80001E00E03C00E07FFFE0FFFFE07FFFE013
1C7E9B18>I<07F8001FFE003FFF007807807803C07801C03001C00001C00003C0000380000F00
03FF0003FE0003FF000007800003C00001C00000E00000E00000E0F000E0F000E0F001C0F003C0
7C07803FFF001FFE0003F800131C7E9B18>I<001F00003F0000770000770000E70001E70001C7
000387000787000707000E07001E07003C0700380700780700F00700FFFFF8FFFFF8FFFFF80007
00000700000700000700000700000700007FF000FFF8007FF0151C7F9B18>I<1FFF803FFF803F
FF803800003800003800003800003800003800003800003800003BF8003FFE003FFF003C078018
03C00001C00000E00000E06000E0F000E0F000E0E001C07003C07C0F803FFF001FFC0003F00013
1C7E9B18>I<007E0001FF0007FF800F83C01E03C01C03C0380180380000700000700000E1F800
E7FE00FFFF00FE0780F803C0F001C0F000E0E000E0F000E07000E07000E07000E03801C03C03C0
1E07800FFF0007FE0001F800131C7E9B18>I<E00000FFFFE0FFFFE0FFFFE0E003C0E007800007
00000E00001E00001C0000380000380000700000700000E00000E00000E00001C00001C00001C0
0001C00003C000038000038000038000038000038000038000038000131D7E9C18>I<03F8000F
FE001FFF003E0F803803807001C07001C07001C07001C03803803C07801FFF0007FC000FFE001F
1F003C07807001C0F001E0E000E0E000E0E000E0E000E07001C07803C03E0F801FFF000FFE0003
F800131C7E9B18>I<03F0000FFC001FFE003C0F00780780700380E001C0E001C0E001C0E001E0
E001E07001E07803E03C0FE01FFFE00FFEE003F0E00000E00001C00001C00001C0300380780780
780F00783E003FFC001FF00007C000131C7E9B18>I<3078FCFC783000000000000000003078FC
FC78300614779318>I<183C7E7E3C180000000000000000183C7E7E3E1E0E1C3C78F060071A78
9318>I<000300000780001F80003F00007E0001FC0003F00007E0001FC0003F00007E0000FC00
00FC00007E00003F00001FC00007E00003F00001FC00007E00003F00001F800007800003001118
7D9918>I<7FFFC0FFFFE0FFFFE0FFFFE0000000000000000000000000FFFFE0FFFFE0FFFFE07F
FFC0130C7E9318>I<600000F00000FC00007E00003F00001FC00007E00003F00001FC00007E00
003F00001F80001F80003F00007E0001FC0003F00007E0001FC0003F00007E0000FC0000F00000
60000011187D9918>I<0FF0003FFC007FFF00700F00F00380F00380600780000F00003E00007C
0001F00001E00003C00003C00003C00003C00003C0000380000000000000000000000000000000
0003800007C00007C00007C000038000111C7D9B18>I<007C0001FE0007FF000F87801E03C03C
1DC0387FC070FFE071E3E071C1E0E1C1E0E380E0E380E0E380E0E380E0E380E0E380E0E1C1C071
C1C071E3C070FF80387F003C1C001E00E00F83E007FFC001FF80007E00131C7E9B18>I<007000
00F80000F80000D80000D80001DC0001DC0001DC00018C00038E00038E00038E00038E00030600
0707000707000707000707000FFF800FFF800FFF800E03800E03801C01C01C01C07F07F0FF8FF8
7F07F0151C7F9B18>I<FFFC00FFFF00FFFF801C03C01C01C01C00E01C00E01C00E01C00E01C01
E01C01C01C07C01FFF801FFF001FFFC01C03C01C00E01C00F01C00701C00701C00701C00701C00
F01C00E01C03E0FFFFC0FFFF80FFFE00141C7F9B18>I<00F8E003FEE007FFE00F07E01E03E03C
01E03800E07000E07000E0700000E00000E00000E00000E00000E00000E00000E00000E0000070
00007000E07000E03800E03C00E01E01C00F07C007FF8003FE0000F800131C7E9B18>I<7FF800
FFFE007FFF001C0F801C03C01C03C01C01E01C00E01C00E01C00F01C00701C00701C00701C0070
1C00701C00701C00701C00701C00F01C00E01C00E01C01E01C01C01C03C01C0F807FFF00FFFE00
7FF800141C7F9B18>I<FFFFF0FFFFF0FFFFF01C00701C00701C00701C00701C00001C00001C0E
001C0E001C0E001FFE001FFE001FFE001C0E001C0E001C0E001C00001C00001C00381C00381C00
381C00381C0038FFFFF8FFFFF8FFFFF8151C7F9B18>I<FFFFE0FFFFE0FFFFE01C00E01C00E01C
00E01C00E01C00001C00001C1C001C1C001C1C001FFC001FFC001FFC001C1C001C1C001C1C001C
00001C00001C00001C00001C00001C00001C0000FFC000FFC000FFC000131C7E9B18>I<01F1C0
03FDC00FFFC01F0FC01C03C03803C03801C07001C07001C0700000E00000E00000E00000E00000
E00000E00FF0E01FF0E00FF07001C07001C07003C03803C03803C01C07C01F0FC00FFFC003FDC0
01F1C0141C7E9B18>I<7F07F0FF8FF87F07F01C01C01C01C01C01C01C01C01C01C01C01C01C01
C01C01C01C01C01FFFC01FFFC01FFFC01C01C01C01C01C01C01C01C01C01C01C01C01C01C01C01
C01C01C01C01C07F07F0FF8FF87F07F0151C7F9B18>I<7FFF00FFFF807FFF0001C00001C00001
C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C00001C00001C00001C00001C00001C0007FFF00FFFF807FFF00111C7D9B18>I<01FFC0
03FFC001FFC0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E00000E00F00E00F00E00F03C007FFC003FF000
0FC000121C7D9B18>I<7F07F0FF87F87F07F01C03C01C07801C07001C0E001C1E001C3C001C38
001C70001CF0001DF0001DF0001FB8001FB8001F1C001E1C001C0E001C0E001C07001C07001C03
801C03801C01C07F03F0FF87F87F03F0151C7F9B18>I<7FE000FFE0007FE0000E00000E00000E
00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E
00000E00000E00700E00700E00700E00700E00707FFFF0FFFFF07FFFF0141C7F9B18>I<FC01F8
FE03F8FE03F83B06E03B06E03B06E03B06E03B8EE03B8EE0398CE0398CE039DCE039DCE039DCE0
38D8E038D8E038F8E03870E03870E03800E03800E03800E03800E03800E03800E0FE03F8FE03F8
FE03F8151C7F9B18>I<7E07F0FF0FF87F07F01D81C01D81C01D81C01DC1C01CC1C01CC1C01CE1
C01CE1C01CE1C01C61C01C71C01C71C01C31C01C39C01C39C01C39C01C19C01C19C01C1DC01C0D
C01C0DC01C0DC07F07C0FF87C07F03C0151C7F9B18>I<0FF8003FFE007FFF00780F00700700F0
0780E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E0
0380E00380E00380E00380F00780700700780F007FFF003FFE000FF800111C7D9B18>I<FFFE00
FFFF80FFFFC01C03C01C01E01C00E01C00701C00701C00701C00701C00701C00E01C01E01C03C0
1FFFC01FFF801FFE001C00001C00001C00001C00001C00001C00001C00001C0000FF8000FF8000
FF8000141C7F9B18>I<0FF8003FFE007FFF00780F00700700F00780E00380E00380E00380E003
80E00380E00380E00380E00380E00380E00380E00380E00380E00380E00380E1E380E1E380F0E7
8070F700787F007FFF003FFE000FFC00001C00001E00000E00000F0000070000070011227D9B18
>I<7FF800FFFE007FFF001C0F801C03801C03C01C01C01C01C01C01C01C03C01C03801C0F801F
FF001FFE001FFE001C0F001C07001C03801C03801C03801C03801C03801C039C1C039C1C039C7F
01F8FF81F87F00F0161C7F9B18>I<03F3801FFF803FFF807C0F80700780E00380E00380E00380
E000007000007800003F00001FF00007FE0000FF00000F800003C00001C00000E00000E06000E0
E000E0E001E0F001C0F80780FFFF80FFFE00E7F800131C7E9B18>I<7FFFF8FFFFF8FFFFF8E070
38E07038E07038E070380070000070000070000070000070000070000070000070000070000070
0000700000700000700000700000700000700000700000700007FF0007FF0007FF00151C7F9B18
>I<FF83FEFF83FEFF83FE1C00701C00701C00701C00701C00701C00701C00701C00701C00701C
00701C00701C00701C00701C00701C00701C00701C00701C00701C00700E00E00F01E00783C003
FF8001FF00007C00171C809B18>I<FF07F8FF07F8FF07F81C01C01C01C01C01C01C01C00E0380
0E03800E03800E03800F0780070700070700070700070700038E00038E00038E00038E00018C00
01DC0001DC0001DC0000D80000F80000F800007000151C7F9B18>I<FE03F8FE03F8FE03F87000
707000707000703800E03800E03800E03800E03800E038F8E038F8E039DCE039DCE019DCC019DC
C019DCC0198CC01D8DC01D8DC01D8DC01D8DC00D8D800D05800F07800F07800E0380151C7F9B18
>I<7F8FE07F9FE07F8FE00E07000F0700070E00078E00039C0003DC0001F80001F80000F00000
F00000700000F00000F80001F80001DC00039E00038E00070F000707000E07800E03801E03C07F
07F0FF0FF87F07F0151C7F9B18>I<FF07F8FF07F8FF07F81C01C01E03C00E03800F0780070700
070700038E00038E0001DC0001DC0001DC0000F80000F800007000007000007000007000007000
00700000700000700000700001FC0003FE0001FC00151C7F9B18>I<3FFFE07FFFE07FFFE07001
C07003C0700780700700000F00001E00001C00003C0000780000700000F00001E00001C00003C0
000780000700000F00001E00E01C00E03C00E07800E07000E0FFFFE0FFFFE0FFFFE0131C7E9B18
>I<FFF8FFF8FFF8E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E0
00E000E000E000E000E000E000E000E000E000E000E000E000E000E000FFF8FFF8FFF80D24779F
18>I<600000F00000F00000F800007800007C00003C00003C00003E00001E00001F00000F0000
0F00000F800007800007C00003C00003C00003E00001E00001F00000F00000F800007800007800
007C00003C00003E00001E00001E00001F00000F00000F8000078000078000030011247D9F18>
I<FFF8FFF8FFF80038003800380038003800380038003800380038003800380038003800380038
00380038003800380038003800380038003800380038003800380038FFF8FFF8FFF80D247F9F18
>I<7FFF00FFFF80FFFF807FFF0011047D7F18>95 D<1FE0003FF8007FFC00781E00300E000007
0000070000FF0007FF001FFF007F0700780700E00700E00700E00700F00F00781F003FFFF01FFB
F007E1F014147D9318>97 D<7E0000FE00007E00000E00000E00000E00000E00000E00000E3E00
0EFF800FFFC00FC1E00F80E00F00700E00700E00380E00380E00380E00380E00380E00380F0070
0F00700F80E00FC1E00FFFC00EFF80063E00151C809B18>I<01FE0007FF001FFF803E07803803
00700000700000E00000E00000E00000E00000E00000E000007000007001C03801C03E03C01FFF
8007FF0001FC0012147D9318>I<001F80003F80001F8000038000038000038000038000038003
E3800FFB801FFF803C1F80380F80700780700380E00380E00380E00380E00380E00380E0038070
0780700780380F803C1F801FFFF00FFBF803E3F0151C7E9B18>I<01F00007FC001FFE003E0F00
380780700380700380E001C0E001C0FFFFC0FFFFC0FFFFC0E000007000007001C03801C03E03C0
1FFF8007FF0001FC0012147D9318>I<001F80007FC000FFE000E1E001C0C001C00001C00001C0
007FFFC0FFFFC0FFFFC001C00001C00001C00001C00001C00001C00001C00001C00001C00001C0
0001C00001C00001C00001C0007FFF007FFF007FFF00131C7F9B18>I<01E1F007FFF80FFFF81E
1E301C0E003807003807003807003807003807001C0E001E1E001FFC001FF80039E0003800001C
00001FFE001FFFC03FFFE07801F0700070E00038E00038E00038E000387800F07E03F01FFFC00F
FF8001FC00151F7F9318>I<7E0000FE00007E00000E00000E00000E00000E00000E00000E3E00
0EFF800FFFC00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E0
0E00E00E00E00E00E07FC3FCFFE7FE7FC3FC171C809B18>I<03800007C00007C00007C0000380
000000000000000000000000007FC000FFC0007FC00001C00001C00001C00001C00001C00001C0
0001C00001C00001C00001C00001C00001C00001C00001C000FFFF00FFFF80FFFF00111D7C9C18
>I<0038007C007C007C003800000000000000000FFC1FFC0FFC001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C6038F078FFF07FE0
3F800E277E9C18>I<FE0000FE0000FE00000E00000E00000E00000E00000E00000E3FF00E7FF0
0E3FF00E07800E0F000E1E000E3C000E78000EF0000FF8000FFC000F9C000F0E000E0F000E0700
0E03800E03C0FFC7F8FFC7F8FFC7F8151C7F9B18>I<7FE000FFE0007FE00000E00000E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
0000E00000E00000E00000E00000E00000E0007FFFC0FFFFE07FFFC0131C7E9B18>I<7CE0E000
FFFBF8007FFFF8001F1F1C001E1E1C001E1E1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C
001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C001C1C1C007F1F1F00FFBFBF807F1F1F001914
819318>I<7E3E00FEFF807FFFC00FC1C00F80E00F00E00E00E00E00E00E00E00E00E00E00E00E
00E00E00E00E00E00E00E00E00E00E00E07FC3FCFFE7FE7FC3FC1714809318>I<01F0000FFE00
1FFF003E0F803803807001C07001C0E000E0E000E0E000E0E000E0E000E0F001E07001C07803C0
3C07803E0F801FFF000FFE0001F00013147E9318>I<7E3E00FEFF807FFFC00FC1E00F80E00F00
700E00700E00380E00380E00380E00380E00380E00380F00700F00700F80E00FC1E00FFFC00EFF
800E3E000E00000E00000E00000E00000E00000E00000E00007FC000FFE0007FC000151E809318
>I<01E38007FB801FFF803E1F80380F80700780700780E00380E00380E00380E00380E00380E0
0380700780700780380F803C1F801FFF800FFB8003E38000038000038000038000038000038000
0380000380003FF8003FF8003FF8151E7E9318>I<7F87E0FF9FF07FBFF803F87803F03003E000
03C00003C0000380000380000380000380000380000380000380000380000380007FFE00FFFF00
7FFE0015147F9318>I<07F7003FFF007FFF00780F00E00700E00700E007007C00007FE0001FFC
0003FE00001F00600780E00380E00380F00380F80F00FFFF00FFFC00E7F00011147D9318>I<01
80000380000380000380000380007FFFC0FFFFC0FFFFC003800003800003800003800003800003
80000380000380000380000380400380E00380E00380E001C1C001FFC000FF80003E0013197F98
18>I<7E07E0FE0FE07E07E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E00E0
0E00E00E00E00E00E00E01E00F03E007FFFC03FFFE01FCFC1714809318>I<7F8FF0FF8FF87F8F
F01E03C00E03800E03800E0380070700070700070700038E00038E00038E00038E0001DC0001DC
0001DC0000F80000F80000700015147F9318>I<FF8FF8FF8FF8FF8FF83800E03800E03800E01C
01C01C01C01C71C01CF9C01CF9C01CD9C01CD9C00DDD800DDD800DDD800D8D800F8F800F8F8007
070015147F9318>I<7F8FF07F9FF07F8FF0070700078E00039E0001DC0001F80000F800007000
00F00000F80001DC00039E00038E000707000F07807F8FF0FF8FF87F8FF015147F9318>I<7F8F
F0FF8FF87F8FF00E01C00E03800E0380070380070700070700038700038600038E0001CE0001CE
0000CC0000CC0000DC0000780000780000780000700000700000700000F00000E00079E0007BC0
007F80003F00001E0000151E7F9318>I<3FFFF07FFFF07FFFF07001E07003C0700780000F0000
1E00003C0000F80001F00003C0000780000F00701E00703C0070780070FFFFF0FFFFF0FFFFF014
147F9318>I<0007E0001FE0007FE000780000E00000E00000E00000E00000E00000E00000E000
00E00000E00000E00000E00001E0007FC000FF8000FF80007FC00001E00000E00000E00000E000
00E00000E00000E00000E00000E00000E00000E00000E000007800007FE0001FE00007E013247E
9F18>I<60F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
600424769F18>I<7C0000FF0000FFC00003C00000E00000E00000E00000E00000E00000E00000
E00000E00000E00000E00000E00000F000007FC0003FE0003FE0007FC000F00000E00000E00000
E00000E00000E00000E00000E00000E00000E00000E00000E00003C000FFC000FF00007C000013
247E9F18>I<060C1F1E3FBEFBF8F1F060C00F067C9B18>I E /Fi 6 85
df<0001FC02000F0306003C008C0070005C00E0003C01C0003C0380001C0700001C0F0000181E
0000181E0000083E0000083C0000087C0000087C000000F8000000F8000000F8000000F8000000
F8000000F0000000F0000000F0000000F0000020F0000020F0000040F800004078000040780000
80380001003C0001001C0002000E000C000700100001C0E000003F00001F247AA223>67
D<07FFFFFE007C003E0078001C0078000C00780004007800040078000400F0000400F0000400F0
000400F0040400F0040000F00C0001E0080001E0080001E0380001FFF80001E0380001E0180003
C0100003C0100003C0100003C0100403C0000803C0000807800008078000100780001007800030
07800020078000600F0001E00F8007C0FFFFFFC01F227DA121>69 D<07FC003FF0007C00078000
7E000300005E000200005F000200004F000200004F800200008780040000878004000083C00400
0083C004000081E004000081E004000100F008000100F008000100780800010078080001003C08
0001003C080002001E100002001E100002001F100002000F100002000F90000200079000040007
A000040003E000040003E000040001E000040001E0000C0000E0000C0000C0003E00004000FFC0
00400024227DA125>78 D<0001FC00000E0700003801C0007000E001E000F003C0007807800078
0700003C0F00003C1E00003C1E00003E3C00003E3C00003E7C00003E7C00003EF800003EF80000
3EF800003EF800003EF800003EF800007CF000007CF000007CF00000F8F00000F8F80000F0F800
01F0780001E0780003C0780007803C0007001C000E000E001C000700780003C1E000007F00001F
247AA226>I<000FC0800030318000C00B0001800700038007000300030007000300070003000E
0002000E0002000F0002000F0000000F0000000F80000007E0000007FE000003FFC00001FFE000
007FF000000FF8000000F8000000780000003C0000003C0000003C0020003C0040003800400038
0040003800600030006000700060006000F000C000E8018000C607000081FC000019247DA21B>
83 D<1FFFFFFE3C03E03E3803C00C3003C0042003C0046003C0044003C00440078004C0078004
80078004800780040007800000078000000F0000000F0000000F0000000F0000000F0000000F00
00001E0000001E0000001E0000001E0000001E0000001E0000003C0000003C0000003C0000003C
0000003C0000003C0000007C000000FC00001FFFF0001F227AA123>I E
/Fj 1 59 df<70F8F8F87005057C840E>58 D E /Fk 61 124 df<000FF000007FFC0001F80E00
03E01F0007C03F000F803F000F803F000F801E000F800C000F8000000F8000000F8000000F8000
00FFFFFF00FFFFFF000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F80
1F000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F801F000F
801F007FF0FFE07FF0FFE01B237FA21F>12 D<387CFEFFFF7F3B03030706060C1C18702008117C
8610>44 D<FFFCFFFCFFFCFFFC0E047F8C13>I<387CFEFEFE7C3807077C8610>I<000018000038
0000380000700000700000E00000E00000E00001C00001C0000380000380000380000700000700
000700000E00000E00001C00001C00001C0000380000380000700000700000700000E00000E000
01C00001C00001C0000380000380000700000700000700000E00000E00000E00001C00001C0000
380000380000380000700000700000E00000E00000C0000015317DA41C>I<00180000780001F8
00FFF800FFF80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8
0001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8
0001F8007FFFE07FFFE013207C9F1C>49 D<03FC000FFF003C1FC07007E07C07F0FE03F0FE03F8
FE03F8FE01F87C01F83803F80003F80003F00003F00007E00007C0000F80001F00003E00003800
00700000E01801C0180380180700180E00380FFFF01FFFF03FFFF07FFFF0FFFFF0FFFFF015207D
9F1C>I<00FE0007FFC00F07E01E03F03F03F03F81F83F81F83F81F81F03F81F03F00003F00003
E00007C0001F8001FE0001FF000007C00001F00001F80000FC0000FC3C00FE7E00FEFF00FEFF00
FEFF00FEFF00FC7E01FC7801F81E07F00FFFC001FE0017207E9F1C>I<0000E00001E00003E000
03E00007E0000FE0001FE0001FE00037E00077E000E7E001C7E00187E00307E00707E00E07E00C
07E01807E03807E07007E0E007E0FFFFFEFFFFFE0007E00007E00007E00007E00007E00007E000
07E000FFFE00FFFE17207E9F1C>I<1000201E01E01FFFC01FFF801FFF001FFE001FF8001BC000
18000018000018000018000019FC001FFF001E0FC01807E01803E00003F00003F00003F80003F8
3803F87C03F8FE03F8FE03F8FC03F0FC03F07007E03007C01C1F800FFF0003F80015207D9F1C>
I<001F8000FFE003F07007C0F00F01F81F01F83E01F83E01F87E00F07C00007C0000FC0800FC7F
C0FCFFE0FD80F0FF00F8FE007CFE007CFC007EFC007EFC007EFC007E7C007E7C007E7C007E3C00
7C3E007C1E00F80F00F00783E003FFC000FF0017207E9F1C>I<387CFEFEFE7C38000000000000
0000387CFEFEFE7C3807167C9510>58 D<000070000000007000000000F800000000F800000000
F800000001FC00000001FC00000003FE00000003FE00000003FE00000006FF000000067F000000
0E7F8000000C3F8000000C3F800000183FC00000181FC00000381FE00000300FE00000300FE000
00600FF000006007F00000E007F80000FFFFF80000FFFFF800018001FC00018001FC00038001FE
00030000FE00030000FE000600007F000600007F00FFE00FFFF8FFE00FFFF825227EA12A>65
D<0003FE0080001FFF818000FF01E38001F8003F8003E0001F8007C0000F800F800007801F8000
07803F000003803F000003807F000001807E000001807E00000180FE00000000FE00000000FE00
000000FE00000000FE00000000FE00000000FE00000000FE000000007E000000007E000001807F
000001803F000001803F000003801F800003000F8000030007C000060003F0000C0001F8003800
00FF00F000001FFFC0000003FE000021227DA128>67 D<FFFFFF8000FFFFFFF00007F003FC0007
F0007E0007F0003F0007F0001F8007F0000FC007F00007E007F00007E007F00007F007F00003F0
07F00003F007F00003F007F00003F807F00003F807F00003F807F00003F807F00003F807F00003
F807F00003F807F00003F807F00003F807F00003F007F00003F007F00003F007F00007E007F000
07E007F0000FC007F0001F8007F0003F0007F0007E0007F003FC00FFFFFFF000FFFFFF80002522
7EA12B>I<FFFFFFFCFFFFFFFC07F000FC07F0003C07F0001C07F0000C07F0000E07F0000E07F0
000607F0180607F0180607F0180607F0180007F0380007F0780007FFF80007FFF80007F0780007
F0380007F0180007F0180007F0180307F0180307F0000307F0000607F0000607F0000607F0000E
07F0000E07F0001E07F0003E07F001FCFFFFFFFCFFFFFFFC20227EA125>I<FFFFFFF8FFFFFFF8
07F001F807F0007807F0003807F0001807F0001C07F0001C07F0000C07F0000C07F0180C07F018
0C07F0180007F0180007F0380007F0780007FFF80007FFF80007F0780007F0380007F0180007F0
180007F0180007F0180007F0000007F0000007F0000007F0000007F0000007F0000007F0000007
F00000FFFFE000FFFFE0001E227EA123>I<0003FE0040001FFFC0C0007F00F1C001F8003FC003
F0000FC007C00007C00FC00003C01F800003C03F000001C03F000001C07F000000C07E000000C0
7E000000C0FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE000000
00FE000FFFFC7E000FFFFC7F00001FC07F00001FC03F00001FC03F00001FC01F80001FC00FC000
1FC007E0001FC003F0001FC001FC003FC0007F80E7C0001FFFC3C00003FF00C026227DA12C>I<
FFFF83FFFEFFFF83FFFE07F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001F
C007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007FFFF
FFC007FFFFFFC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0
001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007F0001FC007
F0001FC0FFFF83FFFEFFFF83FFFE27227EA12C>I<FFFFE0FFFFE003F80003F80003F80003F800
03F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F800
03F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F80003F800
FFFFE0FFFFE013227FA115>I<03FFFF03FFFF0007F00007F00007F00007F00007F00007F00007
F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007
F00007F00007F01807F07E07F0FF07F0FF07F0FF07F0FF07E07E0FE07C1FC01FFF0007F8001822
7FA11D>I<FFFF803FFCFFFF803FFC07F000038007F000070007F0000E0007F000180007F00030
0007F000E00007F001C00007F003800007F007000007F00E000007F018000007F038000007F0FC
000007F1FE000007F3FE000007F77F000007FE7F800007F83F800007F01FC00007F01FE00007F0
0FE00007F007F00007F007F80007F003F80007F001FC0007F001FE0007F000FF0007F0007F0007
F0007F8007F0003FC0FFFF83FFFCFFFF83FFFC26227EA12C>I<FFFFE000FFFFE00007F0000007
F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0001807F000
1807F0001807F0001807F0003807F0003807F0007007F0007007F000F007F001F007F007F0FFFF
FFF0FFFFFFF01D227EA122>I<FFF000000FFFFFF800001FFF07F800001FE006FC000037E006FC
000037E006FC000037E0067E000067E0067E000067E0063F0000C7E0063F0000C7E0061F800187
E0061F800187E0060FC00307E0060FC00307E0060FC00307E00607E00607E00607E00607E00603
F00C07E00603F00C07E00601F81807E00601F81807E00601F81807E00600FC3007E00600FC3007
E006007E6007E006007E6007E006003FC007E006003FC007E006001F8007E006001F8007E00600
1F8007E006000F0007E0FFF00F00FFFFFFF00600FFFF30227EA135>I<FFF8001FFEFFFC001FFE
07FC0000C007FE0000C006FF0000C0067F8000C0063FC000C0061FE000C0060FE000C0060FF000
C00607F800C00603FC00C00601FE00C00600FE00C00600FF00C006007F80C006003FC0C006001F
E0C006000FF0C0060007F0C0060007F8C0060003FCC0060001FEC0060000FFC00600007FC00600
007FC00600003FC00600001FC00600000FC006000007C006000003C006000003C0FFF00001C0FF
F00000C027227EA12C>I<0007FC0000003FFF800000FC07E00003F001F80007E000FC000FC000
7E001F80003F001F80003F003F00001F803F00001F807F00001FC07E00000FC07E00000FC0FE00
000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE
00000FE07E00000FC07F00001FC07F00001FC03F00001F803F80003F801F80003F000FC0007E00
07E000FC0003F001F80000FC07E000003FFF80000007FC000023227DA12A>I<FFFFFF00FFFFFF
E007F007F007F001FC07F000FC07F0007E07F0007E07F0007F07F0007F07F0007F07F0007F07F0
007F07F0007E07F0007E07F000FC07F001FC07F007F007FFFFE007FFFF0007F0000007F0000007
F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F00000FFFF8000FFFF800020227EA126>I<FFFFFE0000FFFFFFC00007F007F00007F001F800
07F000FC0007F0007E0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F0007F
0007F0007E0007F000FC0007F001F80007F007F00007FFFFC00007FFFF800007F00FE00007F007
F00007F003F80007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F001FC0007F0
01FC0007F001FC0007F001FC0607F000FE0607F000FF0CFFFF803FF8FFFF800FF027227EA12A>
82 D<01FC0407FF8C1F03FC3C007C7C003C78001C78001CF8000CF8000CFC000CFC0000FF0000
FFE0007FFF007FFFC03FFFF01FFFF80FFFFC03FFFE003FFE0003FF00007F00003F00003FC0001F
C0001FC0001FE0001EE0001EF0003CFC003CFF00F8C7FFE080FF8018227DA11F>I<7FFFFFFF80
7FFFFFFF807E03F80F807803F807807003F803806003F80180E003F801C0E003F801C0C003F800
C0C003F800C0C003F800C0C003F800C00003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8000003
FFFFF80003FFFFF80022227EA127>I<FFFF803FFCFFFF803FFC07F000018007F000018007F000
018007F000018007F000018007F000018007F000018007F000018007F000018007F000018007F0
00018007F000018007F000018007F000018007F000018007F000018007F000018007F000018007
F000018007F000018007F000018007F000018007F000018007F000018003F000030003F8000300
01F800060000FC000E00007E001C00003F80F800000FFFE0000001FF000026227EA12B>I<FFFF
800FFEFFFF800FFE07F00000C007F80000C003F800018003F800018001FC00030001FC00030001
FE00070000FE00060000FF000600007F000C00007F800C00003F801800003F801800003FC03800
001FC03000001FE03000000FE06000000FF060000007F0C0000007F0C0000007F9C0000003F980
000003FD80000001FF00000001FF00000000FE00000000FE00000000FE000000007C000000007C
00000000380000000038000027227FA12A>I<FFFF0FFFF01FFEFFFF0FFFF01FFE0FF000FF0000
E007F0007F0000C007F0007F0000C003F8007F80018003F8003F80018003FC003F80038001FC00
3FC0030001FC003FC0030000FE007FE0060000FE006FE0060000FF006FE00600007F00C7F00C00
007F00C7F00C00007F80C7F81C00003F8183F81800003F8183F81800001FC383FC3000001FC301
FC3000001FE301FC3000000FE600FE6000000FE600FE6000000FF600FFE0000007FC007FC00000
07FC007FC0000003FC007F80000003F8003F80000003F8003F80000001F0001F00000001F0001F
00000000F0001E00000000E0000E00000000E0000E000037227FA13A>I<7FFFC1FFF07FFFC1FF
F003FC000C0001FE00180000FE00380000FF007000007F806000003F80C000003FC1C000001FE3
8000000FE30000000FF700000007FE00000003FC00000003FC00000001FE00000000FE00000000
FF00000000FF80000001FFC0000001BFC00000031FE00000070FF000000E0FF000000C07F80000
1803FC00003803FC00003001FE00006000FF0000E000FF0001C0007F800180003FC0FFFC03FFFE
FFFC03FFFE27227FA12A>I<FFFF800FFEFFFF800FFE07F80000C007F80001C003FC00018001FE
00030001FE00070000FF00060000FF000C00007F801C00003FC01800003FC03000001FE0700000
0FF06000000FF0E0000007F8C0000003FD80000003FF80000001FF00000001FE00000000FE0000
0000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00
000000FE00000000FE00000000FE0000001FFFF000001FFFF00027227FA12A>I<07FC001FFF80
3F07C03F03E03F01E03F01F01E01F00001F00001F0003FF003FDF01FC1F03F01F07E01F0FC01F0
FC01F0FC01F0FC01F07E02F07E0CF81FF87F07E03F18167E951B>97 D<FF000000FF0000001F00
00001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F
0000001F0FE0001F3FF8001FF07C001F801E001F001F001F000F801F000F801F000FC01F000FC0
1F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F000F801F001F801F801F001FC03E
001EE07C001C3FF800180FC0001A237EA21F>I<00FF8007FFE00F83F01F03F03E03F07E03F07C
01E07C0000FC0000FC0000FC0000FC0000FC0000FC00007C00007E00007E00003E00301F00600F
C0E007FF8000FE0014167E9519>I<0001FE000001FE0000003E0000003E0000003E0000003E00
00003E0000003E0000003E0000003E0000003E0000003E0000003E0001FC3E0007FFBE000F81FE
001F007E003E003E007E003E007C003E00FC003E00FC003E00FC003E00FC003E00FC003E00FC00
3E00FC003E00FC003E007C003E007C003E003E007E001E00FE000F83BE0007FF3FC001FC3FC01A
237EA21F>I<00FE0007FF800F87C01E01E03E01F07C00F07C00F8FC00F8FC00F8FFFFF8FFFFF8
FC0000FC0000FC00007C00007C00007E00003E00181F00300FC07003FFC000FF0015167E951A>
I<003F8000FFC001E3E003C7E007C7E00F87E00F83C00F80000F80000F80000F80000F80000F80
00FFFC00FFFC000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80
000F80000F80000F80000F80000F80000F80000F80007FF8007FF80013237FA211>I<03FC1E0F
FF7F1F0F8F3E07CF3C03C07C03E07C03E07C03E07C03E07C03E03C03C03E07C01F0F801FFF0013
FC003000003000003800003FFF801FFFF00FFFF81FFFFC3800FC70003EF0001EF0001EF0001EF0
001E78003C7C007C3F01F80FFFE001FF0018217E951C>I<FF000000FF0000001F0000001F0000
001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F07
E0001F1FF8001F307C001F403C001F803E001F803E001F003E001F003E001F003E001F003E001F
003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E00
FFE1FFC0FFE1FFC01A237EA21F>I<1C003E007F007F007F003E001C0000000000000000000000
00000000FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F00FFE0FFE00B247EA310>I<FF000000FF0000001F0000001F0000001F0000001F0000
001F0000001F0000001F0000001F0000001F0000001F0000001F0000001F00FF801F00FF801F00
38001F0060001F01C0001F0380001F0700001F0E00001F1C00001F7E00001FFF00001FCF00001F
0F80001F07C0001F03E0001F01E0001F01F0001F00F8001F007C001F003C00FFE0FFC0FFE0FFC0
1A237EA21E>107 D<FF00FF001F001F001F001F001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00FFE0FF
E00B237EA210>I<FF07F007F000FF1FFC1FFC001F303E303E001F403E403E001F801F801F001F
801F801F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F00
1F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F001F
001F001F001F001F001F00FFE0FFE0FFE0FFE0FFE0FFE02B167E9530>I<FF07E000FF1FF8001F
307C001F403C001F803E001F803E001F003E001F003E001F003E001F003E001F003E001F003E00
1F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E00FFE1FFC0FFE1FF
C01A167E951F>I<00FE0007FFC00F83E01E00F03E00F87C007C7C007C7C007CFC007EFC007EFC
007EFC007EFC007EFC007EFC007E7C007C7C007C3E00F81F01F00F83E007FFC000FE0017167E95
1C>I<FF0FE000FF3FF8001FF07C001F803E001F001F001F001F801F001F801F000FC01F000FC0
1F000FC01F000FC01F000FC01F000FC01F000FC01F000FC01F001F801F001F801F803F001FC03E
001FE0FC001F3FF8001F0FC0001F0000001F0000001F0000001F0000001F0000001F0000001F00
00001F000000FFE00000FFE000001A207E951F>I<00FE030007FF87000FC1C7001F006F003F00
3F007E003F007E001F007C001F00FC001F00FC001F00FC001F00FC001F00FC001F00FC001F00FC
001F007E001F007E001F003E003F001F007F000FC1DF0007FF9F0001FC1F0000001F0000001F00
00001F0000001F0000001F0000001F0000001F0000001F000000FFE00000FFE01B207E951E>I<
FE1F00FE3FC01E67E01EC7E01E87E01E87E01F83C01F00001F00001F00001F00001F00001F0000
1F00001F00001F00001F00001F00001F00001F0000FFF000FFF00013167E9517>I<0FF3003FFF
00781F00600700E00300E00300F00300FC00007FE0007FF8003FFE000FFF0001FF00000F80C007
80C00380E00380E00380F00700FC0E00EFFC00C7F00011167E9516>I<01800001800001800001
80000380000380000780000780000F80003F8000FFFF00FFFF000F80000F80000F80000F80000F
80000F80000F80000F80000F80000F80000F80000F81800F81800F81800F81800F81800F830007
C30003FE0000F80011207F9F16>I<FF01FE00FF01FE001F003E001F003E001F003E001F003E00
1F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E001F003E
001F003E001F007E001F00FE000F81BE0007FF3FC001FC3FC01A167E951F>I<FFE01FE0FFE01F
E00F8006000F8006000FC00E0007C00C0007E01C0003E0180003E0180001F0300001F0300000F8
600000F86000007CC000007CC000007FC000003F8000003F8000001F0000001F0000000E000000
0E00001B167F951E>I<FFE7FF07F8FFE7FF07F81F007800C00F807801800F807C01800F807C01
8007C07E030007C0DE030007E0DE070003E0DF060003E18F060001F18F0C0001F38F8C0001FB07
9C0000FB07D80000FE03D800007E03F000007E03F000007C01F000003C01E000003800E0000018
00C00025167F9528>I<FFE07FC0FFE07FC00F801C0007C0380003E0700003F0600001F8C00000
F98000007F8000003F0000001F0000001F8000003FC0000037C0000063E00000C1F00001C0F800
0380FC0007007E000E003E00FF80FFE0FF80FFE01B167F951E>I<FFE01FE0FFE01FE00F800600
0F8006000FC00E0007C00C0007E01C0003E0180003E0180001F0300001F0300000F8600000F860
00007CC000007CC000007FC000003F8000003F8000001F0000001F0000000E0000000E0000000C
0000000C00000018000078180000FC380000FC300000FC60000069C000007F8000001F0000001B
207F951E>I<7FFFF07FFFF07C03E07007C0600FC0E01F80C01F00C03E00C07E0000FC0000F800
01F00003F03007E03007C0300F80701F80703F00603E00E07C03E0FFFFE0FFFFE014167E9519>
I<FFFFFFE0FFFFFFE01B02808E1C>I E /Fl 35 121 df<000001E00000000003F0000000000F
F0000000003FF000000000FFF00000000FFFF0000003FFFFF00000FFFFFFF00000FFFFFFF00000
FFFFFFF00000FFF0FFF00000FC00FFF000000000FFF000000000FFF000000000FFF000000000FF
F000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF00000
0000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FF
F000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF00000
0000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FF
F000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF00000
0000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FF
F000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF000000000FFF00000
0000FFF000000000FFF000003FFFFFFFFFC03FFFFFFFFFC03FFFFFFFFFC03FFFFFFFFFC03FFFFF
FFFFC02A4478C33B>49 D<0000FFE00000000FFFFE0000003FFFFFC00000FFFFFFF00003FFFFFF
FC0007FC01FFFE000FE0007FFF001FC0001FFF803F80000FFFC03FE00007FFE07FF80007FFE07F
FC0003FFF0FFFC0003FFF0FFFE0001FFF8FFFE0001FFF8FFFE0001FFF8FFFE0000FFFCFFFE0000
FFFC7FFC0000FFFC7FFC0000FFFC3FF80000FFFC1FF00000FFFC0FE00000FFFC00000001FFFC00
000001FFF800000001FFF800000001FFF000000003FFF000000003FFE000000003FFE000000007
FFC000000007FF800000000FFF800000001FFF000000001FFE000000003FFC000000007FF80000
00007FE000000000FFC000000001FF8000000003FF0000000007FC000000000FF8000000001FF0
000000003FC0000000007F80007C0000FF00007C0000FE00007C0001FC00007C0003F00000F800
07E00000F8000FC00000F8001F800000F8003F000001F8007C000003F800FFFFFFFFF801FFFFFF
FFF003FFFFFFFFF007FFFFFFFFF00FFFFFFFFFF01FFFFFFFFFF03FFFFFFFFFF07FFFFFFFFFF07F
FFFFFFFFF0FFFFFFFFFFE0FFFFFFFFFFE0FFFFFFFFFFE0FFFFFFFFFFE02E447AC33B>I<00007F
F800000003FFFF8000000FFFFFF000003FFFFFFC0000FFC03FFF0001FE000FFF8003F80007FFC0
03F00003FFE007F80003FFE00FFE0003FFF00FFF0001FFF00FFF8001FFF81FFF8001FFF81FFF80
01FFF81FFF8001FFF81FFF8001FFF81FFF8001FFF80FFF8001FFF80FFF0003FFF007FF0003FFF0
03FE0003FFF001F80003FFE000000003FFE000000007FFC000000007FF800000000FFF00000000
1FFE000000001FFC000000007FF800000001FFE0000001FFFF80000001FFFE00000001FFFFC000
0001FFFFF0000000003FFC000000000FFF0000000007FFC000000003FFE000000003FFF0000000
01FFF800000001FFF800000001FFFC00000000FFFC00000000FFFE00000000FFFE03C00000FFFF
0FF00000FFFF3FFC0000FFFF3FFC0000FFFF7FFE0000FFFF7FFE0000FFFFFFFF0000FFFFFFFF00
00FFFFFFFF0000FFFEFFFF0000FFFEFFFF0000FFFEFFFE0001FFFC7FFE0001FFFC7FFC0001FFF8
3FF80003FFF83FE00003FFF01FC00007FFE00FF8000FFFC007FF803FFF8003FFFFFFFE0000FFFF
FFFC00003FFFFFF0000007FFFF800000007FF8000030457BC33B>I<000000000F800000000000
1FC000000000003FC000000000003FC000000000007FC00000000000FFC00000000001FFC00000
000003FFC00000000003FFC00000000007FFC0000000000FFFC0000000001FFFC0000000001FFF
C0000000003FFFC0000000007FFFC000000000FFFFC000000001FBFFC000000001F3FFC0000000
03E3FFC000000007E3FFC00000000FC3FFC00000001F83FFC00000001F03FFC00000003E03FFC0
0000007E03FFC0000000FC03FFC0000001F803FFC0000001F003FFC0000003E003FFC0000007E0
03FFC000000FC003FFC000001F8003FFC000001F0003FFC000003E0003FFC000007E0003FFC000
00FC0003FFC00000F80003FFC00001F00003FFC00003F00003FFC00007E00003FFC0000FC00003
FFC0000F800003FFC0001F000003FFC0003F000003FFC0007E000003FFC000FC000003FFC000FF
FFFFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFFFFF0FFFFFFFFFFFFF000000007FF
C00000000007FFC00000000007FFC00000000007FFC00000000007FFC00000000007FFC0000000
0007FFC00000000007FFC00000000007FFC00000000007FFC00000000007FFC00000000007FFC0
0000007FFFFFFFF000007FFFFFFFF000007FFFFFFFF000007FFFFFFFF000007FFFFFFFF034447D
C33B>I<03000000038007F000001F8007FF0003FF8007FFFFFFFF8007FFFFFFFF0007FFFFFFFE
0007FFFFFFFC0007FFFFFFF80007FFFFFFF00007FFFFFFE00007FFFFFFC00007FFFFFF000007FF
FFFE000007FFFFF8000007FFFFC0000007DFFC00000007C00000000007C00000000007C0000000
0007C00000000007C00000000007C00000000007C00000000007C00000000007C00000000007C0
0000000007C07FF8000007C3FFFF000007CFFFFFE00007FFFFFFF00007FFC03FFC0007FE000FFE
0007F80007FF0007E00007FF8007C00003FFC003800003FFE000000003FFE000000001FFF00000
0001FFF000000001FFF800000001FFF800000001FFF800000001FFF800000001FFFC07800001FF
FC1FE00001FFFC3FF00001FFFC7FF80001FFFC7FF80001FFFCFFFC0001FFFCFFFC0001FFFCFFFC
0001FFFCFFFC0001FFF8FFF80001FFF8FFF80001FFF87FF00001FFF07FE00003FFF07F800003FF
E03F000003FFE03F000007FFC01F80000FFF800FE0001FFF0007F0003FFE0003FE00FFFC0001FF
FFFFF80000FFFFFFE000003FFFFF8000000FFFFC00000001FFC000002E457AC33B>I<00000000
03E000000000000000000007F000000000000000000007F00000000000000000000FF800000000
00000000000FF80000000000000000000FF80000000000000000001FFC0000000000000000001F
FC0000000000000000003FFE0000000000000000003FFE0000000000000000007FFF0000000000
000000007FFF0000000000000000007FFF000000000000000000FFFF800000000000000000FFFF
800000000000000001FFFFC00000000000000001FFFFC00000000000000001FFFFC00000000000
000003FFFFE00000000000000003EFFFE00000000000000007EFFFF00000000000000007CFFFF0
0000000000000007C7FFF0000000000000000FC7FFF8000000000000000F83FFF8000000000000
001F83FFFC000000000000001F03FFFC000000000000001F01FFFC000000000000003F01FFFE00
0000000000003E00FFFE000000000000007E00FFFF000000000000007C007FFF00000000000000
FC007FFF80000000000000F8007FFF80000000000000F8003FFF80000000000001F8003FFFC000
0000000001F0001FFFC0000000000003F0001FFFE0000000000003E0001FFFE0000000000003E0
000FFFE0000000000007E0000FFFF0000000000007C00007FFF000000000000FC00007FFF80000
0000000F800007FFF800000000000F800003FFF800000000001F800003FFFC00000000001F0000
01FFFC00000000003FFFFFFFFFFE00000000003FFFFFFFFFFE00000000007FFFFFFFFFFF000000
00007FFFFFFFFFFF00000000007FFFFFFFFFFF0000000000FC0000007FFF8000000000F8000000
3FFF8000000001F80000003FFFC000000001F00000003FFFC000000001F00000001FFFC0000000
03F00000001FFFE000000003E00000000FFFE000000007E00000000FFFF000000007C00000000F
FFF000000007C000000007FFF00000000FC000000007FFF80000000F8000000003FFF80000001F
8000000003FFFC0000001F0000000003FFFC0000007FC000000001FFFC0000FFFFFFC00007FFFF
FFFF80FFFFFFC00007FFFFFFFF80FFFFFFC00007FFFFFFFF80FFFFFFC00007FFFFFFFF80FFFFFF
C00007FFFFFFFF8051487CC75A>65 D<000000003FFE00000E0000000FFFFFC0001E0000007FFF
FFF8003E000003FFFFFFFE00FE00000FFFFFFFFF81FE00003FFFF800FFC3FE0000FFFF80000FF7
FE0001FFFC000003FFFE0007FFF0000001FFFE000FFFC00000007FFE001FFF800000003FFE003F
FF000000001FFE007FFE000000000FFE00FFFC0000000007FE01FFF80000000007FE03FFF00000
000003FE03FFF00000000001FE07FFE00000000001FE07FFE00000000000FE0FFFC00000000000
FE0FFFC000000000007E1FFFC000000000007E1FFF8000000000007E3FFF8000000000007E3FFF
8000000000003E3FFF8000000000003E7FFF8000000000003E7FFF0000000000003E7FFF000000
000000007FFF00000000000000FFFF00000000000000FFFF00000000000000FFFF000000000000
00FFFF00000000000000FFFF00000000000000FFFF00000000000000FFFF00000000000000FFFF
00000000000000FFFF00000000000000FFFF00000000000000FFFF00000000000000FFFF000000
00000000FFFF000000000000007FFF000000000000007FFF000000000000007FFF000000000000
007FFF8000000000003E3FFF8000000000003E3FFF8000000000003E3FFF8000000000003E1FFF
8000000000003E1FFFC000000000003E0FFFC000000000007C0FFFC000000000007C07FFE00000
0000007C07FFE00000000000F803FFF00000000000F803FFF00000000001F801FFF80000000001
F000FFFC0000000003E0007FFE0000000007E0003FFF000000000FC0001FFF800000001F80000F
FFC00000003F000007FFF0000000FE000001FFFC000001FC000000FFFF80000FF80000003FFFF8
007FF00000000FFFFFFFFFC000000003FFFFFFFF00000000007FFFFFFC00000000000FFFFFE000
00000000003FFE000000474979C756>67 D<FFFFFFFFFFFFC0000000FFFFFFFFFFFFFE000000FF
FFFFFFFFFFFFC00000FFFFFFFFFFFFFFF00000FFFFFFFFFFFFFFFC0000001FFF800007FFFF0000
001FFF8000007FFF8000001FFF8000000FFFE000001FFF80000007FFF000001FFF80000001FFF8
00001FFF80000000FFFC00001FFF800000007FFE00001FFF800000003FFF00001FFF800000001F
FF00001FFF800000000FFF80001FFF800000000FFFC0001FFF8000000007FFC0001FFF80000000
07FFE0001FFF8000000003FFE0001FFF8000000003FFF0001FFF8000000003FFF0001FFF800000
0003FFF8001FFF8000000001FFF8001FFF8000000001FFF8001FFF8000000001FFFC001FFF8000
000001FFFC001FFF8000000001FFFC001FFF8000000001FFFC001FFF8000000001FFFC001FFF80
00000001FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF
8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001F
FF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE001FFF8000000000FFFE00
1FFF8000000000FFFE001FFF8000000001FFFE001FFF8000000001FFFC001FFF8000000001FFFC
001FFF8000000001FFFC001FFF8000000001FFFC001FFF8000000001FFF8001FFF8000000001FF
F8001FFF8000000001FFF8001FFF8000000003FFF0001FFF8000000003FFF0001FFF8000000003
FFF0001FFF8000000007FFE0001FFF8000000007FFE0001FFF800000000FFFC0001FFF80000000
0FFF80001FFF800000001FFF80001FFF800000003FFF00001FFF800000003FFE00001FFF800000
007FFC00001FFF80000001FFF800001FFF80000003FFF000001FFF8000000FFFE000001FFF8000
007FFFC000001FFF800003FFFF0000FFFFFFFFFFFFFFFE0000FFFFFFFFFFFFFFF80000FFFFFFFF
FFFFFFC00000FFFFFFFFFFFFFE000000FFFFFFFFFFFFC00000004F477CC65B>I<000000003FFE
00000E000000000FFFFFC0001E000000007FFFFFF8003E00000003FFFFFFFE00FE0000000FFFFF
FFFF81FE0000003FFFF800FFC3FE000000FFFF80000FF7FE000001FFFC000003FFFE000007FFF0
000001FFFE00000FFFC00000007FFE00001FFF800000003FFE00003FFF000000001FFE00007FFE
000000000FFE0000FFFC0000000007FE0001FFF80000000007FE0003FFF00000000003FE0003FF
F00000000001FE0007FFE00000000001FE0007FFE00000000000FE000FFFC00000000000FE000F
FFC000000000007E001FFFC000000000007E001FFF8000000000007E003FFF8000000000007E00
3FFF8000000000003E003FFF8000000000003E007FFF8000000000003E007FFF0000000000003E
007FFF00000000000000007FFF0000000000000000FFFF0000000000000000FFFF000000000000
0000FFFF0000000000000000FFFF0000000000000000FFFF0000000000000000FFFF0000000000
000000FFFF0000000000000000FFFF0000000000000000FFFF0000000000000000FFFF00000000
00000000FFFF0000000000000000FFFF0000000000000000FFFF0000007FFFFFFFFE7FFF000000
7FFFFFFFFE7FFF0000007FFFFFFFFE7FFF8000007FFFFFFFFE7FFF8000007FFFFFFFFE3FFF8000
000000FFFE003FFF8000000000FFFE003FFF8000000000FFFE001FFF8000000000FFFE001FFFC0
00000000FFFE000FFFC000000000FFFE000FFFC000000000FFFE0007FFE000000000FFFE0007FF
E000000000FFFE0003FFF000000000FFFE0003FFF800000000FFFE0001FFF800000000FFFE0000
FFFC00000000FFFE00007FFE00000000FFFE00003FFF00000000FFFE00001FFF80000000FFFE00
000FFFE0000001FFFE000007FFF0000003FFFE000001FFFC000007FFFE000000FFFF80001FFFFE
0000003FFFFC00FFC7FE0000000FFFFFFFFF83FE00000003FFFFFFFE00FE000000007FFFFFF800
3E000000000FFFFFE0000E00000000003FFE000000004F4979C75D>71 D<FFFFFFFFF801FFFFFF
FFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFF
F801FFFFFFFFF0001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF80
00001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC000
00003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000
001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000
003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF800000
1FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC0000000
3FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001F
FFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFFFFFFFFFFF
FF8000001FFFFFFFFFFFFFFF8000001FFFFFFFFFFFFFFF8000001FFFFFFFFFFFFFFF8000001FFF
FFFFFFFFFFFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF
8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC0
0000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF80
00001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC000
00003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000
001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000
003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF800000
1FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC00000003FFF8000001FFFC0000000
3FFF8000001FFFC00000003FFF8000FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFF
FFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF0FFFFFFFFF801FFFFFFFFF054477CC65D>I<FF
FFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFE000FFFE000000FFFE000000FFFE000
000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE0
00000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFF
E000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000F
FFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE00000
0FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000
000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE0
00000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFFE000000FFF
E000000FFFE000000FFFE000000FFFE000FFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFF
FFFFFE27477DC62D>I<FFFFFFFFFF000000FFFFFFFFFF000000FFFFFFFFFF000000FFFFFFFFFF
000000FFFFFFFFFF000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC0
00000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFF
C000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001F
FFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC00000000000
1FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000
001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC0000000
00001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC00000
0000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000000000001FFFC000
000000001FFFC0000000F8001FFFC0000000F8001FFFC0000000F8001FFFC0000000F8001FFFC0
000001F0001FFFC0000001F0001FFFC0000001F0001FFFC0000001F0001FFFC0000001F0001FFF
C0000003F0001FFFC0000003F0001FFFC0000003F0001FFFC0000007F0001FFFC0000007F0001F
FFC000000FE0001FFFC000001FE0001FFFC000001FE0001FFFC000003FE0001FFFC000007FE000
1FFFC00000FFE0001FFFC00003FFE0001FFFC0000FFFE0001FFFC0007FFFE0FFFFFFFFFFFFFFC0
FFFFFFFFFFFFFFC0FFFFFFFFFFFFFFC0FFFFFFFFFFFFFFC0FFFFFFFFFFFFFFC03D477CC647>76
D<FFFFFFFFFFFC0000000000FFFFFFFFFFFFF000000000FFFFFFFFFFFFFE00000000FFFFFFFFFF
FFFF80000000FFFFFFFFFFFFFFE0000000001FFF80001FFFF8000000001FFF800001FFFC000000
001FFF8000007FFF000000001FFF8000003FFF800000001FFF8000001FFF800000001FFF800000
0FFFC00000001FFF8000000FFFE00000001FFF8000000FFFE00000001FFF80000007FFF0000000
1FFF80000007FFF00000001FFF80000007FFF80000001FFF80000007FFF80000001FFF80000007
FFF80000001FFF80000007FFF80000001FFF80000007FFF80000001FFF80000007FFF80000001F
FF80000007FFF80000001FFF80000007FFF80000001FFF80000007FFF00000001FFF80000007FF
F00000001FFF8000000FFFE00000001FFF8000000FFFE00000001FFF8000000FFFC00000001FFF
8000001FFF800000001FFF8000003FFF000000001FFF800000FFFE000000001FFF800003FFF800
0000001FFF80001FFFF0000000001FFFFFFFFFFFC0000000001FFFFFFFFFFE00000000001FFFFF
FFFFF800000000001FFFFFFFFFFE00000000001FFF80007FFF80000000001FFF80001FFFC00000
00001FFF800007FFE0000000001FFF800003FFF0000000001FFF800001FFF8000000001FFF8000
01FFFC000000001FFF800000FFFE000000001FFF800000FFFE000000001FFF8000007FFE000000
001FFF8000007FFF000000001FFF8000007FFF000000001FFF8000007FFF000000001FFF800000
7FFF000000001FFF8000007FFF000000001FFF8000007FFF000000001FFF8000007FFF00000000
1FFF8000007FFF800000001FFF8000007FFF800000001FFF8000007FFF800000001FFF8000007F
FF800000001FFF8000007FFF800000001FFF8000007FFF8000E0001FFF8000007FFF8001F0001F
FF8000007FFFC001F0001FFF8000007FFFC001F0001FFF8000003FFFC001F0001FFF8000003FFF
C003F0001FFF8000001FFFE003E0001FFF8000000FFFE007E0FFFFFFFFF00007FFF007C0FFFFFF
FFF00003FFFC1F80FFFFFFFFF00001FFFFFF00FFFFFFFFF000007FFFFE00FFFFFFFFF000001FFF
FC000000000000000000FFF00054487CC659>82 D<00007FF00007000007FFFF000F00001FFFFF
C01F00007FFFFFF03F0000FFFFFFFC7F0003FFC00FFEFF0007FE0000FFFF0007FC00003FFF000F
F000001FFF001FF0000007FF001FE0000003FF003FE0000001FF003FC0000001FF007FC0000000
FF007FC00000007F007FC00000007F00FFC00000003F00FFC00000003F00FFC00000003F00FFE0
0000003F00FFE00000001F00FFF00000001F00FFF80000001F00FFFC0000001F00FFFF00000000
007FFFC0000000007FFFFE000000007FFFFFE00000003FFFFFFF0000003FFFFFFFF000001FFFFF
FFFC00001FFFFFFFFF00000FFFFFFFFFC00007FFFFFFFFE00007FFFFFFFFF00003FFFFFFFFF800
00FFFFFFFFFC00007FFFFFFFFE00003FFFFFFFFE00000FFFFFFFFF000001FFFFFFFF0000003FFF
FFFF80000001FFFFFF800000000FFFFFC000000000FFFFC0000000001FFFC0000000000FFFE000
00000007FFE00000000003FFE07800000001FFE0F800000000FFE0F800000000FFE0F800000000
7FE0F8000000007FE0F8000000007FE0FC000000007FE0FC000000007FC0FC000000007FC0FE00
0000007FC0FE000000007F80FF00000000FF80FF80000000FF80FFC0000000FF00FFE0000001FE
00FFF8000003FE00FFFE000007FC00FFFF80000FF800FFFFFC007FF000FE3FFFFFFFE000FC0FFF
FFFF8000F803FFFFFF0000F0007FFFF80000E00003FFC00000334979C742>I<FFFFFFFFC03FFF
FFFFF0001FFFFFF0FFFFFFFFC03FFFFFFFF0001FFFFFF0FFFFFFFFC03FFFFFFFF0001FFFFFF0FF
FFFFFFC03FFFFFFFF0001FFFFFF0FFFFFFFFC03FFFFFFFF0001FFFFFF0007FFF0000001FFFE000
00000FF800007FFF0000000FFFE000000003E000007FFF8000000FFFE000000007E000003FFF80
00000FFFF000000007C000003FFFC0000007FFF000000007C000003FFFC0000007FFF80000000F
C000001FFFC0000003FFF80000000F8000001FFFE0000003FFF80000001F8000000FFFE0000003
FFFC0000001F0000000FFFE0000001FFFC0000001F0000000FFFF0000001FFFE0000003F000000
07FFF0000001FFFE0000003E00000007FFF8000001FFFE0000007E00000003FFF8000003FFFF00
00007C00000003FFF8000003FFFF0000007C00000003FFFC000003FFFF000000FC00000001FFFC
000007FFFF800000F800000001FFFE000007FFFF800000F800000001FFFE000007FFFFC00001F8
00000000FFFE00000F9FFFC00001F000000000FFFF00000F9FFFC00003F0000000007FFF00001F
9FFFE00003E0000000007FFF00001F0FFFE00003E0000000007FFF80001F0FFFE00007E0000000
003FFF80003F0FFFF00007C0000000003FFFC0003E07FFF00007C0000000001FFFC0007E07FFF8
000F80000000001FFFC0007C03FFF8000F80000000001FFFE0007C03FFF8001F80000000000FFF
E000FC03FFFC001F00000000000FFFE000F801FFFC001F00000000000FFFF000F801FFFE003F00
0000000007FFF001F801FFFE003E000000000007FFF801F000FFFE007E000000000003FFF803F0
00FFFF007C000000000003FFF803E0007FFF007C000000000003FFFC03E0007FFF00FC00000000
0001FFFC07E0007FFF80F8000000000001FFFE07C0003FFF80F8000000000001FFFE0FC0003FFF
C1F8000000000000FFFE0F80001FFFC1F0000000000000FFFF0F80001FFFC3F00000000000007F
FF1F80001FFFE3E00000000000007FFF1F00000FFFE3E00000000000007FFF9F00000FFFF7E000
00000000003FFFBF00000FFFF7C00000000000003FFFFE000007FFFFC00000000000001FFFFE00
0007FFFF800000000000001FFFFC000003FFFF800000000000001FFFFC000003FFFF8000000000
00000FFFFC000003FFFF000000000000000FFFF8000001FFFF000000000000000FFFF8000001FF
FF0000000000000007FFF0000000FFFE0000000000000007FFF0000000FFFE0000000000000003
FFF0000000FFFC0000000000000003FFE00000007FFC0000000000000003FFE00000007FFC0000
000000000001FFE00000007FF80000000000000001FFC00000003FF80000000000000001FFC000
00003FF80000000000000000FF800000001FF00000000000000000FF800000001FF00000000000
0000007F800000001FE000000000000000007F000000000FE000000000000000007F000000000F
E000000000000000003E0000000007C00000000074487DC67B>87 D<FFFFFFFFF000000FFFFFF8
FFFFFFFFF000000FFFFFF8FFFFFFFFF000000FFFFFF8FFFFFFFFF000000FFFFFF8FFFFFFFFF000
000FFFFFF8003FFFF0000000001FF000001FFFF0000000000FC000000FFFF8000000001F800000
0FFFFC000000001F80000007FFFC000000003F00000003FFFE000000007E00000003FFFF000000
00FC00000001FFFF00000000FC00000000FFFF80000001F800000000FFFFC0000003F000000000
7FFFC0000003F0000000003FFFE0000007E0000000003FFFF000000FC0000000001FFFF000000F
C0000000000FFFF800001F80000000000FFFFC00003F000000000007FFFC00003F000000000003
FFFE00007E000000000003FFFF0000FC000000000001FFFF0000FC000000000000FFFF8001F800
0000000000FFFFC003F00000000000007FFFC003F00000000000003FFFE007E00000000000003F
FFF00FC00000000000001FFFF00FC00000000000000FFFF81F800000000000000FFFFC3F000000
0000000007FFFC3F0000000000000003FFFE7E0000000000000003FFFFFC0000000000000001FF
FFFC0000000000000000FFFFF80000000000000000FFFFF000000000000000007FFFF000000000
000000003FFFE000000000000000003FFFC000000000000000001FFF8000000000000000001FFF
8000000000000000001FFF8000000000000000001FFF8000000000000000001FFF800000000000
0000001FFF8000000000000000001FFF8000000000000000001FFF8000000000000000001FFF80
00000000000000001FFF8000000000000000001FFF8000000000000000001FFF80000000000000
00001FFF8000000000000000001FFF8000000000000000001FFF8000000000000000001FFF8000
000000000000001FFF8000000000000000001FFF8000000000000000001FFF8000000000000000
001FFF8000000000000000001FFF8000000000000000001FFF8000000000000000001FFF800000
0000000000001FFF8000000000000000FFFFFFFFF8000000000000FFFFFFFFF8000000000000FF
FFFFFFF8000000000000FFFFFFFFF8000000000000FFFFFFFFF800000055477EC65A>89
D<0007FFFC000000007FFFFFC0000001FFFFFFF8000003FFFFFFFE000007FE001FFF000007FF00
03FFC0000FFF8001FFE0000FFF8000FFF0000FFF80007FF0000FFF80007FF8000FFF80007FF800
07FF00003FFC0007FF00003FFC0003FE00003FFC0000F800003FFC00000000003FFC0000000000
3FFC00000000003FFC00000000003FFC00000007FFFFFC000000FFFFFFFC000007FFFFFFFC0000
3FFFE03FFC0000FFFE003FFC0003FFF0003FFC0007FFC0003FFC000FFF00003FFC001FFE00003F
FC003FFC00003FFC007FF800003FFC007FF800003FFC00FFF000003FFC00FFF000003FFC00FFF0
00003FFC00FFF000003FFC00FFF000003FFC00FFF000007FFC007FF80000FFFC007FF80001EFFC
003FFC0003EFFC003FFF0007CFFF000FFFC03F8FFFF807FFFFFF07FFFC01FFFFFC03FFFC007FFF
F001FFFC0003FF80007FF8362E7DAD3A>97 D<00001FFFC0000000FFFFF8000007FFFFFE00001F
FFFFFF80007FFC00FFC000FFE001FFC001FFC003FFE003FF8003FFE007FF0003FFE00FFE0003FF
E00FFE0003FFE01FFC0001FFC01FFC0001FFC03FFC0000FF803FFC00003E007FF8000000007FF8
000000007FF800000000FFF800000000FFF800000000FFF800000000FFF800000000FFF8000000
00FFF800000000FFF800000000FFF800000000FFF800000000FFF8000000007FF8000000007FF8
000000007FFC000000003FFC000000003FFC000000001FFC000000F81FFE000000F80FFE000000
F80FFF000001F007FF800003F003FFC00007E001FFE0000FC000FFF0001F80007FFE00FF00001F
FFFFFE000007FFFFF8000000FFFFE00000001FFE00002D2E7CAD35>99 D<00000000007FC00000
000000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC000
0000000003FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0
000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FF
C0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001
FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC00000000000
01FFC00000000FFC01FFC0000000FFFF81FFC0000007FFFFE1FFC000001FFFFFF9FFC000007FFC
03FFFFC00000FFF0007FFFC00001FFC0001FFFC00003FF80000FFFC00007FF000007FFC0000FFE
000003FFC0000FFE000003FFC0001FFC000003FFC0001FFC000003FFC0003FFC000003FFC0003F
FC000003FFC0007FF8000003FFC0007FF8000003FFC0007FF8000003FFC000FFF8000003FFC000
FFF8000003FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FFC0
00FFF8000003FFC000FFF8000003FFC000FFF8000003FFC000FFF8000003FFC0007FF8000003FF
C0007FF8000003FFC0007FF8000003FFC0003FF8000003FFC0003FFC000003FFC0003FFC000003
FFC0001FFC000003FFC0001FFC000003FFC0000FFE000007FFC00007FF00000FFFC00003FF0000
1FFFC00001FFC0003FFFC00000FFE000FFFFE000007FF807FBFFFF80001FFFFFF3FFFF800007FF
FFC3FFFF800001FFFF03FFFF8000001FF803FFFF8039487CC742>I<00001FFE00000001FFFFE0
000007FFFFF800001FFFFFFE00007FFC07FF0000FFE001FF8001FFC0007FC003FF80003FE007FF
00003FF00FFE00001FF01FFE00000FF81FFC00000FF83FFC00000FFC3FFC000007FC7FFC000007
FC7FF8000007FC7FF8000007FE7FF8000007FEFFF8000007FEFFF8000007FEFFFFFFFFFFFEFFFF
FFFFFFFEFFFFFFFFFFFEFFFFFFFFFFFCFFF800000000FFF800000000FFF800000000FFF8000000
007FF8000000007FF8000000007FFC000000003FFC000000003FFC000000003FFC0000001C1FFE
0000003E0FFE0000003E07FF0000007E07FF000000FC03FF800001F801FFC00003F0007FF0001F
E0003FFE00FFC0001FFFFFFF800007FFFFFE000000FFFFF80000000FFF80002F2E7DAD36>I<00
0000FFC000000007FFF80000003FFFFC000000FFFFFF000001FFC1FF000007FF03FF80000FFC03
FF80000FF807FFC0001FF807FFC0003FF007FFC0003FF007FFC0003FE003FF80007FE003FF8000
7FE001FF00007FE000FE00007FE0003800007FE0000000007FE0000000007FE0000000007FE000
0000007FE0000000007FE0000000007FE0000000007FE0000000007FE0000000007FE0000000FF
FFFFFE0000FFFFFFFE0000FFFFFFFE0000FFFFFFFE0000FFFFFFFE0000007FF0000000007FF000
0000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF000000000
7FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF000
0000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF000000000
7FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF000
0000007FF0000000007FF0000000007FF0000000007FF0000000007FF0000000007FF000000000
7FF0000000007FF00000003FFFFFF800003FFFFFF800003FFFFFF800003FFFFFF800003FFFFFF8
00002A487DC724>I<00000000001F8000007FF000FFE00007FFFF03FFF0001FFFFFC7FFF0007F
FFFFFFC7F800FFE03FFE0FF801FF800FFC0FF803FF0007FE0FF807FE0003FF07F007FE0003FF07
F00FFC0001FF81C00FFC0001FF80000FFC0001FF80001FFC0001FFC0001FFC0001FFC0001FFC00
01FFC0001FFC0001FFC0001FFC0001FFC0001FFC0001FFC0000FFC0001FF80000FFC0001FF8000
0FFC0001FF800007FE0003FF000007FE0003FF000003FF0007FE000001FF800FFC000000FFE03F
F8000001FFFFFFF0000001DFFFFFC0000003C7FFFF00000003C07FF000000007C0000000000007
C0000000000007C0000000000007C0000000000007E0000000000007F0000000000007F8000000
000007FFFFFFF0000007FFFFFFFF000003FFFFFFFFE00003FFFFFFFFF80001FFFFFFFFFE0001FF
FFFFFFFF0000FFFFFFFFFF80007FFFFFFFFF8003FFFFFFFFFFC00FFFFFFFFFFFC01FF800001FFF
E03FE0000001FFE07FC00000007FF07FC00000003FF0FF800000001FF0FF800000001FF0FF8000
00001FF0FF800000001FF0FF800000001FF07FC00000003FE07FC00000003FE03FE00000007FC0
3FF0000000FFC01FFC000003FF800FFF00000FFF0003FFF000FFFC0000FFFFFFFFF000003FFFFF
FFC0000007FFFFFE000000003FFFC0000035447DAE3B>I<007FC00000000000FFFFC000000000
00FFFFC00000000000FFFFC00000000000FFFFC00000000000FFFFC0000000000003FFC0000000
000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC00000
00000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC000
0000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0
000000000001FFC0000000000001FFC0000000000001FFC0000000000001FFC0000000000001FF
C001FFC0000001FFC00FFFF8000001FFC03FFFFE000001FFC0FFFFFF000001FFC1FC07FF800001
FFC3E003FFC00001FFC7C001FFC00001FFCF0001FFE00001FFDE0000FFE00001FFDC0000FFE000
01FFFC0000FFF00001FFF80000FFF00001FFF00000FFF00001FFF00000FFF00001FFF00000FFF0
0001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FF
F00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000
FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE000
00FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE0
0000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FF
E00000FFF00001FFE00000FFF000FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FF
FFFFC07FFFFFE0FFFFFFC07FFFFFE03B487CC742>I<00FC0001FE0003FF0007FF800FFFC01FFF
E01FFFE01FFFE01FFFE01FFFE01FFFE00FFFC007FF8003FF0001FE0000FC000000000000000000
00000000000000000000000000000000000000000000000000007FC0FFFFC0FFFFC0FFFFC0FFFF
C0FFFFC003FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FF
C001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FF
C001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC001FFC0FFFFFFFFFFFFFFFF
FFFFFFFFFFFFFF18497CC820>I<007FC000FFFFC000FFFFC000FFFFC000FFFFC000FFFFC00003
FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC000
01FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC0
0001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FF
C00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001
FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC000
01FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC00001FFC0
0001FFC00001FFC000FFFFFF80FFFFFF80FFFFFF80FFFFFF80FFFFFF8019487CC720>108
D<007FC001FFC00000FFFFC00FFFF80000FFFFC03FFFFE0000FFFFC0FFFFFF0000FFFFC1FC07FF
8000FFFFC3E003FFC00003FFC7C001FFC00001FFCF0001FFE00001FFDE0000FFE00001FFDC0000
FFE00001FFFC0000FFF00001FFF80000FFF00001FFF00000FFF00001FFF00000FFF00001FFF000
00FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE0
0000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FF
E00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001
FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF000
01FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF0
0001FFE00000FFF00001FFE00000FFF000FFFFFFC07FFFFFE0FFFFFFC07FFFFFE0FFFFFFC07FFF
FFE0FFFFFFC07FFFFFE0FFFFFFC07FFFFFE03B2E7CAD42>110 D<00000FFF0000000000FFFFF0
00000007FFFFFE0000001FFFFFFF8000003FFC03FFC00000FFE0007FF00001FF80001FF80003FF
00000FFC0007FE000007FE000FFE000007FF000FFC000003FF001FFC000003FF803FFC000003FF
C03FF8000001FFC03FF8000001FFC07FF8000001FFE07FF8000001FFE07FF8000001FFE0FFF800
0001FFF0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0
FFF8000001FFF0FFF8000001FFF0FFF8000001FFF0FFF8000001FFF07FF8000001FFE07FF80000
01FFE07FF8000001FFE07FF8000001FFE03FFC000003FFC03FFC000003FFC01FFC000003FF801F
FE000007FF800FFE000007FF0007FF00000FFE0003FF80001FFC0001FFC0003FF80000FFE0007F
F000007FFC03FFE000001FFFFFFF80000007FFFFFE00000000FFFFF0000000000FFF000000342E
7DAD3B>I<007FC00FFC000000FFFFC07FFFC00000FFFFC3FFFFF00000FFFFCFFFFFFC0000FFFF
DFF01FFF0000FFFFFF8007FF800003FFFE0001FFC00001FFF80000FFE00001FFF00000FFF00001
FFE000007FF80001FFE000003FFC0001FFE000003FFC0001FFE000003FFE0001FFE000001FFE00
01FFE000001FFF0001FFE000001FFF0001FFE000001FFF0001FFE000000FFF0001FFE000000FFF
8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000F
FF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE000000FFF8001FFE00000
0FFF0001FFE000001FFF0001FFE000001FFF0001FFE000001FFE0001FFE000001FFE0001FFE000
003FFC0001FFE000003FFC0001FFE000007FF80001FFF000007FF80001FFF80000FFF00001FFFC
0001FFE00001FFFE0003FFC00001FFFF0007FF800001FFFFE03FFE000001FFEFFFFFFC000001FF
E3FFFFF0000001FFE0FFFF80000001FFE01FF800000001FFE0000000000001FFE0000000000001
FFE0000000000001FFE0000000000001FFE0000000000001FFE0000000000001FFE00000000000
01FFE0000000000001FFE0000000000001FFE0000000000001FFE0000000000001FFE000000000
0001FFE0000000000001FFE0000000000001FFE00000000000FFFFFFC000000000FFFFFFC00000
0000FFFFFFC000000000FFFFFFC000000000FFFFFFC00000000039427CAD42>I<00FF803F8000
FFFF80FFF000FFFF83FFFC00FFFF87FFFE00FFFF8FC3FF00FFFF8F07FF0003FF9E0FFF8001FFBC
0FFF8001FFB80FFF8001FFF80FFF8001FFF00FFF8001FFF007FF0001FFF007FF0001FFE003FE00
01FFE000F80001FFE000000001FFE000000001FFC000000001FFC000000001FFC000000001FFC0
00000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC0000000
01FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC0
00000001FFC000000001FFC000000001FFC000000001FFC000000001FFC000000001FFC0000000
01FFC0000000FFFFFFE00000FFFFFFE00000FFFFFFE00000FFFFFFE00000FFFFFFE00000292E7C
AD31>114 D<000FFF00E0007FFFF3E001FFFFFFE007FFFFFFE00FF800FFE01FC0001FE03F8000
0FE03F000007E07F000003E07F000003E0FF000003E0FF000003E0FF800003E0FFC0000000FFF0
000000FFFE000000FFFFF800007FFFFFC0007FFFFFF0003FFFFFFC001FFFFFFF000FFFFFFF8007
FFFFFFC003FFFFFFE000FFFFFFF0003FFFFFF00003FFFFF800001FFFF8000000FFFC0000001FFC
7800000FFCF8000007FCF8000003FCFC000003FCFC000003FCFE000003F8FE000003F8FF000003
F8FF800007F0FFC0000FF0FFF0001FE0FFFC00FFC0FFFFFFFF80FC7FFFFE00F81FFFF800E003FF
8000262E7CAD2F>I<0001F000000001F000000001F000000001F000000001F000000001F00000
0003F000000003F000000003F000000007F000000007F000000007F00000000FF00000000FF000
00001FF00000003FF00000003FF00000007FF0000001FFF0000003FFF000000FFFFFFFC0FFFFFF
FFC0FFFFFFFFC0FFFFFFFFC0FFFFFFFFC000FFF0000000FFF0000000FFF0000000FFF0000000FF
F0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000
00FFF0000000FFF0000000FFF0000000FFF001F000FFF001F000FFF001F000FFF001F000FFF001
F000FFF001F000FFF001F000FFF001F000FFF001F0007FF001E0007FF803E0003FF803E0003FFC
07C0001FFE0F80000FFFFF800007FFFE000001FFFC0000001FF00024427EC12E>I<007FE00000
3FF000FFFFE0007FFFF000FFFFE0007FFFF000FFFFE0007FFFF000FFFFE0007FFFF000FFFFE000
7FFFF00003FFE00001FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE0
0000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FF
E00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001
FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF000
01FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00000FFF0
0001FFE00000FFF00001FFE00000FFF00001FFE00000FFF00001FFE00001FFF00001FFE00001FF
F00001FFE00001FFF00001FFE00003FFF00000FFE00007FFF00000FFE0000F7FF000007FE0001F
7FF000007FF0003E7FF800003FFC00FC7FFFE0001FFFFFF87FFFE00007FFFFE07FFFE00001FFFF
807FFFE000003FFE007FFFE03B2E7CAD42>I<FFFFFF8001FFFFFFFFFF8001FFFFFFFFFF8001FF
FFFFFFFF8001FFFFFFFFFF8001FFFF01FFE000001FC001FFF000001F8001FFF000001F8000FFF8
00001F0000FFF800003F00007FF800003E00007FFC00007E00003FFC00007C00003FFE0000FC00
001FFE0000F800001FFF0001F800000FFF0001F000000FFF8003F0000007FF8003E0000007FFC0
07E0000007FFC007E0000003FFE007C0000003FFE00FC0000001FFE00F80000001FFF01F800000
00FFF01F00000000FFF83F000000007FF83E000000007FFC7E000000003FFC7C000000003FFEFC
000000001FFEF8000000001FFFF8000000001FFFF8000000000FFFF0000000000FFFF000000000
07FFE00000000007FFE00000000003FFC00000000003FFC00000000001FF800000000001FF8000
00000000FF000000000000FF0000000000007E0000000000003C000000382E7DAD3F>I<FFFFFF
07FFFFE007FFFEFFFFFF07FFFFE007FFFEFFFFFF07FFFFE007FFFEFFFFFF07FFFFE007FFFEFFFF
FF07FFFFE007FFFE03FFC0001FFC00003FC003FFE0000FFC00001F8001FFE0000FFC00001F0001
FFE0000FFE00001F0001FFF00007FE00003F0000FFF0000FFF00003E0000FFF8000FFF00007E00
007FF8000FFF00007C00007FF8001FFF80007C00003FFC001FFF8000F800003FFC003FFFC000F8
00003FFE003EFFC001F800001FFE003EFFC001F000001FFE007EFFE003F000000FFF007C7FE003
E000000FFF00FC7FF003E000000FFF80F83FF007E0000007FF80F83FF007C0000007FF81F83FF8
0FC0000003FFC1F01FF80F80000003FFC3F01FFC0F80000003FFE3E00FFC1F80000001FFE3E00F
FC1F00000001FFE7E00FFE3F00000000FFF7C007FE3E00000000FFFFC007FF3E00000000FFFF80
03FF7E000000007FFF8003FF7C000000007FFF8003FFFC000000003FFF0001FFF8000000003FFF
0001FFF8000000003FFE0000FFF8000000001FFE0000FFF0000000001FFE0000FFF0000000000F
FC00007FE0000000000FFC00007FE0000000000FF800003FE00000000007F800003FC000000000
07F800003FC00000000003F000001F800000000001E000000F0000004F2E7DAD56>I<7FFFFF80
1FFFFF007FFFFF801FFFFF007FFFFF801FFFFF007FFFFF801FFFFF007FFFFF801FFFFF00007FF8
0001FF0000007FFC0001FC0000003FFE0003F80000001FFF0007F00000000FFF0007E000000007
FF800FC000000003FFC01F8000000003FFE03F8000000001FFF07F0000000000FFF8FE00000000
007FF9FC00000000003FFFF800000000003FFFF000000000001FFFE000000000000FFFC0000000
000007FFC0000000000003FFC0000000000001FFE0000000000001FFF0000000000001FFF80000
00000003FFFC000000000003FFFE000000000007FFFE00000000000FEFFF00000000001FCFFF80
000000003F87FFC0000000007F03FFE000000000FE01FFE000000001FC00FFF000000001F8007F
F800000003F0007FFC00000007F0003FFE0000000FE0001FFF0000001FC0000FFF0000003F8000
07FF800000FF800007FFC000FFFFF8003FFFFFC0FFFFF8003FFFFFC0FFFFF8003FFFFFC0FFFFF8
003FFFFFC0FFFFF8003FFFFFC03A2E7EAD3F>I E /Fm 22 119 df<F0F0F0F004047B830E>46
D<FFFE0000FFFFC000FFFFE000F003F000F000F800F0007C00F0003E00F0001E00F0000F00F000
0F00F0000780F0000780F0000780F00003C0F00003C0F00003C0F00003C0F00003C0F00003C0F0
0003C0F00003C0F00003C0F0000380F0000780F0000780F0000780F0000F00F0001F00F0001E00
F0003C00F000F800F003F800FFFFE000FFFFC000FFFE00001A237BA223>68
D<FFFFFFF0FFFFFFF0FFFFFFF0000F0000000F0000000F0000000F0000000F0000000F0000000F
0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F000000
0F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000
000F0000000F0000000F0000000F0000000F0000000F00001C237EA221>84
D<07F0003FFC007FFE00781F00400F00000780000780000780000780007F8007FF801FFF803E07
80780780F00780F00780F00780F00F807C1F807FFF803FF7801F878011167E9517>97
D<F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F000
00F0F800F3FE00FFFF00FE0F80F80780F003C0F003C0F001E0F001E0F001E0F001E0F001E0F001
E0F001E0F003E0F003C0F003C0F80780FE1F80F7FF00F3FC00F1F80013237DA219>I<01FC0007
FF000FFF801F03803C0180780000780000700000F00000F00000F00000F00000F00000F0000078
00007800007800003C00401F03C00FFFC007FF8001FC0012167E9516>I<0001E00001E00001E0
0001E00001E00001E00001E00001E00001E00001E00001E00001E00001E003E1E00FF9E01FFFE0
3F07E03C03E07801E07801E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E07801E0
7803E03C03E03E0FE01FFDE00FF9E003E1E013237EA219>I<01F80007FE000FFF001F07803C03
C07801C07801C07000E0FFFFE0FFFFE0FFFFE0F00000F00000F000007000007800007C00003E00
401F03C00FFFC007FF8000FC0013167F9516>I<007F01FF03FF07C007000F000F000F000F000F
000F000F000F00FFF8FFF8FFF80F000F000F000F000F000F000F000F000F000F000F000F000F00
0F000F000F000F000F000F00102380A20F>I<03F0780FFFF81FFFF83E1F003C0F007807807807
807807807807807807803C0F003E1F001FFE003FFC0033F0007000007000007800003FFE003FFF
C01FFFE03FFFF07801F0F000F8F00078F00078F00078F000787800F03E03E01FFFC00FFF8001FC
0015217F9518>I<F000F000F000F000F000F000F000F000F000F000F000F000F000F1F8F3FCF7
FEFE1EF80FF80FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00F
10237CA219>I<F0F0F0F0000000000000000000F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F004237DA20B>I<F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F004237DA20B>108 D<F0F807C0F3FE1FF0F7FF3FF8FE0F7078FC0FE07CF807C03C
F807C03CF007803CF007803CF007803CF007803CF007803CF007803CF007803CF007803CF00780
3CF007803CF007803CF007803CF007803CF007803CF007803C1E167C9527>I<F1F8F3FCF7FEFE
1EF80FF80FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00F1016
7C9519>I<01FC0007FF000FFF801F07C03C01E07800F07800F0700070F00078F00078F00078F0
0078F00078F000787800F07800F07C01F03E03E01F07C00FFF8007FF0001FC0015167F9518>I<
F0F800F3FE00FFFF00FE1F80F80780F003C0F003C0F003E0F001E0F001E0F001E0F001E0F001E0
F001E0F003E0F003C0F007C0F80780FE1F80F7FF00F3FC00F1F800F00000F00000F00000F00000
F00000F00000F00000F00000F00000F0000013207D9519>I<F0E0F3E0F7E0FF00FE00FC00F800
F800F000F000F000F000F000F000F000F000F000F000F000F000F000F0000B167C9511>114
D<07F01FFC3FFE3C0E7806780078007C003F003FF01FF80FFC01FE001F000F000F000FC00FF81E
FFFE3FFC0FF010167F9513>I<1E001E001E001E001E001E00FFFCFFFCFFFC1E001E001E001E00
1E001E001E001E001E001E001E001E001E001E001E081F1C0FFC0FF807C00E1C7F9B12>I<F00F
F00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF00FF01FF83F7FFF7F
CF1F0F10167C9519>I<F001E0F001E0F801E07803C07803C03C03803C07803C07801E07001E0F
001E0F000E0E000F1E000F1E00071C00079C0007BC0003B80003B80003F80001F00001F0001316
7F9516>I E /Fn 2 16 df<00007FC000000003FFF80000000F803E0000003C00078000007000
01C00000C000006000018000003000030000001800060000000C000C00000006000C0000000600
1800000003001800000003003000000001803000000001806000000000C06000000000C0600000
0000C0C00000000060C00000000060C00000000060C00000000060C00000000060C00000000060
C00000000060C00000000060C00000000060C00000000060C000000000606000000000C0600000
0000C06000000000C03000000001803000000001801800000003001800000003000C0000000600
0C0000000600060000000C0003000000180001800000300000C00000600000700001C000003C00
078000000F803E00000003FFF8000000007FC000002B2F7DA332>13 D<03F0000FFC001FFE003F
FF007FFF807FFF80FFFFC0FFFFC0FFFFC0FFFFC0FFFFC0FFFFC0FFFFC0FFFFC07FFF807FFF803F
FF001FFE000FFC0003F00012147D9519>15 D E /Fo 90 125 df<001F83E000706E3000C07C78
0180F8780380F07807007000070070000700700007007000070070000700700007007000070070
0007007000FFFFFFC0070070000700700007007000070070000700700007007000070070000700
700007007000070070000700700007007000070070000700700007007000070070000700700007
007000070078007FE3FF801D2380A21C>11 D<001FC0000070200000C010000180380003807800
070078000700300007000000070000000700000007000000070000000700000007000000FFFFF8
000700780007003800070038000700380007003800070038000700380007003800070038000700
38000700380007003800070038000700380007003800070038000700380007003800070038007F
E1FF80192380A21B>I<001FD8000070380000C078000180780003807800070038000700380007
003800070038000700380007003800070038000700380007003800FFFFF8000700380007003800
070038000700380007003800070038000700380007003800070038000700380007003800070038
00070038000700380007003800070038000700380007003800070038007FF3FF80192380A21B>
I<000FC07F00007031C08000E00B004001801E00E003803E01E007003C01E007001C00C007001C
000007001C000007001C000007001C000007001C000007001C000007001C0000FFFFFFFFE00700
1C01E007001C00E007001C00E007001C00E007001C00E007001C00E007001C00E007001C00E007
001C00E007001C00E007001C00E007001C00E007001C00E007001C00E007001C00E007001C00E0
07001C00E007001C00E007001C00E07FF1FFCFFE272380A229>I<70F8F8F8F8F8F8F870707070
7070707070707070202020202020000000000070F8F8F87005247CA30E>33
D<7038F87CFC7EFC7E743A04020402040204020804080410081008201040200F0F7EA218>I<00
800000800003F0000C8C00108200208100608100408080C08080C08780C08780C08780E08300E0
80007080007880003F80003FE0001FF80007FC0001FE00009F00008700008700008380008380F0
8180F08180F08180E0818080810040830040830020860010840008980007E00000800000800000
800011287DA418>36 D<003C000000006200000000C20000000181000000018100000003810000
00038100000003810000000381000000038200000003820000000384000000038800000001C800
000001D000000001E003FF8001C0007C0000E000380001E000300001F000200002700040000470
0040000838008000183C008000301C010000701E020000700E020000F007040000F007880000F0
03880000F001D00100F000E0010078007003003800B802003C031C04000E0C0E0C0003F003F000
21257EA326>38 D<70F8FCFC7404040404080810102040060F7CA20E>I<002000400080010003
00060004000C000C00180018003000300030007000600060006000E000E000E000E000E000E000
E000E000E000E000E000E000E000E0006000600060007000300030003000180018000C000C0004
000600030001000080004000200B327CA413>I<800040002000100018000C0004000600060003
00030001800180018001C000C000C000C000E000E000E000E000E000E000E000E000E000E000E0
00E000E000E000C000C000C001C0018001800180030003000600060004000C0018001000200040
0080000B327DA413>I<008000008000008000008000008000C08180E08380388E000C980003E0
0001C00003E0000C9800388E00E08380C0818000800000800000800000800000800011157DA418
>I<00018000000180000001800000018000000180000001800000018000000180000001800000
018000000180000001800000018000000180000001800000018000FFFFFFFEFFFFFFFE00018000
000180000001800000018000000180000001800000018000000180000001800000018000000180
0000018000000180000001800000018000000180001F227D9C26>I<70F8FCFC74040404040808
10102040060F7C840E>I<FFE0FFE00B027F8B10>I<70F8F8F87005057C840E>I<000080000180
000180000300000300000300000600000600000600000C00000C00000C00001800001800001800
00300000300000300000600000600000600000C00000C00000C000018000018000018000018000
0300000300000300000600000600000600000C00000C00000C0000180000180000180000300000
300000300000600000600000600000C00000C00000C0000011317DA418>I<01F000071C000C06
001803003803803803807001C07001C07001C07001C0F001E0F001E0F001E0F001E0F001E0F001
E0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001E07001C07001C07001C07803C03803
803803801C07000C0600071C0001F00013227EA018>I<008003800F80F3800380038003800380
038003800380038003800380038003800380038003800380038003800380038003800380038003
8003800380038007C0FFFE0F217CA018>I<03F0000C1C001007002007804003C04003C08003E0
F003E0F801E0F801E0F801E02003E00003E00003C00003C0000780000700000E00001C00001800
00300000600000C0000180000100000200200400200800201800603000403FFFC07FFFC0FFFFC0
13217EA018>I<03F8000C1E001007002007804007C07807C07803C07807C03807C00007800007
80000700000F00000E0000380003F000001C00000F000007800007800003C00003C00003E02003
E07003E0F803E0F803E0F003C04003C0400780200780100F000C1C0003F00013227EA018>I<00
0200000600000E00000E00001E00001E00002E00004E00004E00008E00008E00010E00020E0002
0E00040E00040E00080E00100E00100E00200E00200E00400E00800E00FFFFF8000E00000E0000
0E00000E00000E00000E00000E00001F0001FFF015217FA018>I<1000801E07001FFF001FFE00
1FF80013E00010000010000010000010000010000010000010F800130E00140700180380100380
0001C00001C00001E00001E00001E00001E07001E0F001E0F001E0E001C08001C04003C0400380
2007001006000C1C0003F00013227EA018>I<007E0001C1000300800601C00E03C01C03C01801
80380000380000780000700000700000F0F800F30C00F40600F40300F80380F801C0F001C0F001
E0F001E0F001E0F001E0F001E07001E07001E07001E03801C03801C01803801C03000C0600070C
0001F00013227EA018>I<4000006000007FFFE07FFFC07FFFC0400080C0010080010080020080
020000040000080000080000100000300000200000600000600000600000E00000C00000C00001
C00001C00001C00001C00003C00003C00003C00003C00003C00003C00003C00003C00001800013
237DA118>I<01F800060E000803001001802001802000C06000C06000C06000C07000C0780180
3E01003F02001FC4000FF80003F80003FC00067F00083F80100F803007C06001C06000E0C000E0
C00060C00060C00060C000606000406000C03000801803000E0E0003F00013227EA018>I<01F0
00060C000C0600180700380380700380700380F001C0F001C0F001C0F001E0F001E0F001E0F001
E0F001E07001E07003E03803E01805E00C05E00619E003E1E00001C00001C00001C00003800003
80300300780700780600700C002018001030000FC00013227EA018>I<70F8F8F8700000000000
00000000000070F8F8F87005157C940E>I<70F8F8F870000000000000000000000070F8F8F878
08080808101010204040051F7C940E>I<70F8F8F8700000000000202020202020707070707070
707070707070F8F8F8F8F8F8F87005247C980E>I<FFFFFFFEFFFFFFFE00000000000000000000
00000000000000000000000000000000000000000000FFFFFFFEFFFFFFFE1F0C7D9126>I<0380
07C007C007C0038000000000000000000000010001000100010001000100010003000200060006
000C001C00380078007000F000F00FF00FF00FF0017002700438180FE010237D9817>I<07E018
38201C400E800FF00FF00FF00F000F000E001C00380030006000C000C000800080018001000100
010001000100010000000000000000000000038007C007C007C0038010237DA217>I<000FE000
00701C0000800200030001800400004008000020080000201007C0102018300820300808406004
0440C0078441C0038481C003828380038283800382838003828380038283800382838003828380
038281C0038241C0038240C007824060078420300B84201831881007C0F0080000000800000004
0000000300000E00800078007007C0000FFC001F237DA226>I<00018000000180000001800000
03C0000003C0000003C0000005E0000005E000000DF0000008F0000008F0000010F80000107800
0010780000203C0000203C0000203C0000401E0000401E0000401E0000800F0000800F0000FFFF
000100078001000780030007C0020003C0020003C0040003E0040001E0040001E00C0000F00C00
00F03E0001F8FF800FFF20237EA225>I<FFFFF8000F800E0007800780078003C0078003E00780
01E0078001F0078001F0078001F0078001F0078001F0078001E0078003E0078007C007800F8007
803E0007FFFE0007800780078003C0078001E0078001F0078000F0078000F8078000F8078000F8
078000F8078000F8078000F8078001F0078001F0078003E0078007C00F800F00FFFFFC001D227E
A123>I<0007E0100038183000E0063001C00170038000F0070000F00E0000701E0000701C0000
303C0000303C0000307C0000107800001078000010F8000000F8000000F8000000F8000000F800
0000F8000000F8000000F800000078000000780000107C0000103C0000103C0000101C0000201E
0000200E000040070000400380008001C0010000E0020000381C000007E0001C247DA223>I<FF
FFF0000F801E0007800700078003C0078001C0078000E0078000F007800078078000780780007C
0780003C0780003C0780003C0780003E0780003E0780003E0780003E0780003E0780003E078000
3E0780003E0780003E0780003C0780003C0780007C0780007807800078078000F0078000E00780
01E0078003C0078007000F801E00FFFFF8001F227EA125>I<FFFFFFC00F8007C0078001C00780
00C007800040078000400780006007800020078000200780002007802020078020000780200007
802000078060000780E00007FFE0000780E0000780600007802000078020000780200007802008
0780000807800008078000100780001007800010078000300780003007800070078000E00F8003
E0FFFFFFE01D227EA121>I<FFFFFFC00F8007C0078001C0078000C00780004007800040078000
6007800020078000200780002007802020078020000780200007802000078060000780E00007FF
E0000780E000078060000780200007802000078020000780200007800000078000000780000007
80000007800000078000000780000007800000078000000FC00000FFFE00001B227EA120>I<00
07F008003C0C1800E0021801C001B8038000F8070000780F0000381E0000381E0000183C000018
3C0000187C0000087800000878000008F8000000F8000000F8000000F8000000F8000000F80000
00F8000000F8001FFF780000F8780000787C0000783C0000783C0000781E0000781E0000780F00
007807000078038000B801C000B800E00318003C0C080007F00020247DA226>I<FFFC3FFF0FC0
03F0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E007
8001E0078001E0078001E0078001E0078001E007FFFFE0078001E0078001E0078001E0078001E0
078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001
E0078001E00FC003F0FFFC3FFF20227EA125>I<FFFC0FC0078007800780078007800780078007
800780078007800780078007800780078007800780078007800780078007800780078007800780
0780078007800FC0FFFC0E227EA112>I<03FFF0001F00000F00000F00000F00000F00000F0000
0F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0000
0F00000F00000F00000F00000F00000F00700F00F80F00F80F00F80E00F01E00401C0020380018
700007C00014237EA119>I<FFFC03FF000FC000F8000780006000078000400007800080000780
010000078002000007800400000780080000078010000007802000000780400000078080000007
818000000783C000000787E000000789E000000788F000000790F0000007A078000007C03C0000
07803C000007801E000007800F000007800F00000780078000078007C000078003C000078001E0
00078001E000078000F000078000F8000FC000FC00FFFC07FF8021227EA126>I<FFFE00000FC0
000007800000078000000780000007800000078000000780000007800000078000000780000007
800000078000000780000007800000078000000780000007800000078000000780000007800000
078000000780008007800080078000800780008007800180078001800780010007800300078003
0007800F000F803F00FFFFFF0019227EA11E>I<FFC00003FF0FC00003F007C00003E005E00005
E005E00005E004F00009E004F00009E004F00009E004780011E004780011E004780011E0043C00
21E0043C0021E0043C0021E0041E0041E0041E0041E0040F0081E0040F0081E0040F0081E00407
8101E004078101E004078101E00403C201E00403C201E00401E401E00401E401E00401E401E004
00F801E00400F801E00400F801E004007001E00E007001E01F007003F0FFE0203FFF28227EA12D
>I<FF8007FF07C000F807C0007005E0002004F0002004F0002004780020047C0020043C002004
1E0020041F0020040F002004078020040780200403C0200401E0200401E0200400F0200400F820
0400782004003C2004003E2004001E2004000F2004000F20040007A0040003E0040003E0040001
E0040001E0040000E00E0000601F000060FFE0002020227EA125>I<000FE00000783C0000E00E
0003C00780078003C00F0001E00E0000E01E0000F03C0000783C0000787C00007C7C00007C7800
003C7800003CF800003EF800003EF800003EF800003EF800003EF800003EF800003EF800003EF8
00003E7800003C7C00007C7C00007C3C0000783E0000F81E0000F00F0001E00F0001E0078003C0
03C0078000E00E0000783C00000FE0001F247DA226>I<FFFFF0000F803C0007800F0007800780
078007C0078003C0078003E0078003E0078003E0078003E0078003E0078003E0078003C0078007
C00780078007800F0007803C0007FFF00007800000078000000780000007800000078000000780
000007800000078000000780000007800000078000000780000007800000078000000FC00000FF
FC00001B227EA121>I<000FE00000783C0000E00E0003C00780078003C00F0001E00E0000E01E
0000F03E0000F83C0000787C00007C7C00007C7800003C7800003CF800003EF800003EF800003E
F800003EF800003EF800003EF800003EF800003EF800003E7800003C7C00007C7C00007C3C0000
783C0000781E0380F00E0420E00F0801E0078813C003C8178000E80E00007C3C02000FEC020000
0C0200000C0200000E0600000F0E000007FC000007FC000007F8000003F8000001E01F2D7DA226
>I<FFFFE000000F803C000007800E00000780078000078007C000078003C000078003E0000780
03E000078003E000078003E000078003E000078003C000078007C000078007800007800E000007
803C000007FFE000000780700000078038000007801C000007801E000007800E000007800F0000
07800F000007800F000007800F000007800F800007800F800007800F800007800F808007800FC0
80078007C0800FC003C100FFFC01E2000000007C0021237EA124>I<03F0200C0C601802603001
E07000E0600060E00060E00060E00020E00020E00020F00000F000007800007F00003FF0001FFE
000FFF0003FF80003FC00007E00001E00000F00000F0000070800070800070800070800070C000
60C00060E000C0F000C0C80180C6070081FC0014247DA21B>I<7FFFFFF8780780786007801840
0780084007800840078008C007800C800780048007800480078004800780040007800000078000
000780000007800000078000000780000007800000078000000780000007800000078000000780
00000780000007800000078000000780000007800000078000000780000007800000078000000F
C00003FFFF001E227EA123>I<FFFC07FF0FC000F8078000700780002007800020078000200780
002007800020078000200780002007800020078000200780002007800020078000200780002007
800020078000200780002007800020078000200780002007800020078000200780002007800020
0380004003C0004003C0004001C0008000E000800060010000300600001C08000003F00020237E
A125>I<FFF0007FC01F80001F000F00000C000780000C000780000800078000080003C0001000
03C000100003E000300001E000200001E000200000F000400000F000400000F000400000780080
000078008000007C018000003C010000003C010000001E020000001E020000001F020000000F04
0000000F040000000F8C0000000788000000078800000003D000000003D000000003F000000001
E000000001E000000000C000000000C000000000C0000022237FA125>I<FFF03FFC03FE1F8007
E000F80F0003C000700F0003C000200F0003C00020078001E00040078001E00040078001E00040
03C002F0008003C002F0008003C002F0008001E00478010001E00478010001E00478010000F008
3C020000F0083C020000F0083C020000F8183E06000078101E04000078101E0400007C101E0400
003C200F0800003C200F0800003C200F0800001E40079000001E40079000001E40079000000F80
03E000000F8003E000000F8003E00000070001C00000070001C00000070001C000000300018000
0002000080002F237FA132>I<7FF807FF0007E001F80003C000E00003E000C00001E000800000
F001000000F80300000078020000007C040000003E0C0000001E080000001F100000000FB00000
0007A000000007C000000003E000000001E000000001F000000003F80000000278000000047C00
00000C3E000000081E000000101F000000300F80000020078000004007C00000C003E000008001
E000010001F000030000F000070000F8001F8001FC00FFE007FFC022227FA125>I<FFF0007FC0
1F80001F000F80000C00078000080007C000180003E000100001E000200001F000200000F00040
0000F800C000007C008000003C010000003E010000001E020000001F040000000F840000000788
00000007D800000003D000000003E000000001E000000001E000000001E000000001E000000001
E000000001E000000001E000000001E000000001E000000001E000000001E000000001E0000000
03E00000003FFF000022227FA125>I<7FFFFE7E003E78003C7000786000784000F0C000F0C001
E08003C08003C0800780000780000F00001F00001E00003C00003C0000780000780000F00001F0
0001E00103C00103C0010780010780030F00031E00021E00023C00063C000E78001EF8007EFFFF
FE18227DA11E>I<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FEFE07317BA40E>I<FEFE060606060606060606060606
060606060606060606060606060606060606060606060606060606060606060606FEFE07317FA4
0E>93 D<0FE0001838003C0C003C0E0018070000070000070000070000FF0007C7001E07003C07
00780700700700F00708F00708F00708F00F087817083C23900FC1E015157E9418>97
D<0E0000FE00001E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00
000E00000E1F000E61C00E80600F00300E00380E003C0E001C0E001E0E001E0E001E0E001E0E00
1E0E001E0E001E0E001C0E003C0E00380F00700C80600C41C0083F0017237FA21B>I<01FE0007
03000C07801C0780380300780000700000F00000F00000F00000F00000F00000F00000F0000070
00007800403800401C00800C010007060001F80012157E9416>I<0000E0000FE00001E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E001F8E00704E00C02E0
1C01E03800E07800E07000E0F000E0F000E0F000E0F000E0F000E0F000E0F000E07000E07800E0
3800E01801E00C02E0070CF001F0FE17237EA21B>I<01FC000707000C03801C01C03801C07801
E07000E0F000E0FFFFE0F00000F00000F00000F00000F000007000007800203800201C00400E00
8007030000FC0013157F9416>I<003C00C6018F038F030F070007000700070007000700070007
000700FFF807000700070007000700070007000700070007000700070007000700070007000700
070007807FF8102380A20F>I<00007001F198071E180E0E181C07001C07003C07803C07803C07
803C07801C07001C07000E0E000F1C0019F0001000001000001800001800001FFE000FFFC00FFF
E03800F0600030400018C00018C00018C000186000306000303800E00E038003FE0015217F9518
>I<0E0000FE00001E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E
00000E00000E1F800E60C00E80E00F00700F00700E00700E00700E00700E00700E00700E00700E
00700E00700E00700E00700E00700E00700E00700E00700E0070FFE7FF18237FA21B>I<1C003E
003E003E001C00000000000000000000000000000000000E00FE001E000E000E000E000E000E00
0E000E000E000E000E000E000E000E000E000E000E000E00FFC00A227FA10E>I<01C003E003E0
03E001C00000000000000000000000000000000001E00FE001E000E000E000E000E000E000E000
E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E060E0F0C0F180
61803E000B2C82A10F>I<0E0000FE00001E00000E00000E00000E00000E00000E00000E00000E
00000E00000E00000E00000E00000E03FC0E01F00E01C00E01800E02000E04000E08000E10000E
38000EF8000F1C000E1E000E0E000E07000E07800E03C00E01C00E01E00E00F00E00F8FFE3FE17
237FA21A>I<0E00FE001E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E00FFE00B23
7FA20E>I<0E1FC07F00FE60E183801E807201C00F003C00E00F003C00E00E003800E00E003800
E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E0038
00E00E003800E00E003800E00E003800E00E003800E00E003800E0FFE3FF8FFE27157F942A>I<
0E1F80FE60C01E80E00F00700F00700E00700E00700E00700E00700E00700E00700E00700E0070
0E00700E00700E00700E00700E00700E00700E0070FFE7FF18157F941B>I<01FC000707000C01
801800C03800E0700070700070F00078F00078F00078F00078F00078F00078F000787000707800
F03800E01C01C00E038007070001FC0015157F9418>I<0E1F00FE61C00E80600F00700E00380E
003C0E001C0E001E0E001E0E001E0E001E0E001E0E001E0E001E0E003C0E003C0E00380F00700E
80E00E41C00E3F000E00000E00000E00000E00000E00000E00000E00000E00000E0000FFE00017
1F7F941B>I<01F8200704600E02601C01603801E07800E07800E0F000E0F000E0F000E0F000E0
F000E0F000E0F000E07000E07800E03801E01C01E00C02E0070CE001F0E00000E00000E00000E0
0000E00000E00000E00000E00000E00000E0000FFE171F7E941A>I<0E3CFE461E8F0F0F0F060F
000E000E000E000E000E000E000E000E000E000E000E000E000E000F00FFF010157F9413>I<0F
8830786018C018C008C008E008F0007F803FE00FF001F8003C801C800C800CC00CC008E018D030
8FC00E157E9413>I<02000200020002000600060006000E001E003E00FFF80E000E000E000E00
0E000E000E000E000E000E000E000E040E040E040E040E040E040708030801F00E1F7F9E13>I<
0E0070FE07F01E00F00E00700E00700E00700E00700E00700E00700E00700E00700E00700E0070
0E00700E00700E00700E00F00E00F006017003827800FC7F18157F941B>I<FFC1FE1E00780E00
300E00200E002007004007004003808003808003808001C10001C10000E20000E20000E2000074
0000740000380000380000380000100017157F941A>I<FF8FF8FF1E01E03C1C01C0180E01C018
0E01E0100E01E01007026020070270200702702003843040038438400384384001C8188001C81C
8001C81C8000F00D0000F00F0000F00F0000600600006006000060060020157F9423>I<FF83FE
1F01F00E00C007008003810003830001C20000E400007800007800003800003C00004E00008E00
0187000103800201C00401E00C00E03E01F0FF03FE17157F941A>I<FFC1FE1E00780E00300E00
200E002007004007004003808003808003808001C10001C10000E20000E20000E2000074000074
00003800003800003800001000001000002000002000002000004000F04000F08000F180004300
003C0000171F7F941A>I<3FFFC0380380300780200700600E00401C00403C0040380000700000
E00001E00001C0000380400700400F00400E00C01C0080380080780180700780FFFF8012157F94
16>I<FFFFFE1701808C18>I<FFFFFFFFFFFF3001808C31>I E /Fp 18 121
df<00003FE0000001FFFC000007FFFF80001FFFFFC0003FFFFFC0007FC03FC000FF00078001FC
00018003F800008007F00000000FE00000000FC00000001FC00000001F800000003F000000003F
000000003F000000007E000000007E000000007E00000000FE00000000FC00000000FC00000000
FC00000000FC00000000FC00000000FC00000000FC00000000FC00000000FC00000000FC000000
00FE000000007E000000007E000000007E000000003F000000003F000000003F000000001F8000
00001FC00000000FC00000000FE000000007F000000003F800002001FC0000E000FF0003E0007F
C01FE0003FFFFFE0001FFFFFC00007FFFF000001FFFC0000003FE00023347CB22B>67
D<FFFFFC0000FFFFFF8000FFFFFFE000FFFFFFF000FC000FF800FC0003FC00FC0000FE00FC0000
7F00FC00003F80FC00001FC0FC00000FC0FC000007E0FC000007E0FC000003F0FC000003F0FC00
0001F0FC000001F8FC000001F8FC000001F8FC000000F8FC000000FCFC000000FCFC000000FCFC
000000FCFC000000FCFC000000FCFC000000FCFC000000FCFC000000FCFC000000FCFC000000FC
FC000000F8FC000001F8FC000001F8FC000001F8FC000003F0FC000003F0FC000007E0FC000007
E0FC00000FC0FC00001FC0FC00001F80FC00003F00FC0000FF00FC0001FE00FC000FFC00FFFFFF
F000FFFFFFE000FFFFFF8000FFFFFC000026327AB131>I<FC000000FC000000FC000000FC0000
00FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC00
0000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC
000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0000
00FC000000FC000000FFFFFFC0FFFFFFC0FFFFFFC0FFFFFFC0FFFFFFC01A327AB124>76
D<FC00000FC00000F8FC00000FC00000F87E00001FE00001F07E00001FE00001F07E00001FE000
01F07F00003DE00001F03F00003DF00003E03F00003DF00003E03F000039F00003E01F800079F8
0003C01F800078F80007C01F800078F80007C01F800078F80007C00FC000F0FC000F800FC000F0
7C000F800FC000F07C000F800FC000F07C000F8007E001F07E001F0007E001E07E001F0007E001
E03E001F0003F003E03E001E0003F003E03F003E0003F003C03F003E0003F003C01F003E0001F8
07C01F003C0001F807C01F807C0001F807801F807C0001F807800F807C0000F80F800F80780000
FC0F800FC0F80000FC0F000FC0F800007C0F0007C0F000007C0F0007C0F000007E1E0007E1F000
007E1E0003E1F000003E1E0003E1E000003E1E0003E1E000003E3C0003E1E000003F3C0001F3E0
00001F3C0001F3C000001F3C0001F3C000001F380001F3C000001F380000F3C000000F380000F3
8000000F780000FB8000000FF00000FF80000007F000007F00000007F000007F00000007E00000
7F00000007E000003F00003D327FB140>87 D<00FE0007FF801FFFC03FFFE03F03F03800F83000
F820007C00007C00007C00007C00007C00007C0007FC00FFFC07FFFC0FFFFC3FC07C3F007C7C00
7CF8007CF8007CF8007CF8007CF800FCFC01FC7F07FC7FFFFC3FFF7C1FFC7C0FE07C161F7D9E20
>97 D<003FC000FFF803FFFE07FFFF0FE03F1F800F1F00023E00007E00007C00007C0000F80000
F80000F80000F80000F80000F80000F80000F80000F800007C00007C00007E00003E00011F0003
1F800F0FE07F07FFFF03FFFE00FFF8003FC0181F7D9E1E>99 D<003F800000FFE00003FFF80007
FFFC000FE0FC001F803E003F001E003E001F007C000F007C000F007C000780FFFFFF80FFFFFF80
FFFFFF80FFFFFF80F8000000F8000000F8000000F8000000F80000007C0000007C0000003E0000
003E0000001F0000801FC003800FF01F8007FFFF8001FFFF0000FFFC00001FE000191F7E9E1E>
101 D<0007FC001FFC003FFC007FFC00FC0400F00001F00001E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E000FFFFC0FFFFC0FFFFC0FFFFC003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E000
03E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00016327F
B115>I<007F00F801FFC7FC03FFFFFC07FFFFFC0FC1FC001F80FC001F007C001F007C003E003E
003E003E003E003E003E003E003E003E003E003E001F007C001F007C001F80FC000FC1F8000FFF
F0001FFFE0001DFFC0001C7F00003C0000003C0000003C0000001E0000001FFFF8001FFFFF000F
FFFF801FFFFFC03FFFFFE03E000FF07C0003F0FC0001F8F80000F8F80000F8F80000F8F80000F8
FC0001F87E0003F03F0007E03FE03FE00FFFFF8007FFFF0001FFFC00003FE0001E2E7E9E22>I<
F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000
F80000F80000F80000F80000F80000F80000F83F80F8FFE0F9FFF0FBFFF8FF83F8FF00F8FE00FC
FC007CFC007CFC007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007C
F8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007C16327AB123>
I<FCFCFCFCFCFC00000000000000000000007C7C7C7C7C7C7C7C7C7C7C7C7C7C7C7C7C7C7C7C7C
7C7C7C7C7C7C7C7C7C7C06307CAF10>I<F83F80F8FFE0F9FFF0FBFFF8FF83F8FF00F8FE00FCFC
007CFC007CFC007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8
007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007C161F7A9E23>
110 D<001FC00000FFF80001FFFC0007FFFF000FE03F801F800FC01F0007C03E0003E03E0003E0
7C0001F07C0001F0780000F0F80000F8F80000F8F80000F8F80000F8F80000F8F80000F8F80000
F8FC0001F87C0001F07C0001F03E0003E03F0007E01F0007C01FC01FC00FF07F8007FFFF0001FF
FC0000FFF800001FC0001D1F7E9E22>I<F81EF87EF8FEF9FEFBFEFFF0FF80FF00FE00FE00FC00
FC00F800F800F800F800F800F800F800F800F800F800F800F800F800F800F800F800F800F800F8
000F1F7A9E17>114 D<03E00003E00003E00003E00003E00003E00003E00003E00003E000FFFF
E0FFFFE0FFFFE0FFFFE003E00003E00003E00003E00003E00003E00003E00003E00003E00003E0
0003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E02003F0
E001FFF001FFF000FFC0007E0014287FA718>116 D<F8007CF8007CF8007CF8007CF8007CF800
7CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF8007CF800
7CF8007CF8007CF8007CF8007CF800FCF800FCF801FCFC07FC7FFFFC7FFE7C3FFC7C0FE07C161F
7A9E23>I<F80001F0FC0003F07C0003E07C0003E03E0007C03E0007C03E0007C01F000F801F00
0F801F000F800F801F000F801F000FC01F0007C03E0007C03E0007E03E0003E07C0003E07C0001
E0780001F0F80001F0F80000F0F00000F9F00000F9F0000079E0000079E000007DE000003FC000
003FC000001F8000001F80001C1F7F9E1F>I<7C0001F03E0003F03F0007E01F8007C00FC00F80
07C01F8003E03F0003F03E0001F87C0000F8F800007DF800003FF000001FE000001FC000000F80
00000F8000001FC000001FE000003DF000007CF80000F87C0001F07C0001F03E0003E01F0007C0
0F800FC00FC00F8007C01F0003E03E0003F07E0001F8FC0000FC1E1F809E1F>120
D E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 0 1
0 0 bop 172 1108 a Fp(W)n(riting)22 b(Cha)n(racter)i(Device)e(Driver)g(fo)n
(r)g(Linux)p 150 1176 1800 12 v 769 1245 a Fo(Cop)o(yrigh)o(t)1012
1243 y(c)998 1245 y Fn(\015)16 b Fo(1993,)i(1994)42 b(R.)16
b(Baruc)o(h)g(and)h(C.)f(Sc)o(hro)q(eter)1695 1314 y(V)l(ersion:)21
b(1.0)150 1650 y Fm(This)d(Do)q(cument)e(is)i(intended)f(to)g(b)q(e)h(b)q
(oth)f(a)h(tuto)o(rial)f(fo)o(r)g(b)q(eginners)g(and)h(a)g(reference)d(guide)
i(fo)o(r)150 1719 y(advanced)g(Develop)q(ers.)p eop
%%Page: 1 2
1 1 bop 150 489 a Fl(Con)m(ten)m(ts)150 815 y Fk(1)45 b(In)n(tro)r(duction)
1390 b(4)150 975 y(2)45 b(General)18 b(Concepts)1263 b(6)223
1087 y Fo(2.1)50 b(What)17 b(is)f(an)h(Driv)o(er)e(?)g Fj(:)24
b(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)96 b Fo(6)223 1198 y(2.2)50
b(The)17 b(Driv)o(er)e(and)i(the)f(Filesystem)d Fj(:)25 b(:)f(:)h(:)f(:)h(:)f
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)96
b Fo(7)223 1310 y(2.3)50 b(The)17 b(general)f(lo)q(ok)g(of)h(a)f(Driv)o(er)29
b Fj(:)24 b(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h
(:)f(:)h(:)f(:)h(:)f(:)96 b Fo(9)223 1421 y(2.4)50 b(Compile)15
b(y)o(our)h(Driv)o(er)f(in)o(to)h(Kernel)f(Co)q(de)46 b Fj(:)24
b(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)96
b Fo(9)223 1533 y(2.5)50 b(Dynamically)14 b(loaded)j(Driv)o(ers)41
b Fj(:)24 b(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h
(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(12)150 1693 y Fk(3)45 b(W)-5
b(riting)18 b(a)h(driv)n(er)1271 b(13)223 1805 y Fo(3.1)50
b(General)c Fj(:)24 b(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71
b Fo(13)223 1916 y(3.2)50 b(First)16 b(Steps)h Fj(:)25 b(:)f(:)h(:)f(:)h(:)f
(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(15)223 2028 y(3.3)50
b(A)16 b(more)f(useful)h(Driv)o(er)30 b Fj(:)25 b(:)f(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71
b Fo(16)223 2139 y(3.4)50 b(Using)16 b(Memory)c Fj(:)25 b(:)f(:)h(:)f(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h
(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(20)223 2251 y(3.5)50 b(Pro)q(cess)17
b(Sync)o(hronization)40 b Fj(:)25 b(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f
(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71 b
Fo(23)223 2362 y(3.6)50 b(The)17 b(select)e(call)k Fj(:)25
b(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(31)150 2523
y Fk(4)45 b(Y)-5 b(our)20 b(Driv)n(er)d(and)i(the)f(Hardw)n(are)912
b(35)1038 2678 y Fo(1)p eop
%%Page: 2 3
2 2 bop 150 -84 1800 3 v 150 -100 a Fi(CONTENTS)1499 b Fo(2)223
96 y(4.1)50 b(General)c Fj(:)24 b(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g
(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f
(:)h(:)f(:)71 b Fo(35)223 208 y(4.2)50 b(Programmed)15 b(I/O)33
b Fj(:)25 b(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f
(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(36)223
319 y(4.3)50 b(In)o(terrupt)16 b(driv)o(en)f(I/O)40 b Fj(:)25
b(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f
(:)h(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(37)335 431 y(4.3.1)56 b(Timeouts)15
b(and)i(In)o(terrupts)29 b Fj(:)24 b(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(40)223 542 y(4.4)50
b(Driv)o(ers)16 b(and)g(signals:)23 b Fj(:)h(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h
(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71
b Fo(41)223 654 y(4.5)50 b(DMA-T)l(ransfers)36 b Fj(:)24 b(:)h(:)f(:)h(:)f(:)
h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f
(:)h(:)f(:)h(:)f(:)71 b Fo(41)150 814 y Fk(5)45 b(Sp)r(ecial)18
b(Concepts)g(in)h(Lin)n(ux)1030 b(45)223 926 y Fo(5.1)50 b(Accesing)15
b(P)o(orts)i(in)f(User)g(space)j Fj(:)24 b(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)
h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(45)223
1037 y(5.2)50 b(Accessing)16 b(Kernel)f(Memory)f(from)h(User)h(Space)22
b Fj(:)i(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71
b Fo(46)223 1149 y(5.3)50 b(Reading)17 b(the)f(k)o(ernel)e(En)o(vironmen)o(t)
i Fj(:)24 b(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h
(:)f(:)h(:)f(:)71 b Fo(47)223 1260 y(5.4)50 b(W)l(riting)16
b(Loadable)h(Mo)q(dules)30 b Fj(:)24 b(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)
h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(48)150
1420 y Fk(A)31 b(Reference)17 b(Guide)1264 b(52)223 1532 y
Fo(A.1)37 b(Kernel-callable)15 b(functions)30 b Fj(:)25 b(:)f(:)g(:)h(:)f(:)h
(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71
b Fo(52)223 1644 y(A.2)37 b(Data)18 b(structures)32 b Fj(:)24
b(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h
(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71 b Fo(56)223 1755
y(A.3)37 b(Driv)o(er)15 b(calls)45 b Fj(:)24 b(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)
f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h
(:)f(:)h(:)f(:)71 b Fo(59)223 1867 y(A.4)37 b(Installation)16
b(notes)34 b Fj(:)25 b(:)f(:)h(:)f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)
f(:)h(:)f(:)g(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)h(:)f(:)71
b Fo(67)p eop
%%Page: 3 4
3 3 bop 150 -84 1800 3 v 150 -100 a Fi(CONTENTS)1499 b Fo(3)150
96 y Fh(This)23 b(document)g(\(C\))h(1993)f(Robert)g(Baruch.)47
b(This)23 b(document)g(may)g(be)h(freely)150 161 y(copied)f(as)h(long)f(as)h
(the)f(entire)g(title,)g(copyright,)g(this)g(notice,)g(and)g(all)h(of)150
225 y(the)f(introduction)g(are)g(included)g(along)g(with)g(it.)48
b(Suggestions,)22 b(criticisms,)150 289 y(and)h(comments)g(to)h
(baruch@nynexst.com.)45 b(This)23 b(document,)g(nor)g(the)h(work)150
354 y(performed)f(by)g(Robert)g(Baruch)g(using)g(Linux,)h(nor)f(the)g
(results)g(of)h(said)f(work)150 418 y(are)g(connected)g(in)h(any)f(way)h(to)f
(any)h(of)f(the)h(Nynex)f(companies.)46 b(Information)150 482
y(may)23 b(settle)g(during)h(transportation.)45 b(This)24 b(product)e(should)
h(not)h(be)g(used)150 547 y(in)g(conjunction)e(with)h(a)h(dietary)f(regime)g
(except)g(under)g(supervision)g(by)g(your)150 611 y(doctor.)150
740 y(Right,)g(now)g(that)h(that's)f(over)g(with,)g(let's)h(get)f(into)g(the)
h(fun)f(stuff!)150 905 y Fo(First)16 b(few)g(w)o(ords)h(to)f(this)g(P)o(ap)q
(er)150 1017 y(Some)j(time)f(ago)k(i)e(pla)o(y)o(ed)f(around)i(with)g(some)e
(Data)i(aquisition)f(cards)h(so)g(i)f(needed)f(more)150 1085
y(insigh)o(ts)c(to)i(the)e(whole)h(Kernel)e(stu\013.)22 b(Then)16
b(i)f(found)h(the)g(v)o(ery)e(go)q(o)q(d)k(Do)q(cumen)o(t)c(written)i(b)o(y)
150 1154 y(Rob)q(ert)j(Baruc)o(h)f(\(last)h(y)o(ear\))e(that)i(to)q(ok)h(me)d
(at)i(the)f(Hand)h(and)g(deep)q(er)f(and)h(deep)q(er)f(in)g(the)150
1223 y(dark)c(F)l(orest)g(of)g(Kernel)f(hac)o(king.)20 b(Then)14
b(sometimes)d(later)j(i)g(found)g(the)g(k)o(ernel)e(hac)o(k)o(ers)h(guide)150
1291 y(at)18 b(tsx-11)h(that)f(ga)o(v)o(e)f(me)f(some)h(details)g(ab)q(out)i
(memory)c(and)j(so)g(on,)h(and)f(i)f(got)i(some)d(more)150
1360 y(insigh)o(ts.)21 b(In)15 b(this)g(time)e(i'v)o(e)h(b)q(een)h(ask)o(ed)g
(more)f(and)i(more)e(b)o(y)h(p)q(eople)g(that)h(are)f(in)o(terested)f(in)150
1429 y(data)i(aquisition)g(and)g(pro)q(cess)g(con)o(trol.)21
b(So)16 b(i)f(got)i(the)e(idea)g(to)h(collect)e(ev)o(erything)h(related)g(to)
150 1497 y(this)h(stu\013)h(and)g(mak)o(e)d(it)i(a)o(v)m(ailiable)f(for)i
(others.)150 1609 y(This)23 b(Do)q(cumen)o(t)f(is)h(a)h Fg(c)n(ol)r(le)n
(ction)h Fo(of)f(pap)q(ers)g(ab)q(out)g(Lin)o(ux)f(Driv)o(ers)f(i)h(included)
f(Rob)q(ert's)150 1677 y(tutorial)17 b(b)q(ecause)g(i)g(can't)g(mak)o(e)e(it)
i(b)q(etter)f(\(i)h(hop)q(e)h(Rob)q(ert)f(w)o(on't)g(\015ame)f(up)h(ab)q(out)
i(this\).)k(I)150 1746 y(added)18 b(some)f(P)o(arts)i(from)e(Kernel)f(hac)o
(k)o(ers)i(guide)f(\(examples\).)25 b(My)17 b(P)o(art)h(consists)h(of)f(some)
150 1815 y(ideas)j(to)h(the)g(Lin)o(ux-Hardw)o(are)f(in)o(terconnection)f
(and)i(new)f(concepts)h(that)g(are)f(a)o(v)m(ailiable)150 1883
y(since)f(v1.0)h(\(Mo)q(dules)g(etc\).)34 b(My)20 b(in)o(ten)o(tion)g(w)o(as)
h(to)g(help)g(b)q(oth)g(the)g(p)q(eople)g(that)g(w)o(an)o(t)g(to)150
1952 y(learn)16 b(ho)o(w)h(a)g(driv)o(er)f(can)g(b)q(e)h(written)f(and)h
(those)g(that)g(w)o(an)o(t)g(to)g(kno)o(w)g(sp)q(ecial)f(things)h(ab)q(out)
150 2020 y(driv)o(ers.)150 2132 y(I)f(hop)q(e)h(y)o(ou)f(will)f(ha)o(v)o(e)g
(fun)i(with)f(this.)150 2243 y(clausi@c)o(hemie)o(.fu-b)q(erli)o(n.de)p
eop
%%Page: 4 5
4 4 bop 150 489 a Fl(Chapter)40 b(1)150 757 y(In)m(tro)s(duction)150
1034 y Fo(Some)15 b(w)o(ords)i(of)f(thanks)h(\(Y)l(es)f(i)g(copied)f(this\):)
150 1146 y(...)20 b(First)c(Rob)q(ert)h(Baruc)o(h)150 1257
y(Man)o(y)f(thanks)h(to:)150 1369 y(Donald)g(J.)f(Bec)o(k)o(er)e(\(b)q(ec)o
(k)o(er@me)o(trop)q(olis.sup)q(er.org\))150 1437 y(Don)j(Holzw)o(orth)f
(\(donh@gcx1.ssd.csd.harris.com\))150 1506 y(Mic)o(hael)f(Johnson)i
(\(johnsonm@stolaf.edu\))150 1575 y(Karl)f(Heinz)f(Kremer)f(\(khk@raster.k)o
(o)q(dak.com\))150 1643 y(Henn)o(us)i(Bergman)f(\(csg279@wing.rug.nl\))150
1712 y(Jon.)22 b(T)l(om)o(bs)15 b(\(??\))150 1780 y(All)g(the)h(driv)o(er)f
(writers!)150 1961 y(...and)h(of)i(course,)f(Lin)o(us)g("Lin)o(ux")g(T)l(orv)
m(alds)h(and)g(all)f(the)f(guys)i(who)g(help)q(ed)e(dev)o(elop)g(Lin)o(ux)150
2029 y(in)o(to)g(a)h(BLOOD)o(Y)e(KICKIN')g(O/S!)150 2141 y(...and)g(no)o(w)i
(a)g(w)o(ord)f(of)h(w)o(arning:)150 2252 y(Messing)f(ab)q(out)i(with)e(driv)o
(ers)f(is)i(messing)e(with)h(the)g(k)o(ernel.)k(Driv)o(ers)c(are)g(run)h(at)g
(the)f(k)o(ernel)150 2321 y(lev)o(el,)10 b(and)i(as)g(suc)o(h)g(are)f(not)h
(sub)s(ject)f(to)h(sc)o(heduling.)19 b(F)l(urther,)12 b(driv)o(ers)e(ha)o(v)o
(e)h(access)g(to)h(v)m(arious)150 2389 y(k)o(ernel)j(structures.)22
b(Before)15 b(y)o(ou)i(actually)e(write)h(a)h(driv)o(er,)e(b)q(e)h(*damned*)h
(sure)f(of)h(what)g(y)o(ou)150 2458 y(are)f(doing,)h(lest)e(y)o(ou)h(end)h
(up)f(ha)o(ving)g(to)h(re-format)e(y)o(our)h(harddriv)o(e)g(and)h(re-install)
e(Lin)o(ux!)1038 2678 y(4)p eop
%%Page: 5 6
5 5 bop 150 -84 1800 3 v 150 -100 a Fi(CONTENTS)1499 b Fo(5)150
96 y(The)12 b(information)g(in)g(this)g(Guide)g(is)h(as)g(up-to-date)g(as)g
(I)f(could)h(mak)o(e)d(it.)20 b(It)12 b(also)h(has)g(no)g(stamp)150
165 y(of)19 b(appro)o(v)m(al)h(whatso)q(ev)o(er)g(b)o(y)e(an)o(y)h(of)g(the)g
(designers)g(of)h(the)f(k)o(ernel.)28 b(I)18 b(am)h(not)g(resp)q(onsible)150
234 y(for)e(damage)e(caused)i(to)f(an)o(ything)h(as)g(a)f(result)g(of)g
(using)h(this)f(Guide.)p eop
%%Page: 6 7
6 6 bop 150 489 a Fl(Chapter)40 b(2)150 757 y(General)h(Concepts)150
1070 y Ff(2.1)83 b(What)28 b(is)f(an)g(Driv)n(er)g(?)150 1230
y Fo(Imagine)c(the)h(follo)o(wing)g(Problem:)36 b(Y)l(ou)24
b(buy)o(ed)g(a)h(card)f(XXX)f(that)i(do)q(es)g(some)e(I/O)i(to)150
1299 y(p)q(eriphal)14 b(devices)e(lik)o(e)g(prin)o(ters,)h(plotters,)h
(analog)h(devices)e(etc.)19 b(Normaly)13 b(y)o(ou)g(ha)o(v)o(e)g(to)i(write)
150 1368 y(lot)22 b(of)h(assem)o(bler)d(co)q(de)j(for)f(programming)f(the)h
(registers)g(of)h(this)f(card)g(that)h(is)f(link)o(ed)f(to)150
1436 y(y)o(our)16 b(program)g(co)q(de.)22 b(But)16 b(ev)o(ery)f(Program)h
(that)h(uses)f(this)g(piece)f(of)i(co)q(de)f(has)i(to)e(b)q(e)h(link)o(ed)150
1505 y(with)f(it.)21 b(If)15 b(y)o(ou)h(c)o(hange)g(an)o(ything)g(of)h(one)f
(of)h(y)o(our)e(programs)i(y)o(ou)f(ha)o(v)o(e)f(to)h(rebuild)g(all)f(y)o
(our)150 1574 y(programs)h(to)h(b)q(e)f(up)h(to)f(date.)150
1685 y(The)e(most)f(elegan)o(t)g(w)o(a)o(y)h(to)g(a)o(v)o(oid)g(this)f(is)h
(to)g(extract)g(the)f(hardw)o(are-sp)q(eci\014c)h(co)q(de)g(from)f(y)o(our)
150 1754 y(program)20 b(and)g(mak)o(e)e(it)i(to)g(an)g(part)h(of)f(y)o(our)f
(op)q(erating)i(system.)31 b(The)20 b(sp)q(eci\014c)f(co)q(de)h(then)150
1822 y(is)e(called)g(via)g(w)o(ell)g(de\014ned)g(in)o(terface)f(routines)i
(that)g(lo)q(ok)g(v)o(ery)e(similar)g(for)i(eac)o(h)f(problem.)150
1891 y(With)e(this)g(metho)q(d)g(the)g(sp)q(eci\014c)f(co)q(de)i(is)f(in)o
(visible)e(to)i(the)g(user)h(program.)150 2002 y(Remem)n(b)q(er)e(that)i(the)
g(most)g(op)q(erating)h(systems)e(uses)h(this)g(concept)g(for)h(their)e
(system-calls:)150 2071 y(The)j(argumen)o(ts)g(of)g(an)h(call)f(are)g(put)g
(on)h(the)f(stac)o(k)g(and)h(then)f(a)h("trap")g(routine)f(is)h(called.)150
2140 y(The)15 b(op)q(erating)h(system)d(jumps)h(to)h(an)g(so)h(called)d
("trap-handler")k(that)e(tak)o(es)f(the)h(argumen)o(ts)150
2208 y(from)g(the)h(stac)o(k)g(and)h(do)q(es)g(something)e(with)h(it.)150
2320 y(Lin)o(ux)i(and)g(other)g(*ix-lik)o(e)e(op)q(erating)j(systems)e(mak)o
(e)f(a)i(distinction)f(b)q(et)o(w)o(een)g(system)g(calls)150
2388 y(and)25 b(calls)e(that)i(are)f(used)g(for)g(the)g(hardw)o(are)h
(programming)d(of)j(p)q(eriphal)f(devices.)43 b(The)150 2457
y(routines)19 b(for)g(this)g(p)q(eriphal)g(devices)e(are)i(collected)f(in)g
("Driv)o(er-Mo)q(dules")h(that)h(are)f(visible)150 2526 y(to)g(the)f(k)o
(ernel)e(only)i(b)o(y)g(a)h(few)f(in)o(terface)f(routines.)27
b(The)18 b(only)g(problem)f(at)i(this)f(stage)h(is)f(to)1038
2678 y(6)p eop
%%Page: 7 8
7 7 bop 150 -84 1800 3 v 150 -100 a Fk(2.2.)37 b(The)18 b(Driv)n(er)f(and)j
(the)e(Filesystem)892 b Fo(7)150 96 y(comm)o(unic)o(ate)14
b(b)q(et)o(w)o(een)h(the)h(User)g(Program)g(and)h(these)f(routines.)150
208 y(*ix)f(uses)h(the)f(\014lesystem)e(for)i(this)h(purp)q(ose.)21
b(The)16 b(Driv)o(er)e(lo)q(oks)i(lik)o(e)d(a)j(normal)e(File)g(that)i(y)o
(ou)150 276 y(can)j(op)q(en,)i(close,)e(read)g(from)g(and)g(write)g(to.)31
b(The)19 b(k)o(ernel)f(sees)h(this)g(op)q(erations)i(as)e(sp)q(ecial)150
345 y(requests)d(and)h(maps)e(it)h(to)h(the)f(appropriate)h(calls)e(in)h(the)
g(driv)o(er)f(co)q(de.)150 565 y Ff(2.2)83 b(The)27 b(Driv)n(er)g(and)g(the)h
(Filesystem)150 726 y Fo(As)19 b(men)o(tioned)f(from)g(the)i(user's)f(side)g
(of)h(view)f(the)g(driv)o(er)f(lo)q(oks)i(lik)o(e)e(an)i(ordinary)g(\014le.)
31 b(If)150 794 y(y)o(ou)15 b(op)q(erate)g(on)g(this)g(\014le)f(via)h(op)q
(en,)g(close,)f(read)h(or)g(write)g(requests)f(the)h(k)o(ernel)e(lo)q(oks)i
(up)g(the)150 863 y(apropriate)g(function)g(in)f(y)o(our)h(driv)o(er)e(co)q
(de.)21 b(But)15 b(ho)o(w)g(this)f(path)i(of)f(function)f(references)g(can)
150 931 y(b)q(e)i(found?)150 1043 y(All)e(driv)o(ers)h(pro)o(vides)g(a)h(set)
g(of)g(routines.)21 b(Eac)o(h)16 b(Driv)o(er)e(has)j(an)f(struct)g(c)o(har)p
1618 1043 15 2 v 17 w(fops)g(that)h(holds)150 1112 y(the)k(p)q(oin)o(ters)g
(to)g(this)g(routines.)36 b(A)o(t)20 b(init)g(time)f(of)j(the)e(driv)o(er)g
(this)h(struct)g(is)g(ho)q(ok)o(ed)g(in)o(to)150 1180 y(another)16
b(table)f(where)g(the)g(k)o(ernel)f(can)h(\014nd)h(it.)k(The)15
b(index)g(that)h(is)f(used)g(to)h(dereference)d(this)150 1249
y(set)j(of)h(routines)g(is)f(called)g(MAJOR)g(n)o(um)o(b)q(er)e(and)k(is)e
(unique)g(so)h(that)g(a)g(de\014nite)f(destinction)150 1317
y(its)f(p)q(ossible.)21 b(The)16 b(sp)q(ecial)f(ino)q(de)g(\014le)g(for)g
(the)h(driv)o(er)e(gets)h(its)g(MAJOR)g(n)o(um)o(b)q(er)f(at)h(creation)150
1386 y(time)10 b(via)i(the)h Fe(mknod)d Fo(command.)18 b(The)13
b(driv)o(er)e(co)q(de)h(gets)h(its)f(MAJOR)g(b)o(y)g(the)g(register)p
1795 1386 V 17 w(c)o(hrdev)150 1455 y(k)o(ernel)j(routine)h(\(Y)l(our)g(task)
g(is)g(to)h(\014nd)g(an)f(unique)g(MAJOR)f(\).)150 1566 y(Ev)o(ery)j(time)f
(a)j(\014le)e(routine)h(is)g(called)f(on)i(a)f(driv)o(er-ino)q(de)g(the)g
(ino)q(de)g(and)h(the)f(\014le)f(struct)h(is)150 1635 y(passed)d(to)f(this)g
(routine)g(\(See.)20 b(A.2\),)15 b(the)g(k)o(ernel)e(dereferences)h(the)h
(apropriate)g(routine)g(from)150 1703 y(the)f(c)o(har)p 326
1703 V 17 w(fops)h(struct)f(b)o(y)g(its)g(MAJOR)f(n)o(um)o(b)q(er)f(and)j
(calls)f(it.)20 b(The)14 b(ino)q(de)g(and)h(the)f(\014le)f(struct)150
1772 y(itself)f(are)h(passed)h(to)f(the)g(called)f(fops-routines)h(and)h(can)
f(b)q(e)g(used)g(to)h(get)f(sp)q(eci\014c)f(information)150
1841 y(of)j(the)f(caller-pro)q(cess)g(for)h(Example.)k(The)14
b(MINOR)f(n)o(um)o(b)q(er,)g(that)h(is)h(also)g(set)f(b)o(y)g(the)g
Fe(mknod)150 1909 y Fo(command,)k(can)i(b)q(e)g(used)g(to)h(con\014gure)f(a)g
(sp)q(ecial)g(b)q(eha)o(vior)f(of)i(the)e(driv)o(er)g(\(e.g)g(rewind)h(or)150
1978 y(norewind)c(on)h(tap)q(es\))g(or)g(to)f(distinct)g(sub)q(devices)f
(\(as)i(it)f(is)g(done)h(b)o(y)e(the)h(tt)o(y)g(driv)o(ers\).)150
2089 y(A)g(list)f(of)i(used)f(MAJORS)g(can)g(b)q(e)h(found)f(in)g($LINUX)p
1210 2089 V 17 w(SOUR)o(CE/include/lin)o(ux/ma)s(jor.h:)150
2232 y Fh(/*)174 2296 y(*)24 b(assignments)174 2361 y(*)174
2425 y(*)g(devices)e(are)i(as)g(follows)e(\(same)i(as)f(minix,)g(so)h(we)f
(can)h(use)f(the)h(minix)f(fs\):)174 2489 y(*)174 2554 y(*)143
b(character)333 b(block)429 b(comments)p eop
%%Page: 8 9
8 8 bop 150 -84 1800 3 v 150 -100 a Fk(2.2.)43 b(The)18 b(Driv)n(er)g(and)h
(the)f(Filesystem)886 b Fo(8)174 96 y Fh(*)143 b(--------------------)69
b(--------------------)g(--------------------)174 161 y(*)47
b(0)24 b(-)g(unnamed)381 b(unnamed)g(minor)23 b(0)h(=)f(true)h(nodev)174
225 y(*)47 b(1)24 b(-)g(/dev/mem)357 b(ramdisk)174 289 y(*)47
b(2)24 b(-)573 b(floppy)174 354 y(*)47 b(3)24 b(-)573 b(hd)174
418 y(*)47 b(4)24 b(-)g(/dev/tty*)174 482 y(*)47 b(5)24 b(-)g(/dev/tty;)f
(/dev/cua*)174 547 y(*)47 b(6)24 b(-)g(lp)174 611 y(*)47 b(7)24
b(-)1122 b(UNUSED)174 676 y(*)47 b(8)24 b(-)573 b(scsi)23 b(disk)174
740 y(*)47 b(9)24 b(-)g(scsi)f(tape)174 804 y(*)h(10)f(-)h(mice)174
869 y(*)g(11)f(-)573 b(scsi)23 b(cdrom)174 933 y(*)h(12)f(-)h(qic02)f(tape)
174 997 y(*)h(13)f(-)573 b(xt)23 b(disk)174 1062 y(*)h(14)f(-)h(sound)f(card)
174 1126 y(*)h(15)f(-)573 b(cdu31a)23 b(cdrom)174 1190 y(*)h(16)f(-)h
(sockets)174 1255 y(*)g(17)f(-)h(af_unix)174 1319 y(*)g(18)f(-)h(af_inet)174
1383 y(*)g(19)f(-)1122 b(UNUSED)174 1448 y(*)24 b(20)f(-)1122
b(UNUSED)174 1512 y(*)24 b(21)f(-)h(scsi)f(generic)174 1577
y(*)h(22)f(-)573 b(\(at2disk\))174 1641 y(*)24 b(23)f(-)573
b(mitsumi)23 b(cdrom)174 1705 y(*)h(24)f(-)573 b(sony535)23
b(cdrom)174 1770 y(*)h(25)f(-)573 b(matsushita)22 b(cdrom)167
b(minors)23 b(0..3)174 1834 y(*)h(26)f(-)174 1898 y(*)h(27)f(-)h(qic117)f
(tape)174 1963 y(*)h(28)f(-)174 2027 y(*)h(29)f(-)174 2091
y(*)h(30)f(-)174 2156 y(*)h(31)f(-)174 2220 y(*/)150 2386 y
Fo(The)14 b(MAJOR)f(n)o(um)o(b)q(ers)f(go)j(from)e(0)h(to)h(MAX)p
1030 2386 15 2 v 16 w(CHRDEV-1.)21 b(MAX)p 1455 2386 V 16 w(CHRDEV)14
b(is)g(de\014ned)f(in)150 2454 y(lin)o(ux/fs.h,)h(and)i(is)f(curren)o(tly)f
(set)h(at)h(32.)22 b(In)15 b(general,)g(y)o(ou)g(w)o(an)o(t)h(to)f(sta)o(y)h
(a)o(w)o(a)o(y)f(from)f(devices)150 2523 y(0-15)k(b)q(ecause)e(those)h(are)f
(reserv)o(ed)f(for)i(the)f("usual")h(devices.)p eop
%%Page: 9 10
9 9 bop 150 -84 1800 3 v 150 -100 a Fk(2.3.)37 b(The)18 b(general)g(lo)r(ok)f
(of)i(a)g(Driv)n(er)952 b Fo(9)150 96 y Ff(2.3)83 b(The)27
b(general)h(lo)r(ok)f(of)h(a)g(Driv)n(er)150 257 y Fo(The)16
b(Structure)g(of)h(an)f(driv)o(er)f(is)h(\(as)h(men)o(tioned\))d(similar)g
(for)j(eac)o(h)f(p)q(eriphal)g(device.)223 410 y Fn(\017)24
b Fo(Y)l(ou)16 b(ha)o(v)o(e)g(an)g(init)g(routine)g(that)h(is)f(for)g
(initializing)e(y)o(our)i(hardw)o(are,)h(p)q(erhaps)g(getting)272
479 y(memory)10 b(from)i(the)h(k)o(ernel)f(and)i(last)f(but)g(not)h(least)f
(ho)q(oking)h(y)o(our)f(driv)o(er-routines)f(in)o(to)272 547
y(the)k(k)o(ernel's)e(gearb)q(o)o(x)698 529 y Fd(1)719 547
y Fo(.)223 658 y Fn(\017)24 b Fo(Y)l(ou)14 b(ha)o(v)o(e)f(an)h(c)o(har)p
639 658 15 2 v 17 w(fops)g(struct)g(that)g(is)g(initialized)d(with)j(those)g
(routines)f(that)i(y)o(ou)e(will)272 726 y(pro)o(vide)i(for)i(y)o(our)f(driv)
o(er.)k(This)c(struct)g(is)g(the)g(k)o(ey)f(to)i(the)f(k)o(ernel)e(it)i(is)g
('registered')f(b)o(y)272 795 y(the)h(register)p 517 795 V
17 w(c)o(hrdev)f(routine.)223 905 y Fn(\017)24 b Fo(Mostly)12
b(y)o(ou)g(ha)o(v)o(e)g(op)q(en)h(and)g(release)e(routines)i(that)g(are)f
(called)f(whenev)o(er)h(y)o(ou)g(p)q(erform)272 974 y(a)23
b(op)q(en)g(or)g(close)f(on)i(y)o(our)e(sp)q(ecial)g(ino)q(de.)41
b(The)22 b(presence)g(of)h(this)f(routines)h(is)g(not)272 1042
y(necessary)l(.)223 1152 y Fn(\017)h Fo(Y)l(ou)f(can)f(ha)o(v)o(e)g(routines)
h(for)g(reading)g(and)g(writing)f(data)i(from)d(or)i(to)g(y)o(our)g(driv)o
(er,)272 1221 y(a)e(io)q(ctl)f(routine)h(that)g(can)g(p)q(erform)f(sp)q
(ecial)g(commands)f(to)i(y)o(our)g(driv)o(er)e(lik)o(e)g(con\014g)272
1289 y(requests)d(or)g(options.)223 1400 y Fn(\017)24 b Fo(Y)l(ou)17
b(ha)o(v)o(e)g(the)g(p)q(ossibilit)o(y)f(to)i(readout)g(the)f(k)o(ernel)f(en)
o(vironmen)o(t)e(string)k(to)g(con\014gure)272 1468 y(y)o(our)e(driv)o(er)f
(via)h(lilo,)f(but)h(on)h(this)f(later)g(on.)223 1578 y Fn(\017)24
b Fo(A)16 b(In)o(terrupt)f(routine)h(can)h(b)q(e)f(registered)f(if)h(y)o(our)
g(hardw)o(are)h(supp)q(ort)g(this.)150 1800 y Ff(2.4)83 b(Compile)26
b(y)n(our)h(Driv)n(er)g(in)n(to)g(Kernel)g(Co)r(de)150 1961
y Fo(The)19 b(most)f(driv)o(ers)g(in)h(Lin)o(ux)f(are)h(link)o(ed)f(to)h(the)
g(k)o(ernel)e(at)j(compile-tim)o(e)o(.)27 b(That)19 b(means)g(if)150
2030 y(y)o(ou)d(w)o(an)o(t)g(to)g(add)h(an)f(driv)o(er)f(y)o(ou)g(ha)o(v)o(e)
h(to)g(put)g(y)o(our)g(.c)f(and)i(.h)e(\014les)h(directly)e(somewhere)g(in)
150 2099 y(the)i(k)o(ernel)f(source)h(path)h(and)g(rebuild)e(the)h(k)o
(ernel.)150 2210 y(F)l(or)h(c)o(haracter)f(device)f(driv)o(er)g(this)i
(should)g(b)q(e)g(done)g(in)f($LINUX)p 1418 2210 V 17 w(SOUR)o(CE/driv)o
(ers/c)o(har)f(.)150 2279 y(Edit)h(the)g(Mak)o(e\014le)f(and)i(add)p
150 2313 720 2 v 206 2343 a Fc(1)225 2358 y Fb(Realize)e(that)h(this)g
(routine)g(is)g(called)g(once)g(at)g(b)q(o)q(ot)g(time,)e(just)j(b)q(efore)f
(the)h(\014lesystem)e(and)h(y)o(our)g(hard)150 2415 y(disks)e(are)g
(initialized)f(so)h(y)o(ou'v)o(e)f(no)h(c)o(hance)g(to)g(read)h(an)o(y)e
(con\014g)h(\014les)g(at)g(startup.)p eop
%%Page: 10 11
10 10 bop 150 -84 1800 3 v 150 -100 a Fk(2.4.)37 b(Compile)16
b(y)n(our)j(Driv)n(er)f(in)n(to)g(Kernel)f(Co)r(de)676 b Fo(10)150
96 y Fh(ifdef)23 b(CONFIG_MYDRIVER)150 161 y(OBJS)g(:=)h($\(OBJS\))f
(my_driver.o)150 225 y(SRCS)g(:=)h($\(SRCS\))f(my_driver.c)150
289 y(endif)150 455 y Fo(after)16 b(the)g(OBJS)g(and)h(SR)o(CS)f
(de\014nition.)150 566 y(No)o(w)f(y)o(our)g(driv)o(er)f(will)h(b)q(e)g
(compiled)e(in)o(to)i(the)g(k)o(ernel)f(whenev)o(er)g(CONFIG)p
1610 566 15 2 v 17 w(MYDRIVER)g(is)150 635 y(de\014ned)i(at)h(build)e(time.)k
(T)l(o)e(de\014ne)f(CONFIG)p 1046 635 V 17 w(MYDRIVER)f(in)h(Lin)o(ux)g
(manner)f(do)i(this:)150 746 y(cd)12 b(to)h($LINUX)p 453 746
V 17 w(SOUR)o(CE/lin)o(ux)e(and)h(edit)g(the)g(\014le)g(con\014g.in,)g(add)h
(somewhere)e(in)h(the)g(driv)o(er)150 815 y(section)k(of)g(the)g(\014le)g(a)h
(line)e(lik)o(e:)150 976 y Fh(bool)23 b('My)h(Driver)f(Support')g
(CONFIG_MYDRIVER)e(n)150 1142 y Fo(T)l(o)c(get)g(y)o(our)g(driv)o(er)e
(running)i(y)o(ou)g(ha)o(v)o(e)e(to)i(ho)q(ok)h(y)o(our)f(init)f(routine)g
(in)o(to)g(the)h(the)f(k)o(ernel)f(so)150 1210 y(that)c(y)o(our)g(init)f(is)h
(called)e(at)j(b)q(o)q(ot)g(time.)17 b(Y)l(ou)11 b(ha)o(v)o(e)f(to)h(do)h
(this)e(in)h($LINUX)p 1553 1210 V 16 w(SOUR)o(CE/driv)o(ers/c)o(har/mem.)o(c)
150 1279 y(.)21 b(Go)c(to)g(the)f(c)o(hr)p 478 1279 V 17 w(drv)p
567 1279 V 17 w(init)f(routine)h(and)h(add)g(y)o(our)f(o)o(wn)h(init)e
(routine:)150 1440 y Fh(long)23 b(chr_dev_init\(long)f(mem_start,)g(long)i
(mem_end\))150 1505 y({)150 1569 y(if)g(\(register_chrdev\(MEM_MA)o(JOR,"me)o
(m",&memo)o(ry_fops)o(\)\))150 1633 y(printk\("unable)e(to)i(get)f(major)g
(\045d)h(for)f(memory)g(devs\\n",)g(MEM_MAJOR\);)150 1698 y(mem_start)g(=)g
(tty_init\(mem_start\);)150 1762 y(#ifdef)g(CONFIG_PRINTER)150
1826 y(mem_start)g(=)g(lp_init\(mem_start\);)150 1891 y(#endif)150
1955 y(#if)g(defined)g(\(CONFIG_BUSMOUSE\))f(||)h(defined)g
(\(CONFIG_82C710_MOUSE\))e(||)j(\\)245 2019 y(defined)f(\(CONFIG_PSMOUSE\))f
(||)i(defined)f(\(CONFIG_MS_BUSMOUSE\))e(||)i(\\)245 2084 y(defined)g
(\(CONFIG_ATIXL_BUSMOUSE\))150 2148 y(mem_start)g(=)g
(mouse_init\(mem_start\);)150 2213 y(#endif)150 2277 y(#ifdef)g(CONFIG_SOUND)
150 2341 y(mem_start)g(=)g(soundcard_init\(mem_start\);)150
2406 y(#endif)150 2470 y(#ifdef)g(CONFIG_PCSP)150 2534 y(mem_start)g(=)g
(pcsp_init\(mem_start\);)p eop
%%Page: 11 12
11 11 bop 150 -84 1800 3 v 150 -100 a Fk(2.4.)43 b(Compile)16
b(y)n(our)j(Driv)n(er)f(in)n(to)g(Kernel)g(Co)r(de)669 b Fo(11)150
96 y Fh(#endif)150 161 y(#if)23 b(CONFIG_TAPE_QIC02)150 225
y(mem_start)g(=)g(tape_qic02_init\(mem_start\);)150 289 y(#endif)150
354 y(/*******************------)o(--->>>>)o(>>)45 b(here)23
b(do)h(it)150 418 y(#if)f(CONFIG_MYDRIVER)150 482 y(mem_start)g(=)g
(my_driver_init\(mem_start\);)150 547 y(#endif)150 611 y
(********************<<<<<-)o(-------)o(-)69 b(done)47 b(*/)150
676 y(/*)174 740 y(*)143 b(Rude)23 b(way)h(to)f(allocate)g(kernel)g(memory)g
(buffer)g(for)h(tape)f(device)174 804 y(*/)150 869 y(#ifdef)g(CONFIG_FTAPE)
341 933 y(/*)g(allocate)g(NR_FTAPE_BUFFERS)f(32Kb)h(buffers)g(at)h(aligned)f
(address)g(*/)341 997 y(ftape_big_buffer=)e(\(char*\))i(\(\(mem_start)g(+)g
(0x7fff\))g(&)h(~0x7fff\);)341 1062 y(printk\()f("ftape:)g(allocated)f(\045d)
i(buffers)f(alligned)g(at:)g(\045p\\n",)508 1126 y(NR_FTAPE_BUFFERS,)e
(ftape_big_buffer\);)341 1190 y(mem_start)i(=)g(\(long\))g(ftape_big_buffer)f
(+)i(NR_FTAPE_BUFFERS)d(*)j(0x8000;)150 1255 y(#endif)150 1319
y(return)f(mem_start;)150 1383 y(})150 1603 y Fo(No)o(w)11
b(cd)f(to)h($LINUX)p 555 1603 15 2 v 17 w(SOUR)o(CE/lin)o(ux.)18
b(T)o(yp)q(e)11 b Fe(make)24 b(config)9 b Fo(at)i($LINUX)p
1591 1603 V 17 w(SOUR)o(CE/lin)o(ux,)150 1671 y(y)o(ou)i(will)e(b)q(e)i(ask)o
(ed)g(ab)q(out)h(y)o(our)f(driv)o(er)e(supp)q(ort,)k(answ)o(er)e(with)f('y'.)
19 b(No)o(w)13 b(rebuild)f(y)o(our)h(k)o(ernel)150 1740 y(as)k(usual)g(and)f
(install)g(it)g(with)g(lilo.)150 1852 y(It)f(is)h(strongly)g(recommended)d
(that)j(y)o(ou)g(mak)o(e)e(an)i(lin)o(ux-test)f(en)o(try)g(in)g(lilo)g(so)i
(that)f(y)o(ou)g(can)150 1920 y(reb)q(o)q(ot)h(ev)o(en)f(if)f(one)i(of)f(y)o
(our)g(driv)o(ers)f(fails.)150 2027 y(F)l(or)h(example)e(add)j(to)g(y)o(our)f
(/etc/lilo.conf)198 2168 y Fh(root)23 b(=)h(/dev/hda1)198 2233
y(image)f(=)h(/usr/src/linux/zImage)198 2297 y(label)f(=)h(test)150
2442 y Fo(The)16 b(other)h(p)q(ossibilit)o(y)e(is)h(to)g(mak)o(e)f(a)i(b)q(o)
q(ot)g(disk)f(via)g Fe(make)24 b(disk)150 2554 y Fo(F)l(or)16
b(details)g(refer)g(to)g(the)g(lilo)f(man)o(ual.)p eop
%%Page: 12 13
12 12 bop 150 -84 1800 3 v 150 -100 a Fk(2.5.)43 b(Dynamically)15
b(loaded)k(Driv)n(ers)937 b Fo(12)150 96 y Ff(2.5)83 b(Dynamically)26
b(loaded)h(Driv)n(ers)150 257 y Fo(Since)22 b(Lin)o(ux)g(V)l(ersion)g
(0.99.15)h(Supp)q(ort)h(for)f(Kernel)e(Mo)q(dules)i(has)g(b)q(een)g(added)g
(b)o(y)f(Jon.)150 326 y(T)l(om)o(bs.)e(This)c(Kernel)f(mo)q(dules)g(can)i(b)q
(e)f(loaded)g(in)o(to)f(the)h(Kernel)f(at)h(run)o(time.)j(That)e(means)150
394 y(loaded)d(and)h(remo)o(v)o(ed)d(at)j(an)o(y)f(time)e(after)i(the)g(b)q
(o)q(ot)i(pro)q(cess.)21 b(The)14 b(only)h(di\013erences)e(b)q(et)o(w)o(een)
150 463 y(a)g(loadable)g(Mo)q(dule)g(and)h(a)f(Kernel)f(link)o(ed)f(Driv)o
(er)h(are)h(a)h(sp)q(ecial)e(init\(\))g(routine)h(that)g(is)g(called)150
532 y(when)j(the)f(mo)q(dule)f(is)h(loaded)h(in)o(to)f(the)g(Kernel)g(and)h
(a)f(clean)o(up)g(routine)g(that)h(is)g(called)e(when)150 600
y(the)i(Mo)q(dule)g(is)g(remo)o(v)o(ed.)150 712 y(The)24 b(t)o(ypical)f(purp)
q(ose)i(of)f(this)h(t)o(w)o(o)f(routines)g(is)g(to)g(register)g(the)g(device)
e(and)j(irq)e(or)i(get)150 780 y(memory)20 b(\(init)p 441 780
15 2 v 17 w(mo)q(dule\))i(and)i(release/free)e(it)h(if)g(the)g(mo)q(dule)f
(is)h(remo)o(v)o(ed)e(from)h(memory)150 849 y(\(clean)o(up)p
334 849 V 17 w(mo)q(dule\).)150 960 y(One)c(disadv)m(an)o(tage)h(of)g(this)f
(Metho)q(d)g(is)g(that)h(suc)o(h)f(Kernel)f(Mo)q(dules)h(can't)g(allo)q(cate)
g(a)h(con-)150 1029 y(tin)o(uous)d(range)h(of)g(k)o(ernel)d(Memory)h(that)h
(is)g(greater)h(than)f(4096)i(b)o(ytes.)150 1141 y(The)d(programs)f(for)h
(loading)g(and)g(remo)o(ving)e(Mo)q(dules)h(are)h(presen)o(t)f(in)g(the)g(mo)
q(dutils)g(pac)o(k)m(age)150 1209 y(a)o(v)m(ailable)i(from)f(tsx-11)i(or)g
(sunsite.)150 1321 y(Details)f(on)h(writing)f(suc)o(h)g(driv)o(ers)f(are)h
(discussed)g(later.)p eop
%%Page: 13 14
13 13 bop 150 489 a Fl(Chapter)40 b(3)150 757 y(W)-10 b(riting)42
b(a)d(driv)m(er)150 1070 y Ff(3.1)83 b(General)150 1230 y Fo(The)18
b(Next)e(few)i(sections)f(\(that)i(come)d(from)g(Rob)q(ert)i(Baruc)o(h's)f
(tutorial\))h(will)e(bring)i(y)o(ou)g(up)150 1299 y(to)c(understand)g(ho)o(w)
g(a)g(Driv)o(er)f(w)o(orks)g(together)h(with)g(the)f(Kernel)f(and)j(ho)o(w)f
(an)g(user)f(program)150 1368 y(do)q(es)j(something)f(with)h(the)f(driv)o
(er.)20 b(Realize)14 b({)i(that)g(is)f(not)i(the)e(whole)h(story)l(.)21
b(Mostly)15 b(all)g(the)150 1436 y(Hardw)o(are)h(sp)q(eci\014c)g(stu\013)h
(is)f(the)g(largest)g(part)h(of)g(w)o(ork.)150 1548 y(The)i(Kernel)f(has)i
(no)g(abilit)o(y)d(to)j(handle)f(with)g(run)o(time)e(errors)i(as)h(a)f(user)g
(program)g(has,)h(so)150 1616 y(b)q(e)15 b(careful)g(whatev)o(er)f(y)o(ou)i
(do.)21 b(If)15 b(y)o(ou)g(do)h(driv)o(er)d(dev)o(elopmen)o(t)g(do)i(is)g
(slo)o(wly)g(and)h(with)f(care.)150 1685 y(Here)g(are)h(some)g(tips)g(that)g
(serv)o(es)g(from)f(the)h(w)o(orst)h(case:)223 1834 y Fn(\017)24
b Fo(Nev)o(er)16 b(trust)h(the)g(Users.)24 b(That)18 b(means)f(whenev)o(er)f
(y)o(ou)h(get)g(data)h(from)e(the)i(User)e(pro-)272 1898 y(gram,)f(c)o(hec)o
(k)g(it)g(for)i(v)m(alidit)o(y)l(.)j(Esp)q(ecially)15 b(c)o(hec)o(k)f(for)j
(v)m(alidit)o(y)e(of)h(P)o(oin)o(ters.)272 2025 y Fh(if\()23
b(data_from_user)f(==)i(NULL)f(\))272 2089 y(printk\("Driver:)f
(data_from_user)g(invalid)h("\);)272 2154 y(return\(-EINVAL\);)272
2218 y(else)344 2282 y(if\()g(data_from_user->flags)e(&)j(BUSY)f(\).......)
223 2478 y Fn(\017)h Fo(Nev)o(er)14 b(trust)j(y)o(ourself.)j(Nob)q(o)q(dy)e
(is)e(p)q(erfect.)k(T)l(est)d(out)f(y)o(our)g(Driv)o(er)f(step)i(b)o(y)e
(step.)1026 2678 y(13)p eop
%%Page: 14 15
14 14 bop 150 -84 1800 3 v 150 -100 a Fk(3.1.)43 b(General)1427
b Fo(14)223 96 y Fn(\017)24 b Fo(Hold)18 b(the)g(co)q(de)h(as)g(clearly)e(as)
i(p)q(ossible.)29 b(That)19 b(will)e(prev)o(en)o(t)g(o)o(wn)i(errors.)28
b(A)18 b(sample)272 161 y(for)e(quic)o(k)f(&)h(dirt)o(y)g(co)q(ding:)272
271 y Fh(int)23 b(driver_does_something_on_hard)o(ware\(\){)272
335 y(outb\(0x11,0x330\);)272 400 y(outb\(0x23,0x333\);)272
464 y(return\(inb\(0x330\)\);)272 528 y(})272 639 y Fo(A)14
b(reader)g(of)h(this)f(has)i(to)f(guess)g(what)g(is)f(going)h(on)g(with)g
(this)f(co)q(de.)21 b(Y)l(ou)15 b(should)f(doing)272 703 y(y)o(ourself)h(and)
i(others)g(a)f(fa)o(v)o(our)h(and)f(clear)g(up)g(the)g(co)q(de.)463
813 y Fh(/*)23 b(Registers)g(*/)463 942 y(#define)g(CARD_XXX_BASE)f(0x330)463
1006 y(#define)h(CARD_XXX_MODE)f(CARD_XXX_BASE)463 1071 y(#define)h
(CARD_XXX_DATA)f(CARD_XXX_BASE+1)463 1135 y(#define)h(CARD_XXX_CMD)46
b(CARD_XXX_BASE+2)463 1264 y(/*)23 b(Modes)h(*/)463 1392 y(#define)f(MODE_1)g
(0x01)463 1457 y(#define)g(MODE_2)g(0x10)463 1585 y(/*)g(Commands)g(*/)463
1714 y(#define)g(COMMAND_1)f(0x23)463 1843 y(int)h
(driver_does_something_on_har)o(dware\(\){)654 1907 y(outb\()g(MODE_1)g(|)h
(MODE_2)f(,CARD_XXX_MODE\);)e(/*)j(select)f(mode)g(*/)654 1972
y(outb\()g(COMMAND_1)g(,CARD_XXX_CMD)f(\);)166 b(/*)24 b(do)g(command)f(*/)
654 2036 y(return\(inb\(CARD_XXX_MODE)o(\)\);)283 b(/*)24 b(read)f(data)h(*/)
463 2100 y(})272 2279 y Fo(That)f(means)e(b)q(etter)g(to)i(sp)q(end)f(some)f
(more)g(lines)g(of)i(text)e(for)h(clearness.With)f(this)272
2348 y(example)e(y)o(ou)i(ha)o(v)o(e)f(the)h(p)q(ossibilit)o(y)f(to)h(c)o
(hange)g(the)g(adress-space)h(of)f(y)o(our)g(card)h(b)o(y)272
2416 y(c)o(hanging)d(one)f(Macro)h(\(and)g(p)q(erhaps)g(one)f(jump)q(er)g(on)
g(the)h(card\).)27 b(That)19 b(sho)o(ws)h(that)272 2485 y(the)g(w)o(ork)h
(for)g(the)f(few)h(lines)e(more)h(will)f(b)q(e)i(pa)o(y)o(ed)f(with)h(a)g(b)q
(etter)f(main)o(tainance)f(of)272 2554 y(y)o(our)d(co)q(de.)p
eop
%%Page: 15 16
15 15 bop 150 -84 1800 3 v 150 -100 a Fk(3.2.)43 b(First)18
b(Steps)1352 b Fo(15)223 96 y Fn(\017)24 b Fo(If)14 b(something)g(is)g(going)
i(wrnog)g(with)e(y)o(our)h(driv)o(er)e(try)h(out)i(to)f(\014nd)g(the)f
(error.)21 b(Do)15 b(some)272 208 y Fh(#ifdef)23 b(MY_DRIVER_DEBUG)415
272 y(printk\("My)g(Driver:)g(The)g(state)g(of)h(the)f(art)h(ist)f
(\045d",a_variable\);)272 336 y(#endif)272 517 y Fo(statemen)o(ts)15
b(in)h(y)o(our)g(co)q(de)h(that)g(will)e(help)h(to)h(\014nd)g(the)f(error)g
(and)h(to)g(w)o(atc)o(h)f(what)h(the)272 585 y(driv)o(er)e(do)q(es.)150
805 y Ff(3.2)83 b(First)27 b(Steps)150 966 y Fo(No)o(w)16 b(lets)f(do)h(it.)
21 b(First)15 b(let's)g(ha)o(v)o(e)g(a)h(lo)q(ok)g(of)g(our)h(\014rst)f
(Example.)j(A)d(v)o(ery)e(stupid)i(one,)g(but)g(a)150 1034
y(v)o(ery)f(go)q(o)q(d)j(exercise)d(to)h(get)h(y)o(our)f(stu\013)h(running.)
150 1178 y Fh(==========================)o(=======)o(=======)293
1243 y(File)23 b(Listing)g(1:)h(testdata.c)150 1307 y
(==========================)o(=======)o(=======)150 1371 y(#include)f
(<linux/kernel.h>)150 1436 y(#include)g(<linux/sched.h>)150
1500 y(#include)g(<linux/tty.h>)150 1565 y(#include)g(<linux/signal.h>)150
1629 y(#include)g(<linux/errno.h>)150 1758 y(#include)g(<asm/io.h>)150
1822 y(#include)g(<asm/segment.h>)150 1886 y(#include)g(<asm/system.h>)150
1951 y(#include)g(<asm/irq.h>)150 2079 y(unsigned)g(long)g
(test_init\(unsigned)e(long)j(kmem_start\))150 2144 y({)198
2208 y(printk\("Test)e(Data)h(Generator)g(installed.\\n"\);)198
2272 y(return)g(kmem_start;)150 2337 y(})150 2485 y Fo(No)o(w)17
b(go)g(to)h($LINUX)p 574 2485 15 2 v 16 w(SOUR)o(CE/driv)o(ers/c)o(har/mem.)o
(c)c(and)j(ho)q(ok)h(y)o(our)f(driv)o(er)f(in)g(place)g(as)150
2554 y(discussed)g(ab)q(o)o(v)o(e.)21 b(Change)c(the)f(Mak)o(e\014le)f(and)i
(con\014g.in)f(and)h(rebuild.)p eop
%%Page: 16 17
16 16 bop 150 -84 1800 3 v 150 -100 a Fk(3.3.)37 b(A)19 b(more)d(useful)j
(Driv)n(er)1103 b Fo(16)150 96 y(A)o(t)15 b(reb)q(o)q(ot)j(y)o(ou)e(should)h
(see)f(y)o(our)g(message.)150 317 y Ff(3.3)83 b(A)28 b(more)f(useful)g(Driv)n
(er)150 478 y Fo(This)19 b(example)e(is)h(tak)o(en)g(from)g(the)h
Fg(Writing)h(UNIX)g(Devic)n(e)g(Drivers)f Fo(b)q(o)q(ok)h(b)o(y)e(George)i(P)
o(a-)150 546 y(jari,)f(published)g(b)o(y)g(Addison)h(W)l(esley)l(.)29
b(It)19 b(can)g(usually)g(b)q(e)h(found)g(in)f(a)h(Barnes)f(and)h(Noble)150
615 y(b)q(o)q(okstore,)i(or)e(an)o(y)f(large)h(b)q(o)q(okstore)h(whic)o(h)e
(has)h(a)g(nice)f(section)g(on)h(UNIX.)d(The)j(ISBN)e(is)150
684 y(0-201-5237)q(4-4)q(,)k(and)d(it)f(w)o(as)h(published)f(in)h(1992.)30
b(This)19 b(b)q(o)q(ok)h(is)e(highly)g(recommended)e(for)150
752 y(the)g(device)f(driv)o(er)g(writer.)150 864 y(This)f(device)f(driv)o(er)
f(will)h(actually)h(b)q(e)g(read)g(from.)20 b(Y)l(ou)14 b(can)g(op)q(en)h
(and)g(close)e(it)h(\(whic)o(h)f(really)150 932 y(w)o(on't)19
b(do)g(m)o(uc)o(h\),)d(but)j(the)g(biggest)g(thing)g(it)f(will)f(do)j(is)e
(allo)o(w)h(y)o(ou)f(to)h(read)g(from)f(it.)28 b(This)150 1001
y(driv)o(er)11 b(w)o(on't)h(access)g(an)o(y)g(external)g(hardw)o(are,)h(and)g
(so)g(it)e(is)i(called)e(a)h("pseudo)i(device)c(driv)o(er".)150
1070 y(That)17 b(is,)f(it)f(really)g(do)q(esn't)i(driv)o(e)e(an)o(y)h
(device.)150 1181 y(Ha)o(v)o(e)e(y)o(our)i(Guide)f(handy?)22
b(OK,)15 b(no)o(w)h(alter)f(y)o(our)g(testdata.c)h(\014le)e(so)j(that)f(it)f
(lo)q(oks)h(lik)o(e)e(this:)150 1331 y Fh(==========================)o
(=======)o(=======)293 1395 y(File)23 b(Listing)g(2:)h(testdata.c)150
1459 y(==========================)o(=======)o(=======)150 1524
y(#include)f(<linux/kernel.h>)150 1588 y(#include)g(<linux/sched.h>)150
1653 y(#include)g(<linux/tty.h>)150 1717 y(#include)g(<linux/signal.h>)150
1781 y(#include)g(<linux/errno.h>)150 1910 y(#include)g(<asm/io.h>)150
1974 y(#include)g(<asm/segment.h>)150 2039 y(#include)g(<asm/system.h>)150
2103 y(#include)g(<asm/irq.h>)150 2232 y(static)g(char)g(test_data[]="Linux)f
(is)h(really)g(funky!\\n";)150 2361 y(static)g(int)g(test_read\(struct)f
(inode)h(*)h(inode,)f(struct)g(file)g(*)h(file,)651 2425 y(char)f(*)h
(buffer,)f(int)h(count\))150 2489 y({)198 2554 y(int)f(offset;)p
eop
%%Page: 17 18
17 17 bop 150 -84 1800 3 v 150 -100 a Fk(3.3.)43 b(A)19 b(more)e(useful)h
(Driv)n(er)1097 b Fo(17)198 161 y Fh(printk\("Test)22 b(Data)h(Generator,)g
(reading)g(\045d)g(bytes\\n",count\);)198 225 y(if)g(\(count<=0\))g(return)g
(-EINVAL;)198 289 y(for)g(\(offset=0;)g(offset<count;)f(offset++\))245
354 y(put_fs_byte\(test_data[offset)e(\045)k(\(sizeof\(test_data\)-1\)],)d
(buffer+offset\);)198 418 y(return)i(offset;)150 482 y(})150
611 y(static)g(int)g(test_open\(struct)f(inode)h(*inode,)g(struct)g(file)h
(*file\))150 676 y({)198 740 y(printk\("Test)e(Data)h(Generator)g
(opened.\\n"\);)198 804 y(return)g(0;)150 869 y(})150 997 y(static)g(void)g
(test_release\(struct)f(inode)h(*inode,)g(struct)g(file)g(*file\))150
1062 y({)198 1126 y(printk\("Test)f(Data)h(Generator)g(released.\\n"\);)150
1190 y(})150 1319 y(struct)g(file_operations)f(test_fops)g(=)i({)150
1383 y(NULL,)f(/*)h(test_seek)e(*/)150 1448 y(test_read,)g(/*)i(test_read)f
(*/)150 1512 y(NULL,)g(/*)h(test_write)e(*/)150 1577 y(NULL,)47
b(/*)24 b(test_readdir)e(*/)150 1641 y(NULL,)47 b(/*)24 b(test_select)e(*/)
150 1705 y(NULL,)47 b(/*)24 b(test_ioctl)e(*/)150 1770 y(NULL,)h(/*)h
(test_mmap)e(*/)150 1834 y(test_open,)g(/*)i(test_open)f(*/)150
1898 y(test_release)f(/*)i(test_release)e(*/)150 1963 y(};)150
2091 y(unsigned)h(long)g(test_init\(unsigned)e(long)j(kmem_start\))150
2156 y({)198 2220 y(printk\("Test)e(Data)h(Generator)g(installed.\\n"\);)198
2284 y(if)g(\(register_chrdev\(21,"test",&)o(test_fop)o(s\)\);)245
2349 y(printk\("Test)g(Data)g(Generator)g(error:)g(Cannot)g(register)f(to)i
(major)f(device)g(21!\\n"\);)198 2413 y(return)g(kmem_start;)150
2478 y(})p eop
%%Page: 18 19
18 18 bop 150 -84 1800 3 v 150 -100 a Fk(3.3.)37 b(A)19 b(more)d(useful)j
(Driv)n(er)1103 b Fo(18)150 96 y(This)16 b(Example)e(demonstrates)h(the)g
(use)h(of)g(the)g(register)p 1228 96 15 2 v 17 w(c)o(hrdev)e(routine)i(and)g
(the)f(use)h(of)g(the)150 165 y(c)o(har)p 244 165 V 17 w(fops)e(struct)f
(that)h(tells)e(the)h(k)o(ernel)e(whic)o(h)i(function)f(to)i(call)e(for)i
(whic)o(h)e(k)o(ernel)g(op)q(eration.)150 276 y(If)j(a)h(driv)o(er)e(has)j
(already)e(tak)o(en)g(ma)s(jor)g(21,)h(register)p 1149 276
V 17 w(c)o(hrdrv)f(will)g(return)g(-EBUSY.)f(Here,)h(all)150
345 y(w)o(e)h(do)h(is)f(prin)o(t)f(a)i(message)e(sa)o(ying)i(that)f(21)h(is)f
(already)g(tak)o(en.)150 457 y(No)o(w,)22 b(the)e(test)p 451
457 V 18 w(op)q(en)h(and)h(test)p 770 457 V 17 w(release)f(functions)g(just)g
(prin)o(t)f(out)i(things)f(to)h(the)e(console.)150 525 y(They)12
b(are)g(really)f(there)g(for)h(debugging)h(purp)q(oses,)h(so)e(that)h(y)o(ou)
e(can)i(see)e(when)h(things)h(happ)q(en.)150 637 y(The)23 b(meat)e(of)i(the)f
(driv)o(er)g(is)g(the)h(test)p 913 637 V 17 w(read)g(function.)40
b(The)23 b(\014rst)g(thing)g(it)f(do)q(es)h(is)g(prin)o(t)150
705 y(out)18 b(ho)o(w)g(man)o(y)e(b)o(ytes)h(w)o(ere)g(requested.)24
b(Then)18 b(it)f(puts)h(that)g(man)o(y)e(b)o(ytes)h(in)o(to)g(user)g(space.)
150 774 y(Remem)n(b)q(er)h(that)i(the)g(driv)o(er)f(is)h(executing)g(at)g
(the)g(k)o(ernel)f(lev)o(el,)g(and)h(the)g(user)h(space)f(will)150
843 y(b)q(e)g(di\013ernet)f(from)f(k)o(ernel)g(space.)32 b(W)l(e)19
b(ha)o(v)o(e)g(to)h(do)g(some)e(kind)h(of)h(translation)h(to)e(put)h(the)150
911 y(data)d(whic)o(h)f(is)h(in)f(k)o(ernel)f(space)i(in)o(to)f(the)h
(bu\013er)f(whic)o(h)g(is)h(in)f(user)h(space.)22 b(W)l(e)17
b(use)f(here)g(the)150 980 y(put)p 226 980 V 18 w(fs)p 278
980 V 17 w(b)o(yte)g(function.)150 1091 y(The)h(lo)q(op)g(puts)g(the)g
(string)g(in)o(to)f(the)h(bu\013er,)g(going)g(bac)o(k)f(to)h(the)g(b)q
(eginning)g(of)g(the)g(string)g(if)150 1160 y(necessary)l(.)k(Once)15
b(the)h(lo)q(op)h(is)f(\014nished,)f(w)o(e)h(just)g(return)g(the)g(actual)g
(n)o(um)o(b)q(er)e(of)j(b)o(ytes)e(read.)150 1229 y(The)j(actual)h(n)o(um)o
(b)q(er)d(ma)o(y)h(b)q(e)i(di\013eren)o(t)e(from)g(the)h(requested)g(n)o(um)o
(b)q(er.)25 b(F)l(or)19 b(example,)d(y)o(ou)150 1297 y(ma)o(y)i(b)q(e)i
(reading)g(from)f(the)g(driv)o(er)f(some)h(kind)g(of)h(message)f(whic)o(h)g
(has)i(a)f(\014xed)f(size.)31 b(Y)l(ou)150 1366 y(ma)o(y)17
b(w)o(an)o(t)h(to)g(co)q(de)g(the)g(driv)o(er)f(so)i(that)f(if)g(y)o(ou)g
(attempt)f(to)h(read)g(more)f(than)i(the)f(message)150 1434
y(size,)d(y)o(ou)i(will)e(get)i(only)f(the)g(message)g(size,)g(and)h(no)g
(more.)k(Here,)15 b(w)o(e)h(just)g(giv)o(e)g(the)g(pro)q(cess)150
1503 y(ho)o(w)o(ev)o(er)f(man)o(y)g(b)o(ytes)g(it)h(w)o(an)o(ts.)150
1615 y(No)o(w,)d(let's)g(get)g(this)h(driv)o(er)e(in)o(to)h(the)g(k)o(ernel.)
19 b(But)13 b(\014rst)h(what)g(w)o(e'll)e(do)i(is)f(create)g(a)h(sp)q(ecial)f
(\014le)150 1683 y(whic)o(h)18 b(can)g(b)q(e)h(op)q(ened,)g(read,)g(and)g
(closed.)28 b(Op)q(erations)19 b(on)g(this)f(sp)q(ecial)g(\014le)g(will)f
(activ)m(ate)150 1752 y(y)o(our)f(driv)o(er)f(co)q(de.)150
1863 y(The)h(sp)q(ecial)g(\014les)g(are)g(normally)f(stored)h(in)g(the)g
(/dev)g(directory)l(.)21 b(Do)c(this:)198 1994 y Fh(mknod)23
b(/dev/testdata)f(c)i(21)f(0)198 2058 y(chmod)g(0666)g(/dev/testdata)150
2193 y Fo(This)18 b(mak)o(es)e(a)j(sp)q(ecial)e(c)o(haracter)h(\(c\))f
(\014le)h(called)f(testdata,)h(and)h(giv)o(es)e(it)h(ma)s(jor)f(21,)h(minor)
150 2262 y(0.)k(The)16 b(c)o(hmo)q(d)f(mak)o(es)g(sure)h(that)h(ev)o(ery)o
(one)d(can)i(read)h(and)g(write)e(the)h(device.)150 2373 y(No)o(w)h
(recompile)e(the)i(k)o(ernel,)f(and)i(reb)q(o)q(ot.)26 b(Once)17
b(again,)h(mak)o(e)e(sure)h(y)o(ou)h(\014x)f(an)o(y)g(w)o(arnings)150
2442 y(or)g(errors)f(in)g(y)o(our)g(testdata.c)g(compilation.)150
2554 y(No)o(w,)g(go)h(to)f(the)g(/tmp)g(directory)f(\(or)i(whereev)o(er)d(y)o
(ou)i(w)o(an)o(t\),)g(and)h(write)e(this)i(program:)p eop
%%Page: 19 20
19 19 bop 150 -84 1800 3 v 150 -100 a Fk(3.3.)43 b(A)19 b(more)e(useful)h
(Driv)n(er)1097 b Fo(19)150 96 y Fh(==========================)o(=======)o
(=======)293 161 y(File)23 b(Listing)g(3:)h(data.c)150 225
y(==========================)o(=======)o(=======)150 289 y(#include)f
(<stdio.h>)150 354 y(#include)g(<sys/types.h>)150 418 y(#include)g
(<unistd.h>)150 482 y(#include)g(<fcntl.h>)150 611 y(void)g(main\(void\))150
676 y({)198 740 y(int)g(fd;)198 804 y(char)g(buff[128];)198
933 y(fd)g(=)h(open\("/dev/testdata",O_RDW)o(R\);)198 997 y
(printf\("/dev/testdata)d(opened,)i(fd=\045d\\n",fd\);)198
1062 y(if)g(\(fd<=0\))g(exit\(0\);)198 1126 y
(printf\("sizeof\(buff\)=\045d\\)o(n",size)o(of\(buff\))o(\);)198
1190 y(printf\("Read)f(returns)h(\045d\\n",read\(fd,buff,sizeof)o(\(buff\)\))
o(\);)198 1255 y(buff[127]=0;)198 1319 y(printf\("buff=\\n'\045s'\\n",b)o
(uff\);)198 1383 y(close\(fd\);)150 1448 y(})150 1592 y Fo(Compile)18
b(it)h(using)i(gcc.)31 b(Run)20 b(it.)32 b(If)19 b(it)g(said)i("Lin)o(ux)e
(is)h(really)f(funky!")g(lots)h(of)g(times,)f(pat)150 1661
y(y)o(ourself)d(on)i(the)f(bac)o(k)f(\(or)i(whereev)o(er)d(y)o(ou)i(w)o(an)o
(t\))g(for)h(a)f(job)h(w)o(ell)d(done.)24 b(If)17 b(it)g(didn't,)f(c)o(hec)o
(k)150 1729 y(the)h(output,)h(and)g(see)e(where)h(y)o(ou)g(w)o(en)o(t)g
(wrong.)25 b(It)17 b(could)g(just)h(b)q(e)f(that)h(y)o(ou)f(ha)o(v)o(e)f(a)i
(bad)g(or)150 1798 y(old)e(k)o(ernel.)150 1909 y(The)g(last)h(line)e(ma)o(y)f
(b)q(e)j(partial,)f(since)f(y)o(ou're)g(only)h(prin)o(ting)g(out)h(127)g(c)o
(haracters.)150 2021 y Fk(Exp)r(erime)o(n)n(t)f(1:)150 2132
y Fo(Use)e(mkno)q(d)f(to)i(mak)o(e)e(another)h(sp)q(ecial)g(\014le,)g(this)g
(one)h(with)f(minor)f(1.)21 b(Call)14 b(it)f(something)h(lik)o(e)150
2201 y(/dev/testdata2.)23 b(Change)17 b(the)f(device)f(driv)o(er)g(so)i(that)
g(in)f(the)g(read)g(call,)f(it)h(\014nds)h(out)g(whic)o(h)150
2270 y(minor)e(is)h(b)q(eing)g(read)h(from.)j(Use)c(this:)198
2409 y Fh(int)23 b(minor)g(=)h(MINOR\(inode->i_rdev\);)150
2554 y Fo(Prin)o(t)12 b(out)g(the)g(minor)f(n)o(um)o(b)q(er,)g(and)i(dep)q
(ending)f(on)h(whic)o(h)f(minor)f(it)g(is,)i(read)f(from)f(a)i(di\013eren)o
(t)p eop
%%Page: 20 21
20 20 bop 150 -84 1800 3 v 150 -100 a Fk(3.4.)43 b(Using)18
b(Memory)1254 b Fo(20)150 96 y(message)16 b(string.)21 b(T)l(est)16
b(y)o(our)g(driv)o(er)f(with)h(co)q(de)h(similar)d(to)j(data.c.)150
318 y Ff(3.4)83 b(Using)27 b(Memory)150 479 y Fo(Y)l(ou'v)o(e)15
b(learned)h(to)g(read,)g(no)o(w)h(y)o(ou're)e(gonna)j(learn)e(to)g(write.)150
591 y(No)o(w)g(that)g(y)o(ou're)f(reading)h(strings,)g(y)o(ou)f(ma)o(y)g(w)o
(an)o(t)h(to)g(write)f(strings)h(and)h(read)f(them)e(bac)o(k.)150
659 y(W)l(e'll)k(go)j(through)g(t)o(w)o(o)e(v)o(ersions)h(of)g(this)g({)g
(one)g(that)g(uses)g(static)g(memory)l(,)d(and)k(one)f(that)150
728 y(dynamically)14 b(allo)q(cates)i(the)g(memory)l(.)150
839 y(Keeping)21 b(y)o(our)g(curren)o(t)f(driv)o(er,)h(all)f(y)o(ou)h(need)g
(to)h(do)f(is)g(add)h(a)g(write)e(function)h(to)h(it,)g(not)150
908 y(forgetting)17 b(to)f(put)h(that)f(write)g(function)g(in)o(to)g(the)g
(\014le)p 1193 908 15 2 v 17 w(op)q(erations)h(structure)f(of)h(the)f(driv)o
(er.)150 1019 y(Add)c(this)h(section)f(of)h(co)q(de)g(to)g(y)o(our)g(driv)o
(er)e(ab)q(o)o(v)o(e)i(the)g(\014le)p 1248 1019 V 16 w(op)q(erations)h
(structure)f(declaration:)150 1179 y Fh(==========================)o(=======)
o(=======)198 1244 y(File)23 b(Listing)g(4)h(\(partial\):)e(testdata.c)150
1308 y(==========================)o(=======)o(=======)150 1373
y(static)h(char)g(test_data[128]="\\0";)150 1437 y(static)g(int)g
(test_data_size=0;)150 1566 y(static)g(int)g(test_write\(struct)f(inode)h(*)h
(inode,)f(struct)g(file)g(*)h(file,)198 1630 y(char)f(*)h(buffer,)f(int)g
(count\))150 1694 y({)198 1759 y(printk\("Write)f(\045d)h(bytes\\n",count\);)
198 1823 y(if)g(\(count>127\))g(return)g(-ENOMEM;)198 1887
y(if)g(\(\(!test_data_size\))f(||)h(\(count<=0\)\))g(return)g(-EINVAL;)198
1952 y(memcpy_fromfs\(\(void)e(*\)test_data,)h(\(void)h(*\)buffer,)g
(\(unsigned)g(long\)count\);)198 2016 y(test_data[127]=0;)45
b(/*)24 b(NUL-terminate)e(the)h(string)g(if)h(necessary)f(*/)198
2080 y(test_data_size)f(=)h(count;)198 2145 y(return)g(count;)150
2209 y(})150 2373 y Fo(Also,)15 b(alter)f(the)h(test)p 550
2373 V 17 w(read)h(function)f(so)g(that)h(instead)f(of)g(using)h
(sizeof\(test)p 1590 2373 V 16 w(data\))g(as)g(the)f(size)150
2442 y(of)i(the)f(test)p 372 2442 V 17 w(data)h(string,)f(it)g(uses)g(test)p
883 2442 V 18 w(data)p 995 2442 V 18 w(size.)150 2554 y(In)g(the)h(test)p
378 2554 V 17 w(write)f(function,)g(I)h(ha)o(v)o(e)e(decided)h(to)h(prev)o
(en)o(t)e(the)i(acceptance)f(of)h(strings)g(whic)o(h)p eop
%%Page: 21 22
21 21 bop 150 -84 1800 3 v 150 -100 a Fk(3.4.)37 b(Using)18
b(Memory)1260 b Fo(21)150 96 y(are)26 b(to)q(o)g(big)g(to)g(\014t)f(\(with)h
(a)g(NUL-terminator\))e(in)o(to)h(the)g(test)p 1431 96 15 2
v 18 w(data)h(area,)i(rather)d(than)150 165 y(just)c(writing)g(only)g(what)g
(\014ts.)36 b(In)21 b(this)f(case,)i(if)f(the)f(o\013ered)i(string)f(is)f(to)
q(o)j(long,)f(I)e(return)150 234 y(ENOMEM.)15 b(The)i(write)f(function)g(in)g
(the)h(user's)f(pro)q(cess)h(will)e(return)i(<0,)f(and)h(errno)f(will)g(b)q
(e)150 302 y(set)g(to)h(ENOMEM.)150 414 y(Also)i(note)g(that)h(I)e(ha)o(v)o
(e)h(used)g(the)g(memc)o(p)o(y)p 1018 414 V 14 w(fromfs)f(function,)i(whic)o
(h)e(is)h(real)g(con)o(v)o(enien)o(t)e({)150 482 y(m)o(uc)o(h)d(more)h(con)o
(v)o(enien)o(t)f(than)j(lo)q(oping)g(a)g(put)p 1046 482 V 17
w(fs)p 1097 482 V 18 w(b)o(yte.)150 594 y(Compile)d(this)i(driv)o(er,)e(and)i
(test)g(it)f(b)o(y)g(mo)q(difying)g(data.c)h(to)g(write)f(some)g(data,)h
(then)g(read)f(it)150 662 y(bac)o(k.)150 774 y Fk(Exp)r(erime)o(n)n(t)h(2:)
150 885 y Fo(Re-write)e(the)g(driv)o(er)g(so)h(that)g(it)f(can)h(ha)o(v)o(e)f
(t)o(w)o(o)g(di\013eren)o(t)g(strings)h(for)g(the)g(t)o(w)o(o)f(minor)f
(devices)150 954 y(as)k(in)f(exp)q(erimen)o(t)d(1.)150 1066
y(No)o(w)18 b(that)g(w)o(e)f(can)i(write)e(data)i(to)f(the)f(driv)o(er,)g(it)
g(w)o(ould)h(b)q(e)g(nice)f(if)g(w)o(e)h(could)g(dynamically)150
1134 y(allo)q(cate)12 b(memory)c(to)k(store)g(a)g(string)g(in.)19
b(W)l(e)12 b(will)e(use)i(kmallo)q(c)e(to)i(do)g(this.)19 b(\(Wh)o(y)12
b(is)f(discussed)150 1203 y(later\))150 1314 y(One)16 b(thing)g(whic)o(h)f(m)
o(ust)g(b)q(e)h(realized)f(with)h(kmallo)q(c)e({)j(it)f(can)g(only)g(allo)q
(cate)g(a)g(maxim)o(um)c(of)150 1383 y(one)k(Lin)o(ux)g(page)h(\(4096)h(b)o
(ytes\).)i(If)c(y)o(ou)g(w)o(an)o(t)h(more,)d(y)o(ou)i(will)f(ha)o(v)o(e)h
(to)g(create)g(a)h(link)o(ed)d(list.)150 1494 y(Change)j(y)o(our)f(driv)o(er)
f(so)i(that)g(instead)f(of)h(listing)e(4,)h(y)o(ou)g(ha)o(v)o(e)g(this:)150
1653 y Fh(==========================)o(=======)o(=======)198
1717 y(File)23 b(Listing)g(5)h(\(partial\):)e(testdata.c)150
1781 y(==========================)o(=======)o(=======)150 1846
y(static)h(char)g(*test_data=NULL;)150 1910 y(static)g(int)g
(test_data_size=0;)150 2039 y(static)g(int)g(test_write\(struct)f(inode)h(*)h
(inode,)f(struct)g(file)g(*)h(file,)198 2103 y(char)f(*)h(buffer,)f(int)g
(count\))150 2167 y({)198 2232 y(printk\("Write)f(\045d)h(bytes\\n",count\);)
198 2296 y(if)g(\(count>4095\))g(return)g(-ENOMEM;)198 2361
y(if)g(\(test_data!=NULL\))f(kfree_s\(\(void)g(*\)test_data,)g
(test_data_size\);)198 2425 y(test_data_size)g(=)h(0;)198 2489
y(test_data)f(=)i(\(char)f(*\)kmalloc\(\(unsigned)f(int\)count,)g
(GFP_KERNEL\);)198 2554 y(if)h(\(test_data==NULL\))f(return)h(-ENOMEM;)p
eop
%%Page: 22 23
22 22 bop 150 -84 1800 3 v 150 -100 a Fk(3.4.)43 b(Using)18
b(Memory)1254 b Fo(22)198 96 y Fh(memcpy_fromfs\(\(void)21
b(*\)test_data,)h(\(void)h(*\)buffer,)g(\(unsigned)g(long\)count\);)198
161 y(test_data[count]=0;)45 b(/*)23 b(NUL-terminate)g(the)g(string)g(if)h
(necessary)e(*/)198 225 y(test_data_size)g(=)h(count;)198 289
y(return)g(count;)150 354 y(})150 519 y Fo(Here,)15 b(instead)i(of)g
(statically)f(allo)q(cating)h(memory)d(for)j(the)f(string,)h(w)o(e)f
(dynamically)e(allo)q(cate)150 588 y(it)i(using)h(kmallo)q(c.)j(Note)c
(\014rst,)g(that)h(if)f(w)o(e)g(had)h(already)f(allo)q(cated)h(a)g(string,)f
(w)o(e)g(free)g(it)g(\014rst)150 656 y(b)o(y)h(using)g(kfree)p
454 656 15 2 v 17 w(s.)24 b(This)17 b(is)g(faster)h(than)f(using)h(kfree,)e
(b)q(ecause)h(kfree)f(w)o(ould)h(ha)o(v)o(e)g(to)g(searc)o(h)150
725 y(for)h(the)f(size)g(of)h(the)f(ob)s(ject)g(allo)q(cated.)26
b(Here)16 b(w)o(e)i(kno)o(w)f(what)i(the)e(size)g(w)o(as,)h(so)g(w)o(e)f(can)
h(use)150 794 y(kfree)p 257 794 V 17 w(s.)j(kmallo)q(c)15 b(vs.)21
b(mallo)q(c)15 b(is)h(discussed)g(b)q(elo)o(w.)150 905 y(Next,)h(note)g(that)
i(w)o(e)e(use)h(the)f(GFP)p 852 905 V 18 w(KERNEL)h(priorit)o(y)f(in)g(the)g
(kmallo)q(c.)24 b(This)18 b(causes)g(the)150 974 y(pro)q(cess)g(to)g(go)h(to)
f(sleep)e(if)i(there)f(is)g(no)h(memory)d(a)o(v)m(ailable,)i(and)h(the)f(pro)
q(cess)h(will)f(w)o(ak)o(e)g(up)150 1042 y(again)h(when)f(there)f(is)h
(memory)d(to)k(spare.)23 b(In)17 b(general,)g(the)f(pro)q(cess)i(will)e
(sleep)g(un)o(til)g(a)h(page)150 1111 y(of)g(memory)c(is)j(sw)o(app)q(ed)h
(out)g(to)f(disk.)150 1223 y(In)f(the)g(ev)o(en)o(t)e(of)i(catastrophic)h
(memory)c(non-a)o(v)m(ailabilit)o(y)l(,)i(kmallo)q(c)f(will)h(return)h(NULL,)
f(and)150 1291 y(w)o(e)j(should)h(handle)f(that)h(case.)24
b(Unfortunately)17 b(here,)f(w)o(e)h(ha)o(v)o(e)f(already)i(freed)e(the)h
(previous)150 1360 y(string)f({)h(although)g(that)g(could)f(b)q(e)g(c)o
(hanged)h(easily)e(b)o(y)h(kmallo)q(cing,)e(then)i(kfreeing.)150
1471 y(The)g(rest)g(of)h(the)f(co)q(de)g(reads)h(as)g(in)f(listing)f(4.)150
1583 y(When)26 b(w)o(e)f(get)h(in)o(to)f(the)h(section)f(on)h(in)o(terrupt)f
(handling,)j(w)o(e)d(will)g(discuss)h(the)f(use)h(of)150 1651
y(GFP)p 256 1651 V 18 w(A)l(TOMIC)15 b(as)i(a)g(kmallo)q(c)d(priorit)o(y)l(.)
150 1763 y(A)i(brief)f(excursion)h(in)o(to)g(kmallo)q(c)e(vs.)22
b(mallo)q(c:)150 1874 y(The)f(mallo)q(c\(\))e(call)h(allo)q(cates)h(memory)c
(in)k(user)f(space,)i(whic)o(h)e(is)g(\014ne)h(if)f(that's)h(what)g(y)o(ou)
150 1943 y(w)o(an)o(t.)i(Here,)16 b(w)o(e)h(w)o(an)o(t)f(to)i(ha)o(v)o(e)e
(the)h(driv)o(er)e(store)j(information)e(so)h(that)h(*an)o(y*)f(pro)q(cess)h
(can)150 2012 y(use)j(it,)h(and)f(so)h(w)o(e)f(ha)o(v)o(e)f(to)i(allo)q(cate)
f(memory)d(in)j(the)g(k)o(ernel.)34 b(That)22 b(means,)f(kmallo)q(c\(\).)150
2080 y(F)l(urther,)15 b(there)h(is)g(a)h(maxim)o(um)12 b(of)k(4096)i(b)o
(ytes)e(whic)o(h)f(can)i(b)q(e)f(allo)q(cated)h(in)f(an)o(y)g(one)g(call)g
(of)150 2149 y(kmallo)q(c.)21 b(This)c(means)e(that)i(y)o(ou)g(cannot)g(b)q
(e)g(guaran)o(teed)g(to)g(get)g(con)o(tiguous)g(space)g(of)g(o)o(v)o(er)150
2218 y(4096)h(b)o(ytes.)i(Y)l(ou)d(will)e(ha)o(v)o(e)g(to)i(use)f(a)h(link)o
(ed)d(list)i(of)g(kmallo)q(ced)f(bu\013ers.)150 2329 y(Alternativ)o(ely)l(,)d
(y)o(ou)k(can)g(fo)q(ol)g(with)g(the)f(init)g(section)g(of)h(the)g(driv)o
(er,)e(and)i(reserv)o(e)e(con)o(tiguous)150 2398 y(space)i(for)h(y)o(ourself)
e(on)i(init)e(\(but)i(then)f(it)g(ma)o(y)e(as)j(w)o(ell)e(b)q(e)i(statically)
e(allo)q(cated\).)p eop
%%Page: 23 24
23 23 bop 150 -84 1800 3 v 150 -100 a Fk(3.5.)37 b(Pro)r(cess)18
b(Sync)n(hronization)1029 b Fo(23)150 96 y Ff(3.5)83 b(Pro)r(cess)27
b(Sync)n(hronization)150 257 y Fo(F)l(or)16 b(m)o(y)f(next)g(tric)o(k,)g
(I...fall..)o(..a..)o(.sl)o(eep)e(\(SNNXXXX!!\))150 369 y(The)21
b(thing)g(whic)o(h)f(really)g(sa)o(v)o(es)h(m)o(ultitasking)e(op)q(erating)j
(systems)e(is)g(that)i(man)o(y)d(pro)q(cess)150 437 y(sleep)c(when)h(w)o
(aiting)g(for)g(ev)o(en)o(ts)f(to)h(o)q(ccur.)22 b(If)15 b(this)h(w)o(ere)f
(not)h(true,)g(pro)q(cesses)g(w)o(ould)g(alw)o(a)o(ys)150 506
y(b)q(e)h(burning)g(cycles,)d(and)k(there)e(w)o(ould)g(really)g(b)q(e)g(no)h
(big)g(di\013erence)f(b)q(et)o(w)o(een)f(running)i(y)o(our)150
575 y(pro)q(cesses)g(at)f(the)g(same)g(time,)d(or)k(one)f(after)g(the)g
(other.)150 686 y(But)f(when)h(a)g(pro)q(cess)h(sleeps,)e(other)h(pro)q
(cesses)g(get)g(to)g(use)g(the)f(CPU.)h(In)f(general,)g(pro)q(cesses)150
755 y(sleep)e(when)h(an)h(ev)o(en)o(t)d(they)i(are)g(w)o(aiting)f(for)i(has)f
(not)h(y)o(et)e(happ)q(ened.)21 b(The)14 b(exception)f(to)h(this)150
823 y(is)h(pro)q(cesses)h(whic)o(h)e(are)i(designed)f(to)g(do)h(w)o(ork)f
(when)h(nothing)g(is)f(happ)q(ening.)21 b(F)l(or)16 b(example,)150
892 y(y)o(ou)i(migh)o(t)e(ha)o(v)o(e)h(a)i(pro)q(cess)g(sitting)e(around)i
(using)g(cycles)d(to)j(calculate)e(pi)g(out)i(to)f(a)h(zillion)150
960 y(digits.)k(That)17 b(kind)f(of)h(bac)o(kground)h(pro)q(cess)f(should)g
(ha)o(v)o(e)f(its)h(priorit)o(y)f(set)g(real)h(lo)o(w)f(so)i(that)150
1029 y(it)c(isn't)h(executed)e(often)i(when)g(other)g(\(presumably)e(more)h
(imp)q(ortan)o(t\))g(pro)q(cesses)h(ha)o(v)o(e)f(w)o(ork)150
1098 y(to)j(do.)150 1209 y(Since)i(pro)q(cesses)i(sleep)e(when)h(w)o(aiting)g
(for)h(ev)o(en)o(ts,)e(and)i(said)f(ev)o(en)o(ts)f(are)h(usually)g(handled)
150 1278 y(b)o(y)d(driv)o(ers,)e(driv)o(ers)h(m)o(ust)g(cause)h(the)g(pro)q
(cesses)h(whic)o(h)e(called)g(them)g(to)h(sleep)g(if)f(not)i(ready)l(.)150
1346 y(This)e(is)g(the)g(idea)g(b)q(ehind)h(the)f(select\(\))f(call,)g(whic)o
(h)g(will)g(b)q(e)i(dealt)f(with)g(in)g(a)g(later)g(c)o(hapter.)150
1458 y(T)l(o)g(illustrate)f(sleeping)g(and)i(w)o(aking)e(pro)q(cesses,)h(w)o
(e)g(will)e(alter)i(our)g(driv)o(er)e(from)h(listing)g(2)i(b)o(y)150
1527 y(adding)g(a)g(new)f(write)f(function)h(and)h(c)o(hanging)g(the)f(read)g
(function)g(around)i(as)e(follo)o(ws:)150 1688 y Fh
(==========================)o(=======)o(=======)198 1752 y(File)23
b(Listing)g(6)h(\(partial\):)e(testdata.c)150 1817 y
(==========================)o(=======)o(=======)150 1881 y(static)h(char)g
(test_data[]="Linux)f(is)h(really)g(funky!\\n";)150 1945 y(static)g(int)g
(wakeups)g(=)h(0;)150 2010 y(static)f(struct)g(wait_queue)g(*wait_queue)f(=)i
(NULL;)150 2138 y(static)f(int)g(test_write\(struct)f(inode)h(*)h(inode,)f
(struct)g(file)g(*)h(file,)198 2203 y(char)f(*)h(buffer,)f(int)g(count\))150
2267 y({)198 2331 y(int)g(i;)198 2460 y(printk\("Write)f(\045d)h
(bytes\\n",count\);)198 2524 y(wake_up_interruptible\(&w)o(ait_que)o(ue\);)p
eop
%%Page: 24 25
24 24 bop 150 -84 1800 3 v 150 -100 a Fk(3.5.)43 b(Pro)r(cess)18
b(Sync)n(hronization)1023 b Fo(24)198 96 y Fh(printk\("Woke)22
b(\045d)i(processes.\\n",wakeups\);)198 161 y(wakeups)f(=)g(0;)198
225 y(return)g(count;)150 289 y(})150 418 y(static)g(int)g(test_read\(struct)
f(inode)h(*)h(inode,)f(struct)g(file)g(*)h(file,)651 482 y(char)f(*)h
(buffer,)f(int)h(count\))150 547 y({)198 611 y(int)f(offset;)198
740 y(printk\("Test)f(Data)h(Generator,)g(reading)g(\045d)g
(bytes\\n",count\);)198 869 y(printk\("Process)f(going)h(to)g(sleep\\n"\);)
198 933 y(wakeups++;)198 997 y(interruptible_sleep_on\(&)o(wait_qu)o(eue\);)
198 1062 y(printk\("Process)f(has)h(woken)g(up!\\n"\);)198
1190 y(for)g(\(offset=0;)g(offset<count;)f(offset++\))245 1255
y(put_fs_byte\(test_data[offset)e(\045)k(\(sizeof\(test_data\)-1\)],)d
(buffer+offset\);)198 1319 y(return)i(offset;)150 1383 y(})150
1549 y Fo(Don't)d(forget)g(to)h(put)f(the)g(test)p 761 1549
15 2 v 17 w(write)f(function)h(in)g(the)f(\014le)p 1312 1549
V 17 w(op)q(erations)i(struct!)32 b(But)20 b(don't)150 1618
y(compile)14 b(this)i(driv)o(er)f(just)h(y)o(et!)21 b(Read)16
b(on...)150 1729 y(The)h(op)q(eration)g(of)h(this)e(driv)o(er)g(is)g(as)i
(follo)o(ws:)k(On)17 b(a)g(read,)g(put)g(the)f(pro)q(cess)i(to)f(sleep.)22
b(On)17 b(a)150 1798 y(write,)g(w)o(ak)o(e)f(up)i(all)f(those)h(pro)q(cesses)
g(whic)o(h)f(ha)o(v)o(e)f(gone)i(to)g(sleep)f(in)g(this)g(driv)o(er.)24
b(This)17 b(will)150 1866 y(allo)o(w)f(the)g(pro)q(cesses)h(to)f(complete)e
(the)i(read.)150 1978 y(There)22 b(are)g(t)o(w)o(o)h(new)f(v)m(ariables)g
(here,)h(w)o(ak)o(eups)f(and)h(w)o(ait)p 1319 1978 V 17 w(queue.)39
b(The)23 b(w)o(ait)p 1711 1978 V 17 w(queue)e(is)i(a)150 2046
y(circular)15 b(queue)g(of)h(pro)q(cesses)g(whic)o(h)f(are)h(sleeping.)k(It)
15 b(is)h(FIF)o(O,)e(so)j(that)f(the)f(pro)q(cess)i(w)o(ok)o(en)150
2115 y(up)f(is)g(the)g(\014rst)h(pro)q(cess)g(whic)o(h)e(w)o(en)o(t)h(to)h
(sleep.)150 2227 y(The)c(k)o(ernel)f(handles)h(the)g(queue)f(for)h(us;)h(all)
f(w)o(e)g(need)f(to)i(do)f(is)g(supply)g(a)h(p)q(oin)o(ter)e(to)i(the)f
(queue)150 2295 y(and)k(initialize)d(it)h(to)i(NULL)f(\(i.e.,)e(the)i(queue)g
(is)g(empt)o(y\).)150 2407 y(W)l(e'll)24 b(use)h(the)g(w)o(ak)o(eups)g(v)m
(ariable)g(to)h(tell)e(us)i(ho)o(w)g(man)o(y)e(pro)q(cesses)i(are)f(tak)o(en)
g(o\013)h(the)150 2475 y(w)o(ait)p 244 2475 V 17 w(queue)19
b(\(i.e.,)f(w)o(ok)o(en)g(up\))i({)f(whic)o(h)g(is)g(the)g(n)o(um)o(b)q(er)e
(of)j(pro)q(cesses)f(whic)o(h)g(ha)o(v)o(e)f(already)150 2544
y(gone)i(to)g(sleep.)31 b(So)20 b(eac)o(h)f(time)e(a)j(pro)q(cess)g(is)g
(slept)f(on,)h(w)o(e)f(incremen)o(t)e(w)o(ak)o(eups.)31 b(When)20
b(a)p eop
%%Page: 25 26
25 25 bop 150 -84 1800 3 v 150 -100 a Fk(3.5.)43 b(Pro)r(cess)18
b(Sync)n(hronization)1023 b Fo(25)150 96 y(write)16 b(request)f(comes)g(in,)h
(w)o(e)f(w)o(ak)o(e)h(up)g(w)o(ak)o(eups)g(pro)q(cesses)h(and)g(reset)f(w)o
(ak)o(eups)g(to)h(zero.)150 208 y(Simple,)c(y)o(es?)21 b(No)o(w)c(w)o(e)e
(get)i(in)o(to)f(the)g(stic)o(ky)e(part.)150 319 y(In)20 b(the)h(Guide,)g(y)o
(ou)f(see)h(that)g(y)o(ou)f(can)h(c)o(ho)q(ose)g(t)o(w)o(o)g(w)o(a)o(ys)f(of)
h(sleeping)f({)h(in)o(terruptible)e(or)150 388 y(not.)j(In)o(terruptible)13
b(sleeps)j(can)g(b)q(e)g(in)o(terrupted)f(\(i.e.,)f(the)h(pro)q(cess)i(is)f
(w)o(ok)o(en)f(up\))h(b)o(y)g(signals)150 457 y(\(suc)o(h)22
b(as)g(SIGUSR\))f(and)i(hardw)o(are)f(in)o(terrupts.)38 b(Non-in)o
(terruptible)20 b(sleeps)h(can)h(only)g(b)q(e)150 525 y(in)o(terrupted)11
b(b)o(y)g(hardw)o(are)h(in)o(terrupts.)19 b(Not)12 b(ev)o(en)e(a)j(kill)d(-9)
i(will)f(w)o(ak)o(e)g(up)h(a)g(non-in)o(terruptible)150 594
y(pro)q(cess)19 b(whic)o(h)e(is)h(sleeping!)25 b(Supp)q(ose)19
b(y)o(ou)f(ha)o(v)o(e)f(a)i(signal)f(handler)g(in)f(y)o(our)h(pro)q(cess)h
(whic)o(h)150 662 y(will)c(react)h(to)h(signal)f(30)h(\(SIGUSR\).)e(That)i
(is,)f(y)o(ou)g(can)h(do)f(kill)f(-30)i(<pid>.)k(What)c(happ)q(ens?)150
774 y(When)h(the)f(sc)o(heduler)f(gets)i(around)g(to)g(c)o(hec)o(king)e(the)h
(signalled)g(pro)q(cess)i(for)e(runnabilit)o(y)l(,)f(it)150
843 y(sees)g(that)h(there)e(is)h(a)h(signal)g(p)q(ending.)k(This)16
b(allo)o(ws)h(the)f(pro)q(cess)h(to)f(con)o(tin)o(ue)f(to)i(run)f(where)150
911 y(it)k(left)f(o\013,)j(with)e(a)g(t)o(wist:)29 b(when)21
b(the)f(pro)q(cess)g(lea)o(v)o(es)f(k)o(ernel)g(mo)q(de)g(\(the)h(driv)o(er)f
(call\))g(and)150 980 y(en)o(ters)12 b(user)h(mo)q(de,)f(the)h(signal)g
(handler)g(is)f(called)g(\(if)g(there)g(is)h(one\).)20 b(Once)12
b(the)h(signal)g(handler)150 1048 y(function)j(exits,)f(one)h(of)h(t)o(w)o(o)
f(things)h(can)f(happ)q(en:)223 1204 y Fn(\017)24 b Fo(If)16
b(the)g(original)h(system)e(call)h(exited)f(with)h(-EREST)l(AR)l(TNOINTR,)g
(then)g(the)g(pro)q(cess)272 1273 y(will)f(con)o(tin)o(ue)g(as)i(if)f(it)g
(calls)f(the)h(system)f(call)g(again)i(with)g(the)f(same)f(argumen)o(ts.)223
1381 y Fn(\017)24 b Fo(If)17 b(the)g(original)g(system)f(call)h(did)g(not)g
(exit)g(with)g(-EREST)l(AR)l(TNOINTR,)f(but)i(with)f(-)272
1449 y(EREST)l(AR)l(TNOHAND)11 b(or)h(-EREST)l(AR)l(TSYS,)g(then)g(the)g(pro)
q(cess)h(will)e(con)o(tin)o(ue)g(exit-)272 1518 y(ting)16 b(from)f(the)h
(system)f(call)h(with)g(-1,)g(errno)g(-EINTR.)223 1626 y Fn(\017)24
b Fo(If)10 b(the)h(original)g(system)e(call)h(did)h(not)g(exit)f(with)g
(-ERST)l(AR)l(TNOINTR,)g(-EREST)l(AR)l(TNOHAND,)272 1694 y(or)19
b(-EREST)l(AR)l(TSYS,)g(then)f(the)h(pro)q(cess)h(will)d(con)o(tin)o(ue,)h
(exitting)g(from)g(the)g(system)272 1763 y(call)d(with)h(whatev)o(er)g(w)o
(as)h(returned.)150 1919 y(Y)l(ou)11 b(can)g(see)f(most)g(of)h(this)g(\(if)f
(y)o(ou)h(can)g(read)g(m)o(utilated)e(80386)j(assem)o(bly\))d(in)i(<src>/k)o
(ernel/sys)p 1949 1919 15 2 v 16 w(call.S)150 1987 y(and)16
b(<src>/k)o(ernel/signal.c.)j(Although)d(signal)g(handling)h(has)f(b)q(een)g
(considerably)f(rev)m(amp)q(ed)150 2056 y(for)c(0.99pl8,)h(the)f(basic)g
(sequence)e(of)j(op)q(erations)f(is)g(in)o(tact)f(across)i(patc)o(h)f(lev)o
(els.)17 b(-EREST)l(AR)l(TNOHAND)150 2125 y(is)f(new)g(in)g(0.99pl8.)150
2236 y(This)g(is)f(imp)q(ortan)o(t)g({)h(the)f(driv)o(er)g(call)f(should)j
(not)f(b)q(e)f(completed)f(except)g(for)i(clean)o(up,)f(since)150
2305 y(the)h(k)o(ernel)f(will)g(return)h(an)h(error)f(for)g(y)o(ou)g(or)h
(redo)f(the)g(system)f(call.)150 2416 y(When)e(the)h(pro)q(cess)g(con)o(tin)o
(ues)e(to)i(run)g(b)q(efore)f(calling)g(the)g(signal)h(handler,)f(it)g(pic)o
(ks)g(up)g(where)150 2485 y(it)j(left)f(o\013)i({)f(in)g(the)g(in)o
(terruptible)p 806 2485 V 15 w(sleep)p 925 2485 V 17 w(on)h(function.)k(This)
16 b(function)g(tak)o(es)g(the)f(pro)q(cess)i(o\013)150 2554
y(the)11 b(w)o(ait)p 323 2554 V 17 w(queue)g(automatically)f(\(whic)o(h)g(is)
h(nice\).)19 b(But)11 b(then)g(w)o(ak)o(eups)g(is)g(not)h(up)q(dated)g
(\(whic)o(h)p eop
%%Page: 26 27
26 26 bop 150 -84 1800 3 v 150 -100 a Fk(3.5.)43 b(Pro)r(cess)18
b(Sync)n(hronization)1023 b Fo(26)150 96 y(is)12 b(not)h(so)g(nice\).)19
b(In)12 b(that)g(case,)h(when)f(a)h(subsequen)o(t)f(write)f(comes)g(in,)i
(the)f(n)o(um)o(b)q(er)e(of)j(sleeping)150 165 y(pro)q(cesses)k(rep)q(orted)f
(will)f(b)q(e)i(wrong!)150 276 y([pulpit-p)q(ounding)g(mo)q(de)e(on])150
388 y(Although)f(for)h(this)f(driv)o(er)f(ignoring)i(this)f(is)g(not)h(suc)o
(h)f(a)g(big)h(deal,)f(it)f(is)h(slopp)o(y)g(programming)150
457 y(for)g(a)h(driv)o(er.)k(Driv)o(er)13 b(co)q(de)h(m)o(ust)f(b)q(e)h(so)h
(p)q(erfect)f(that)g(it)g(op)q(erates)h(lik)o(e)d(a)i(w)o(ell-oiled)f(mac)o
(hine,)150 525 y(with)j(no)i(slip-ups.)k(One)16 b(error)h({)g(one)g(bit)f(of)
h(co)q(de)g(that)g(gets)g(out)g(of)g(sync)f({)h(and)g(y)o(ou)g(can)g(at)150
594 y(least)h(anno)o(y)g(users)g(and)g(mak)o(e)e(them)g(thro)o(w)i(up)g
(their)g(hands)g(in)g(frustration,)g(and)g(at)h(w)o(orst)150
662 y(panic)e(the)g(k)o(ernel)e(and)j(mak)o(e)d(users)i(thro)o(w)g(y)o(our)g
(co)q(de)h(a)o(w)o(a)o(y)e(in)h(frustration!)24 b(Also,)17
b(there)f(is)150 731 y(nothing)j(w)o(orse)f(than)h(sp)q(ending)f(time)e
(debugging)j(an)g(application)f(when)g(the)g(bug)h(is)e(in)h(the)150
800 y(driv)o(er,)c(or)j(trying)f(to)h(co)q(de)f(around)h(a)g(kno)o(wn)f(driv)
o(er)f(\015a)o(w.)150 911 y([pulpit-p)q(ounding)i(mo)q(de)e(o\013)s(])150
1023 y(So)i(ho)o(w)f(do)h(w)o(e)f(solv)o(e)f(this)i(out-of-sync)g(problem?)
150 1134 y(F)l(act:)k(ignoring)16 b(in)o(terrupts,)f(all)g(pro)q(cesses)h
(are)g(atomic)f(when)h(they)f(are)h(in)f(the)h(k)o(ernel.)j(That)150
1203 y(is,)g(unless)g(a)g(pro)q(cess)h(p)q(erforms)e(an)h(op)q(eration)h
(whic)o(h)e(can)h(sleep)g(\(lik)o(e)e(the)h(call)g(to)i(kmallo)q(c)150
1271 y(w)o(e)c(visited)f(ab)q(o)o(v)o(e\),)h(or)h(a)f(hardw)o(are)h(in)o
(terrupt)f(comes)e(in,)i(the)g(\015o)o(w)h(of)f(execution)g(go)q(es)h(from)
150 1340 y(en)o(tering)c(the)h(k)o(ernel)e(to)j(lea)o(ving)e(the)g(k)o
(ernel,)g(with)h(no)g(time)e(tak)o(en)h(out)i(to)f(run)g(an)o(ything)g(else.)
150 1409 y(This)g(do)q(es)g(not)h(mean)d(that)i(the)g(co)q(de)g(in)f(user)h
(space)g(gets)g(to)g(con)o(tin)o(ue)f(to)h(run.)21 b(If)13
b(the)g(pro)q(cess)150 1477 y(lea)o(v)o(es)18 b(the)h(system)e(call)h(and)i
(is)f(not)h(eligible)d(to)i(run,)h(other)f(pro)q(cesses)h(ma)o(y)d(run)i(and)
h(then)150 1546 y(later)15 b(on)h(the)f(system)g(call)f(app)q(ears)j(to)f(ha)
o(v)o(e)f(returned)g(to)h(the)f(pro)q(cess.)22 b(More)15 b(on)h(that)g
(later.)150 1657 y(That)24 b(fact)f(is)g(go)q(o)q(d)i(to)e(kno)o(w.)42
b(It)23 b(means)f(that)h(as)h(long)f(as)h(w)o(e)f(are)g(sure)g(up)q(on)h(en)o
(tering)150 1726 y(the)c(test)p 320 1726 15 2 v 17 w(write)g(call)f(that)i(w)
o(ak)o(eups)e(con)o(tains)i(the)e(correct)h(n)o(um)o(b)q(er)e(of)j(sleeping)e
(pro)q(cesses,)150 1795 y(test)p 232 1795 V 17 w(write)k(will)g(w)o(ork)g
(100comes)g(in)g(whic)o(h)g(causes)h(the)f(driv)o(er)f(to)i(execute)e(an)i
(in)o(terrupt)150 1863 y(handler,)14 b(w)o(e)h(are)f(safe,)h(but)g(here)f(w)o
(e)g(ha)o(v)o(e)g(no)h(suc)o(h)g(handler,)f(and)h(so)h(w)o(e)e(can)h(ignore)g
(that)g(for)150 1932 y(no)o(w.)22 b(W)l(e)16 b(will)f(deal)h(with)g(in)o
(terrupts)f(in)h(a)h(later)f(c)o(hapter.)150 2043 y(So)c(w)o(e)f(kno)o(w)g
(that)h(write)f(do)q(esn't)h(really)e(ha)o(v)o(e)h(to)g(b)q(e)h(c)o(hanged.)
20 b(It's)10 b(really)h(the)g(read)g(that)h(w)o(e're)150 2112
y(concerned)k(ab)q(out.)25 b(What)17 b(w)o(e)g(need)f(to)h(do)h(is)f(after)f
(w)o(e)h(get)g(out)g(of)g(in)o(terruptible)p 1727 2112 V 16
w(sleep)p 1847 2112 V 17 w(on\(\))150 2181 y(w)o(e)f(see)f(if)h(w)o(e)f(w)o
(ere)g(gen)o(uinely)g(w)o(ok)o(en)g(up)i(through)g(a)f(w)o(ak)o(eup)g(call,)e
(or)j(if)e(w)o(e)h(w)o(ere)f(signalled.)150 2249 y(If)e(w)o(e)g(w)o(ere)g
(signalled,)h(then)f(w)o(e)g(kno)o(w)h(that)g(the)g(write)f(call)g(w)o(asn't)
g(the)h(cause)g(of)g(the)f(w)o(ak)o(eup,)150 2318 y(and)k(so)g(w)o(e)f
(should)g(really)f(decremen)o(t)f(w)o(ak)o(eups.)150 2429 y(No)o(w)k(for)g
(some)e(lo)q(ose)j(ends.)26 b(Remem)n(b)q(er)15 b(that)j(up)q(on)h
(signalling,)e(the)h(k)o(ernel)e(only)h(\015ags)i(the)150 2498
y(signal)e(for)f(the)g(pro)q(cess,)h(and)g(sets)f(the)g(pro)q(cess)h(to)g(a)f
(runnable)h(state.)k(That)c(do)q(es)g(not)g(mean)p eop
%%Page: 27 28
27 27 bop 150 -84 1800 3 v 150 -100 a Fk(3.5.)43 b(Pro)r(cess)18
b(Sync)n(hronization)1023 b Fo(27)150 96 y(that)17 b(it)g(can)g(run)f
(immediatel)o(y)l(.)k(Another)c(pro)q(cess)i(ma)o(y)d(get)i(to)g(run)g
(\014rst,)g(and)g(that)g(pro)q(cess)150 165 y(ma)o(y)c(v)o(ery)h(w)o(ell)f
(run)i(the)g(driv)o(er's)e(write)i(co)q(de,)f(w)o(aking)h(up)g(all)g(pro)q
(cesses.)21 b(Of)15 b(course,)f(w)o(e)h(can)150 234 y(consider)f(the)h
(signalled)f(pro)q(cess)i(to)f(b)q(e)g(still)e(asleep)i(when)f(it)h(gets)g
(the)f(signal,)h(b)q(ecause)g(it)f(has)150 302 y(not)h(y)o(et)f(run)h(its)f
(signal)h(handler.)20 b(So)15 b(when)g(that)g(other)g(pro)q(cess)g(gets)g(to)
g(run)g(the)f(write)g(co)q(de,)150 371 y(the)i(n)o(um)o(b)q(er)e(of)j
(sleeping)f(pro)q(cesses)g(is)g(indeed)g(correct,)f(and)i(w)o(ak)o(eups)f(is)
g(set)g(to)h(0.)150 482 y(But)23 b(no)o(w,)h(when)f(the)g(signalled)f(pro)q
(cess)i(is)e(run)h(again,)i(the)e(read)g(co)q(de)g(will)f(attempt)g(to)150
551 y(decremen)o(t)15 b(w)o(ak)o(eups,)i(making)g(it)g(-1!)26
b(The)18 b(next)f(write)g(will)g(displa)o(y)g(the)g(wrong)i(n)o(um)o(b)q(er)d
(of)150 620 y(sleeping)g(pro)q(cesses!)150 731 y(One)f(thing)g(sa)o(v)o(es)f
(us)i({)f(the)g(fact)g(that)g(w)o(e)g(can)g(detect)f(in)g(the)h(read)g(co)q
(de)g(that)h(the)e(write)h(co)q(de)150 800 y(w)o(as)i(executed,)d(simply)g(b)
q(ecause)j(w)o(ak)o(eups)f(is)g(0.)21 b(Remem)n(b)q(er)14 b(that)i(w)o(ak)o
(eups)g(is)g(incremen)o(ted)150 868 y(b)q(efore)j(the)g(sleep,)g(so)h(it)f
(is)g(guaran)o(teed)h(to)f(b)q(e)h(greater)f(than)h(0)g(if)f(the)g(write)f
(co)q(de)i(w)o(as)g(not)150 937 y(executed)15 b(b)q(efore)h(w)o(aking)g(up)h
(b)q(ecause)f(of)h(a)g(signal.)150 1048 y(So)c(if)e(the)h(write)g(co)q(de)g
(w)o(as)h(executed,)e(it)h(really)f(do)q(es)i(not)f(mak)o(e)f(sense)h(to)g
(decremen)o(t)e(w)o(ak)o(eups,)150 1117 y(so)17 b(w)o(e)f(just)g(sa)o(y)g
(that)h(only)f(if)g(w)o(ak)o(eups)g(is)g(non-zero)h(do)f(w)o(e)g(decremen)o
(t.)150 1229 y(T)l(o)h(implem)o(en)n(t)d(all)h(this,)h(add)h(this)f(co)q(de)g
(after)h(the)f(sleep:)150 1390 y Fh(==========================)o(=======)o
(=======)198 1454 y(File)23 b(Listing)g(7)h(\(partial\):)e(testdata.c)150
1518 y(==========================)o(=======)o(=======)150 1583
y(if)i(\(current->signal)d(&)j(~current->blocked\))d(/*)j(signalled?)e(*/)150
1647 y({)198 1712 y(printk\("Process)g(signalled.\\n"\);)198
1776 y(if)h(\(wakeups\))g(wakeups--;)198 1840 y(return)g(-ERESTARTNOINTR;)e
(/*)j(Will)f(restart)g(call)h(automagically)e(*/)150 1905 y(})150
2070 y Fo(No)o(w)14 b(that)g(y)o(ou'v)o(e)f(got)h(that)h(straigh)o(tened)f
(out,)g(let's)f(add)h(some)f(more)g(confusion)h(to)h(the)f(mix.)150
2139 y(Supp)q(ose)j(y)o(ou're)e(in)g(the)h(driv)o(er)f(call,)f(doing)j(nice)e
(things,)g(and)i(then)f(all)f(of)h(a)g(sudden)h(a)f(nast)o(y)150
2207 y(timer)f(in)o(terrupt)i(\(task)h(switc)o(h)f(p)q(ossibilit)o(y\))g
(comes)f(in.)25 b(What)18 b(no)o(w?)26 b(Will)17 b(there)g(b)q(e)h(a)g(task)
150 2276 y(switc)o(h?)27 b(No.)h(A)17 b(R)o(UNNING)f(task)j(in)f(the)g(k)o
(ernel)f(cannot)i(b)q(e)f(switc)o(hed)g(out,)g(otherwise)h(all)150
2345 y(hell)c(w)o(ould)h(break)h(lo)q(ose.)k(Whew!)h(I'm)14
b(glad)i(w)o(e)g(don't)h(ha)o(v)o(e)e(to)i(pa)o(y)f(atten)o(tion)g(to)g
(that!)150 2456 y(W)l(ell,)c(no)o(w)i(that)f(w)o(e'v)o(e)f(gone)i(through)g
(all)f(the)g(p)q(ossible)g(w)o(a)o(ys)g(signals)h(can)f(mak)o(e)e(y)o(our)j
(insides)150 2525 y(t)o(wist,)h(y)o(ou)i(can)f(co)q(de)g(the)g(driv)o(er.)k
(Remem)n(b)q(er)14 b(to)i(put)h(listing)e(7)i(in)o(to)f(listing)g(6!)p
eop
%%Page: 28 29
28 28 bop 150 -84 1800 3 v 150 -100 a Fk(3.5.)37 b(Pro)r(cess)18
b(Sync)n(hronization)1029 b Fo(28)150 96 y(Here's)12 b(ho)o(w)j(w)o(e're)d
(going)j(to)f(test)f(this)h(driv)o(er.)19 b(Sev)o(eral)12 b(pro)q(cesses)j
(will)d(call)h(read)h(\(and)g(sleep\).)150 165 y(When)19 b(they)g(w)o(ak)o(e)
g(up,)h(they're)e(going)j(to)e(sa)o(y)h(that)g(they)f(w)o(ere)f(w)o(ok)o(en)h
(up)h(\(as)g(opp)q(osed)h(to)150 234 y(prin)o(ting)14 b(out)i(what)f(they)g
(just)g(read)g({)g(w)o(e)g(already)f(kno)o(w)h(that)h(w)o(orks\).)21
b(One)14 b(pro)q(cess)i(will)e(do)150 302 y(a)j(write)f(to)h(w)o(ak)o(e)f
(the)h(other)f(pro)q(cesses)h(up.)23 b(This)17 b(is)f(the)h(trigger)f(pro)q
(cess.)23 b(Here)16 b(is)g(the)h(co)q(de)150 371 y(for)g(the)f(t)o(w)o(o)g(t)
o(yp)q(es)g(of)g(pro)q(cesses:)150 532 y Fh(==========================)o
(=======)o(=======)293 596 y(File)23 b(Listing)g(8:)h(data.c)150
661 y(==========================)o(=======)o(=======)150 725
y(#include)f(<stdio.h>)150 789 y(#include)g(<sys/types.h>)150
854 y(#include)g(<unistd.h>)150 918 y(#include)g(<fcntl.h>)150
982 y(#include)g(<errno.h>)150 1047 y(#include)g(<signal.h>)150
1176 y(/*)h(The)f(reader)g(process)g(*/)150 1304 y(void)g
(signal_handler\(int)f(x\))150 1369 y({)198 1433 y(printf\("Called)g(signal)h
(handler\\n"\);)198 1497 y(signal\(SIGUSR1,)f(signal_handler\);)f(/*)j(Reset)
f(signal)g(handler)g(*/)150 1562 y(})150 1690 y(void)g(main\(void\))150
1755 y({)198 1819 y(int)g(fd;)198 1884 y(char)g(buff[128];)198
1948 y(int)g(rtn;)198 2077 y(signal\(SIGUSR1,)f(signal_handler\);)f(/*)j
(Setup)f(signal)g(handler)g(*/)198 2205 y(fd)g(=)h
(open\("/dev/testdata",O_RDW)o(R\);)198 2270 y(printf\("/dev/testdata)d
(opened,)i(fd=\045d\\n",fd\);)198 2334 y(if)g(\(fd<=0\))g(exit\(0\);)198
2463 y(rtn)g(=)h(read\(fd,buff,sizeof\(buff\))o(\);)198 2527
y(printf\("Read)e(returns)h(\045d\\n",rtn\);)p eop
%%Page: 29 30
29 29 bop 150 -84 1800 3 v 150 -100 a Fk(3.5.)37 b(Pro)r(cess)18
b(Sync)n(hronization)1029 b Fo(29)198 96 y Fh(if)23 b(\(rtn<0\))198
161 y({)245 225 y(perror\("read"\);)245 289 y(exit\(1\);)198
354 y(})198 418 y(printf\("Process)f(woken)h(up!\\n"\);)198
482 y(close\(fd\);)150 547 y(})150 687 y(==========================)o
(=======)o(=======)293 752 y(File)g(Listing)g(9:)h(trigger.c)150
816 y(==========================)o(=======)o(=======)150 945
y(#include)f(<stdio.h>)150 1009 y(#include)g(<sys/types.h>)150
1073 y(#include)g(<unistd.h>)150 1138 y(#include)g(<fcntl.h>)150
1202 y(#include)g(<errno.h>)150 1266 y(#include)g(<signal.h>)150
1395 y(/*)h(The)f(writer)g(process)g(*/)150 1524 y(void)g(main\(int)g(argc,)g
(char)h(**argv\))150 1588 y({)198 1653 y(int)f(fd;)198 1717
y(char)g(buff[128];)198 1781 y(int)g(rtn;)198 1910 y(fd)g(=)h
(open\("/dev/testdata",O_RDW)o(R\);)198 1974 y(printf\("/dev/testdata)d
(opened,)i(fd=\045d\\n",fd\);)198 2039 y(if)g(\(fd<=0\))g(exit\(0\);)198
2167 y(if)g(\(argc>1\))198 2232 y({)245 2296 y
(kill\(atoi\(argv[1]\),SIGUSR1\);)245 2361 y(exit\(0\);)198
2425 y(})198 2489 y(rtn)g(=)h(write\(fd,buff,sizeof\(buff)o(\)\);)198
2554 y(if)f(\(rtn<0\))p eop
%%Page: 30 31
30 30 bop 150 -84 1800 3 v 150 -100 a Fk(3.5.)43 b(Pro)r(cess)18
b(Sync)n(hronization)1023 b Fo(30)198 96 y Fh({)245 161 y(perror\("write"\);)
245 225 y(exit\(1\);)198 289 y(})198 354 y(close\(fd\);)150
418 y(})150 584 y Fo(Compile)14 b(these)i(programs)h(using)f(gcc.)21
b(No)o(w)16 b(run)h(t)o(w)o(o)f(or)g(three)g(of)h(the)f(data)h(pro)q(cesses:)
198 745 y Fh(data)23 b(&)150 910 y Fo(The)16 b(last)h(thing)f(eac)o(h)g(of)g
(these)g(pro)q(cesses)h(should)g(prin)o(t)e(is)198 1071 y Fh(Process)23
b(going)g(to)g(sleep.)150 1233 y Fo(b)q(ecause)16 b(all)g(of)h(these)f(pro)q
(cesses)g(are)h(asleep.)k(No)o(w)16 b(run)g(the)g(trigger)g(program:)198
1381 y Fh(trigger)150 1530 y Fo(This)g(should)h(w)o(ak)o(e)f(up)g(all)g(the)g
(other)g(pro)q(cesses,)h(whic)o(h)e(should)i(sa)o(y)l(,)198
1679 y Fh(Process)23 b(woken)g(up!)150 1828 y Fo(Had)16 b(the)g(read)h
(function)f(returned)g(an)g(error)h(\(lik)o(e)d(EINTR\),)h(they)h(w)o(ould)g
(ha)o(v)o(e)g(said)198 1977 y Fh(read:)23 b(<error)g(text>)150
2125 y Fo(No)o(w,)e(let's)e(test)i(to)g(see)f(if)g(the)g(signal)g(detection)g
(and)h(restart)g(mec)o(hanism)c(w)o(orks.)34 b(Run)21 b(a)150
2190 y(single)d(data)h(pro)q(cess)h(in)e(the)g(bac)o(kground)h(via)g("data)g
(&".)29 b(Remem)n(b)q(er)16 b(it's)h(pid.)28 b(No)o(w,)19 b(run)150
2254 y(the)d(trigger)g(pro)q(cess)h(with)f(that)h(pid)f(as)h(an)f(argumen)o
(t:)198 2403 y Fh(trigger)23 b(<pid>)150 2552 y Fo(This)16
b(will)f(signal)i(<pid>)f(instead)g(of)g(w)o(aking)h(it)e(up)i(via)f(write.)k
(The)d(driv)o(er)e(should)h(sa)o(y)l(,)p eop
%%Page: 31 32
31 31 bop 150 -84 1800 3 v 150 -100 a Fk(3.6.)37 b(The)18 b(select)f(call)
1274 b Fo(31)198 96 y Fh(Process)23 b(signalled.)198 161 y(Called)g(signal)g
(handler)150 314 y Fo(but)d(the)f(pro)q(cess)i(should)f(not)g(w)o(ak)o(e)f
(up,)h(since)f(w)o(e)g(restarted)h(the)f(call.)31 b(Only)19
b(a)h(write)f(will)150 382 y(stop)e(the)f(call.)150 494 y Fk(Exp)r(erime)o(n)
n(t)g(3:)150 605 y Fo(Re-write)11 b(the)g(driv)o(er)f(so)i(that)g(instead)g
(of)g(alw)o(a)o(ys)f(restarting)h(the)f(call,)g(it)h(returns)f(with)h(EINTR)
150 674 y(on)21 b(signal)f(when)g(the)g(read)g(call's)f(coun)o(t)h(is)g(a)h
(sp)q(ecial)f(v)m(alue)f(or)i(v)m(alues)f(\(sa)o(y)g(an)o(ything)g(less)150
743 y(than)h(1000\).)37 b(T)l(est)20 b(to)h(see)g(if)f(the)g(read)h(call)f
(returns)h(EINTR)f(when)h(the)g(trigger)f(program)150 811 y(signals)d(the)f
(reading)g(pro)q(cess.)150 1033 y Ff(3.6)83 b(The)27 b(select)g(call)150
1194 y Fo(I)16 b(w)o(an)o(t)g(this,)g(that,)g(that...no,)f(THIS,)h(and)g
(that.)22 b(Or,)16 b(selects!)150 1306 y(The)11 b(select)f(call)g(is)h(one)g
(of)h(the)f(most)f(useful)h(calls)f(created)h(for)g(in)o(terfacing)f(to)h
(driv)o(ers.)19 b(Without)150 1374 y(it,)12 b(or)h(a)f(function)g(lik)o(e)f
(it,)h(if)f(y)o(ou)i(w)o(an)o(ted)e(to)i(c)o(hec)o(k)d(a)j(driv)o(er)e(for)h
(readiness,)h(y)o(ou)f(w)o(ould)g(ha)o(v)o(e)g(to)150 1443
y(p)q(oll)i(it)g(regularly)l(.)20 b(W)l(orse,)15 b(y)o(ou)f(w)o(ould)g(not)h
(b)q(e)g(able)f(to)g(c)o(hec)o(k)f(m)o(ultiple)e(driv)o(ers)i(for)i
(readiness)150 1511 y(at)i(the)f(same)f(time!)150 1623 y(But)h(enough)h(of)f
(this.)21 b(Y)l(ou)c(ha)o(v)o(e)e(select,)g(so)i(rejoice)e(and)i(b)q(e)f
(happ)o(y)l(.)150 1734 y(As)h(already)g(implied)e(b)o(y)i(the)g(\014rst)h
(paragraph,)h(the)e(select)f(system)g(call)g(allo)o(ws)i(a)g(pro)q(cess)g(to)
150 1803 y(c)o(hec)o(k)13 b(m)o(ultiple)e(driv)o(ers)j(for)h(readiness.)20
b(F)l(or)15 b(example,)d(supp)q(ose)k(y)o(ou)f(w)o(an)o(ted)f(the)g(pro)q
(cess)i(to)150 1872 y(sit)f(around)h(and)g(w)o(ait)g(for)f(one)h(of)f(t)o(w)o
(o)g(\014le)g(descriptors)g(to)h(b)q(e)g(ready)f(for)g(reading.)21
b(Usually)l(,)15 b(if)150 1940 y(a)h(descriptor)e(is)h(not)h(ready)f(for)g
(reading)h(and)g(y)o(ou)f(read)g(it,)f(it)h(will)f(put)h(y)o(our)g(pro)q
(cess)h(to)g(sleep)150 2009 y(\(or)g("blo)q(c)o(k"\).)22 b(But)15
b(y)o(ou)h(can)g(only)g(read)g(one)g(\014le)g(descriptor)f(at)h(a)h(time,)c
(and)k(here)e(y)o(ou)h(w)o(an)o(t)150 2078 y(to)h(essen)o(tially)d(blo)q(c)o
(k)i(on)p 643 2078 15 2 v 34 w(t)o(w)o(o)p 736 2078 V 34 w(fd's.)150
2189 y(In)j(that)g(case,)g(y)o(ou)g(use)g(the)f(select)g(call.)28
b(The)19 b(syn)o(tax)g(of)g(select)f(w)o(as)h(already)g(explained)e(in)150
2258 y(the)f(Guide,)f(so)i(let's)f(go)h(ab)q(out)g(implem)o(en)o(ti)o(ng)d(a)
j(select)e(function)h(in)g(our)g(driv)o(er.)150 2369 y(Add)21
b(the)h(follo)o(wing)f(co)q(de)h(to)g(the)g(driv)o(er,)f(and)h(put)g(the)f
(test)p 1363 2369 V 18 w(select)f(function)i(in)f(the)g(fops)150
2438 y(structure:)p eop
%%Page: 32 33
32 32 bop 150 -84 1800 3 v 150 -100 a Fk(3.6.)43 b(The)18 b(select)f(call)
1268 b Fo(32)150 96 y Fh(==========================)o(=======)o(=======)198
161 y(File)23 b(Listing)g(10)h(\(partial\):)e(testdata.c)150
225 y(==========================)o(=======)o(=======)150 354
y(static)h(int)g(test_select\(struct)f(inode)h(*inode,)g(struct)g(file)g
(*file,)699 418 y(int)g(sel_type,)g(select_table)f(*wait\))150
482 y({)198 547 y(printk\("Driver)g(entering)g(select.\\n"\);)198
611 y(if)h(\(sel_type==SEL_IN\))f(/*)h(ready)g(for)h(read?)f(*/)198
676 y({)245 740 y(if)h(\(wakeups\))f(/*)g(Any)h(process)f(is)g(sleeping)g(in)
h(here)f(*/)245 804 y({)293 869 y(select_wait\(&wait_queue,)e(wait\);)293
933 y(printk\("Driver)h(not)i(ready\\n"\);)293 997 y(return)f(0;)48
b(/*)23 b(Not)h(ready)f(yet)g(*/)245 1062 y(})245 1126 y(return)g(1;)48
b(/*)24 b(Ready)f(*/)198 1190 y(})198 1255 y(return)g(1;)47
b(/*)24 b(Always)f(ready)g(for)g(writes)h(and)f(exceptions)f(*/)150
1319 y(})150 1485 y Fo(========================================)150
1596 y(Here's)13 b(what)i(this)f(function)g(do)q(es.)22 b(When)14
b(a)h(pro)q(cess)f(issues)h(a)g(select)e(call)g(with)h(this)g(driv)o(er)f(as)
150 1665 y(one)h(of)h(the)e(fd's)h(to)h(select)d(on,)j(the)f(k)o(ernel)e
(will)h(call)g(test)p 1211 1665 15 2 v 18 w(select)f(with)i(sel)p
1523 1665 V 17 w(t)o(yp)q(e)g(b)q(eing)g(SEL)p 1867 1665 V
18 w(IN.)150 1733 y(If)j(w)o(ak)o(eups)g(is)h(non-zero)g(\(that)g(is,)f(pro)q
(cesses)h(ha)o(v)o(e)f(read)h(without)g(a)g(pro)q(cess)g(writing\))f(then)150
1802 y(w)o(e)f(will)f(sa)o(y)h(that)h(the)f(driv)o(er)f(is)h(not)g(ready)g
(for)h(reading.)k(In)16 b(this)g(case,)g(select)p 1659 1802
V 16 w(w)o(ait)g(will)f(add)150 1871 y(the)f(pro)q(cess)h(to)g(the)f(w)o(ait)
p 634 1871 V 17 w(queue)g(and)g(immediatel)o(y)d(return.)20
b(The)15 b(return)f(of)g(0)h(indicates)f(that)150 1939 y(the)i(driv)o(er)f
(is)h(not)h(ready)f(for)g(the)g(op)q(eration.)150 2051 y(F)l(or)g(an)o(y)g
(other)g(t)o(yp)q(e)f(of)h(op)q(eration)h(\(or)f(if)f(there)g(are)h(no)h(pro)
q(cesses)f(sleeping)f(in)h(read\))g(w)o(e)f(sa)o(y)150 2119
y(the)h(driv)o(er)f(is)h(ready)g(\(return)g(1\).)150 2231 y(The)i(only)g
(thing)g(that)g(m)o(ust)e(b)q(e)i(remem)o(b)q(ere)o(d)d(is)j(that)g(w)o(e)g
(are)g(using)g(the)g(same)e(w)o(ait)p 1812 2231 V 18 w(queue)150
2299 y(structure)h(for)g(pro)q(cesses)h(sleeping)e(in)h(read)g(and)h(pro)q
(cesses)g(sleeping)e(in)h(select.)23 b(This)17 b(means)150
2368 y(that)f(writing)e(to)i(the)f(driv)o(er)f(will)g(w)o(ak)o(e)g(up)i(b)q
(oth)g(t)o(yp)q(es)f(of)g(pro)q(cesses.)21 b(If)15 b(desired,)f(a)i
(di\013eren)o(t)150 2437 y(w)o(ait)p 244 2437 V 17 w(queue)11
b(could)h(b)q(e)g(used,)g(and)g(the)g(appropriate)g(w)o(ak)o(e)f(up)h(co)q
(de)g(w)o(ould)f(ha)o(v)o(e)g(to)h(b)q(e)g(written.)150 2548
y(Compile)h(this)h(new)h(co)q(de)g(in)o(to)g(the)f(k)o(ernel.)19
b(W)l(e)c(will)e(test)i(this)f(driv)o(er)g(b)o(y)g(writing)h(a)g(new)g(t)o
(yp)q(e)p eop
%%Page: 33 34
33 33 bop 150 -84 1800 3 v 150 -100 a Fk(3.6.)43 b(The)18 b(select)f(call)
1268 b Fo(33)150 96 y(of)17 b(pro)q(cess)f(whic)o(h)g(will)f(call)h(the)g
(select)f(system)f(call.)21 b(Here)15 b(is)h(the)g(new)g(pro)q(cess')h(co)q
(de:)150 246 y Fh(==========================)o(=======)o(=======)341
310 y(File)23 b(Listing)g(11:)h(sel.c)150 375 y(==========================)o
(=======)o(=======)150 504 y(#include)f(<stdio.h>)f(/*)i(Doesn't)f(hurt,)g
(can)h(only)f(help!)g(*/)150 568 y(#include)g(<fcntl.h>)150
632 y(#include)g(<sys/time.h>)f(/*)i(For)f(FD_*)g(and)h(select)f(*/)150
761 y(void)g(main\(void\))150 825 y({)198 890 y(int)g(fd;)198
954 y(int)g(rtn;)198 1018 y(fd_set)g(read_fds;)198 1147 y(fd)g(=)h
(open\("/dev/testdata",)d(O_RDWR\);)198 1211 y(printf\("/dev/testdata)g
(opened,)i(fd=\045d\\n",fd\);)198 1276 y(if)g(\(fd<=0\))g(exit\(0\);)198
1340 y(printf\("Entering)e(select...\\n"\);)198 1405 y(FD_ZERO\(&read_fds\);)
198 1469 y(FD_SET\(fd,&read_fds\);)198 1533 y(rtn)i(=)h(select\(&read_fds,)d
(NULL,)j(NULL,)f(NULL\);)198 1598 y(if)g(\(rtn<0\))198 1662
y({)245 1726 y(perror\("select"\);)245 1791 y(exit\(0\);)198
1855 y(})198 1919 y(printf\("Select)f(returns)h(\045d\\n",rtn\);)150
1984 y(})150 2138 y Fo(When)13 b(the)g(k)o(ernel)f(is)h(re-loaded,)h(the)f
(\014rst)g(test)g(w)o(e)g(will)f(p)q(erform)h(is)g(to)g(see)g(whether)g(the)g
(select)150 2206 y(call)j(returns)h(immedi)o(ately)d(giv)o(en)i(that)h(no)h
(pro)q(cesses)f(are)g(sleeping)f(in)h(read.)24 b(Just)17 b(run)g(sel)g({)150
2275 y(no)g(need)f(to)g(run)h(it)e(in)h(the)g(bac)o(kground.)22
b(Y)l(ou)16 b(should)h(see)f(something)f(lik)o(e:)150 2425
y Fh(Entering)23 b(select...)150 2489 y(Driver)g(entering)g(select.)150
2554 y(Select)g(returns)g(1)p eop
%%Page: 34 35
34 34 bop 150 -84 1800 3 v 150 -100 a Fk(3.6.)43 b(The)18 b(select)f(call)
1268 b Fo(34)150 96 y(This)20 b(is)f(as)h(it)f(should)h(b)q(e)f({)h(select)f
(has)h(determined)d(that)j(one)f(\014le)g(descriptor)g(is)g(ready)h(for)150
165 y(reading.)150 272 y(Our)c(next)g(test)g(is)g(to)h(see)f(whether)g
(select)f(sleeps)g(prop)q(erly)l(.)21 b(Run)c(this:)150 413
y Fh(data)23 b(&)150 478 y(sel)g(&)150 542 y(trip)150 683 y
Fo(When)16 b(sel)g(is)g(run,)g(y)o(ou)g(should)h(see:)150 825
y Fh(Entering)23 b(select...)150 889 y(Driver)g(entering)g(select.)150
953 y(Read)g(not)h(ready)150 1018 y(Driver)f(entering)g(select.)150
1082 y(Read)g(not)h(ready)150 1228 y Fo(The)17 b(select)f(call)h(in)f(the)h
(k)o(ernel)f(calls)h(the)g(test)p 1040 1228 15 2 v 17 w(select)f(function)h
(again)h(once)f(if)g(the)g(\014rst)g(time)150 1296 y(the)f(driv)o(er)f(is)h
(not)h(ready)l(.)k(Ho)o(w)o(ev)o(er,)14 b(the)i(pro)q(cess)h(is)f(only)g
(added)h(to)g(the)f(w)o(ait)g(queue)f(once)i({)150 1365 y(the)f(\014rst)h
(time.)150 1472 y(Once)f(the)g(trip)f(program)i(is)f(run,)g(y)o(ou)g(should)g
(see:)150 1613 y Fh(Process)23 b(has)g(woken)h(up!)150 1678
y(Read)f(returns)g(1024)150 1742 y(Driver)g(entering)g(select.)150
1807 y(Select)g(returns)g(1)150 1952 y Fo(That)16 b(is,)f(the)h(data)g(pro)q
(cess)h(w)o(ok)o(e)e(up)h(due)f(to)h(the)g(write,)e(as)j(did)e(the)g(sel)h
(pro)q(cess.)21 b(Note)16 b(that)150 2021 y(the)i(test)p 318
2021 V 18 w(select)f(function)h(is)g(called)f(once)i(again)g(when)f(the)g
(sel)g(pro)q(cess)h(is)f(w)o(ok)o(en)g(up.)28 b(This)150 2089
y(is)21 b(also)h(a)g(consequence)f(of)g(the)h(k)o(ernel)d(design,)k(and)f(is)
f(nothing)h(to)g(w)o(orry)f(ab)q(out.)38 b(Those)150 2158 y(who)23
b(are)g(in)o(terested)f(in)g(the)g(inner)h(w)o(orkings)g(of)g(the)f(select)g
(call)f(should)j(lo)q(ok)f(in)f(the)h(\014le)150 2227 y(<src>/fs/select.c.)
150 2338 y(A)18 b(w)o(ord)h(ab)q(out)h(signals)e(and)h(select.)27
b(Since)18 b(the)g(select)f(call)h(in)g(the)g(driv)o(er)f(do)q(es)i(not)g
(return)150 2407 y(an)o(y)f(error)g(co)q(de)h({)g(just)f(0)h(or)f(non-0)i({)f
(there)e(is)h(no)h(w)o(a)o(y)f(to)h(decide)e(whether)h(the)g(select)f(call)
150 2475 y(should)j(b)q(e)g(restarted)g(or)h(not.)32 b(Select)19
b(will)g(return)h(-1,)h(errno)f(EINTR)f(if)g(in)o(terrupted)g(b)o(y)h(a)150
2544 y(signal.)p eop
%%Page: 35 36
35 35 bop 150 489 a Fl(Chapter)40 b(4)150 757 y(Y)-10 b(our)40
b(Driv)m(er)g(and)f(the)i(Hardw)m(are)150 1070 y Ff(4.1)83
b(General)150 1230 y Fo(In)18 b(General)h(the)f(greatest)i(problem)d(for)i(y)
o(ou)f(if)h(y)o(ou)f(decide)g(to)h(write)f(a)h(device)f(driv)o(er)f(is)i(to)
150 1299 y(mak)o(e)d(the)i(Hardw)o(are)g(doing)g(what)h(y)o(ou)f(w)o(an)o(t)g
(them)e(to)i(do.)27 b(So)19 b(the)e(\014rst)h(stage)h(dev)o(eloping)150
1368 y(a)f(driv)o(er)f(should)h(b)q(e)g(making)f(familiar)f(with)i(the)f
(Hardw)o(are.)27 b(If)17 b(y)o(our)h(card)g(do)q(es)g(P)o(ort)h(I/O,)150
1436 y(pla)o(y)14 b(around)h(with)f(the)g(P)o(ort)h(registers.)20
b(Some)13 b(cards)i(lik)o(e)d(A/D)i(con)o(v)o(erters)f(uses)i(some)e(tric)o
(ks)150 1505 y(to)i(clear)g(FIF)o(O's)e(or)j(select)d(sp)q(ecial)i(mo)q(des,)
f(it)h(dep)q(ends)g(on)h(the)e(electronically)f(design)i(of)g(the)150
1574 y(card.)21 b(Y)l(our)c(T)l(ask)f(is)g(to)h(get)f(familiar)f(with)h(this)
g(tric)o(ks.)150 1685 y(The)h(second)h(problem)d(is)i(to)h(decide)e(what)i
(timing)d(requiremen)o(ts)g(y)o(our)i(driv)o(er)f(should)h(ha)o(v)o(e.)150
1754 y(If)d(y)o(ou)g(w)o(an)o(t)h(to)f(aquire)g(20000)j(samples)c(p)q(er)h
(second)h(with)f(an)h(A/D)g(card)f(y)o(ou)h(ha)o(v)o(e)e(to)i(decide)150
1822 y(ho)o(w)h(this)g(is)g(done)h(on)f(the)g(card,)g(where)g(the)g(samples)f
(go)i(in)e(memory)l(,)e(ho)o(w)k(the)e(transfer)i(can)150 1891
y(b)q(e)h(done)f(as)h(fast)g(as)g(p)q(ossible,)g(and)g(so)g(on.)25
b(F)l(or)18 b(Hardw)o(are)f(that)h(pro)q(duces)g(lot)g(of)f(Data)i(e.g.)150
1960 y(CCD-Cameras)i(or)g(F)l(ramegrabb)q(ers)f(y)o(ou)g(ha)o(v)o(e)g(to)h
(get)f(enough)h(Memory)e(where)h(this)g(data)150 2028 y(can)c(b)q(e)h(serv)o
(ed.)150 2140 y(On)k(the)f(other)h(hand)h(do'n)o(t)f(forget)g(that)g(y)o(ou)g
(ha)o(v)o(e)f(a)h(Multitasking)f(System)f(where)i(other)150
2208 y(Pro)q(cesses)i(w)o(ait)f(for)h(data)g(\(to)g(read)f(or)h(to)g
(write\).)39 b(Exsp)q(ecially)21 b(this)h(P)o(eople)g(that)h(sho)q(ot)150
2277 y(together)18 b(selfmade)f(hardw)o(are)h(should)h(tak)o(e)f(to)g(heart)g
(this)g(fact.)27 b(I'v)o(e)17 b(seen)g(Stepp)q(er)i(Motor)150
2346 y(cards)f(that)h(needs)f(four)g(P)o(ort)g(I/O's)g(p)q(er)g(step)1042
2327 y Fd(1)1080 2346 y Fo(|)g(v)o(ery)e(go)q(o)q(d)k(design)e(to)h(break)f
(do)o(wn)g(y)o(our)p 150 2392 720 2 v 206 2423 a Fc(1)225 2438
y Fb(The)11 b(four)f(p)q(ole)h(motors)e(has)i(b)q(een)h(driv)o(en)f(b)o(y)f
(bus-latc)o(hes)i(with)e(ampli\014ers)f(at)i(their)g(outputs.)18
b(The)11 b(inputs)150 2494 y(of)i(the)i(latc)o(hes)f(w)o(ere)h(connected)h
(directly)e(to)g(system)f(bus.)1026 2678 y Fo(35)p eop
%%Page: 36 37
36 36 bop 150 -84 1800 3 v 150 -100 a Fk(4.2.)37 b(Programmed)16
b(I/O)1199 b Fo(36)150 96 y(system)15 b(p)q(erformance.)150
208 y(All)k(these)h(Problems)g(ha)o(v)o(e)f(an)i(in\015uence)f(on)h(the)f
(design)h(of)f(y)o(our)h(driv)o(er.)32 b(F)l(ortunally)20 b(the)150
276 y(Lin)o(ux)c(System)e(has)j(lot)g(of)f(Mec)o(hanisms)e(that)j(will)e
(help)h(y)o(ou)g(on)h(this)f(T)l(ask.)150 498 y Ff(4.2)83 b(Programmed)27
b(I/O)150 659 y Fo(The)15 b(simpliest)e(w)o(a)o(y)h(to)i(do)f(an)h(I/O)f(is)f
(the)h(so)h(called)e(Programmed)f(I/O)i(\(P)o(olling\):)20
b(Y)l(ou)15 b(giv)o(e)150 728 y(an)20 b(request)f(to)h(y)o(our)g(hardw)o(are)
g(and)g(ha)o(v)o(e)f(to)h(w)o(ait)g(for)g(resp)q(onse.)32 b(No)19
b(problem)g(for)g(DOS-)150 797 y(Programmers,)12 b(y)o(ou)i(sa)o(y)g(-)g(y)o
(ou)g(pla)o(y)g(on)g(some)f(registers)h(to)g(p)q(erform)f(the)h(request)f(-)h
(y)o(ou)g(en)o(ter)150 865 y(a)k(lo)q(op)h(that)f(do)q(es)g(nothing)h(but)f
(lo)q(oking)g(at)g(some)f(other)g(registers)h(and)g(-)g(if)f(it's)g(ready)h
(giv)o(e)150 934 y(y)o(our)f(con)o(trol)f(bac)o(k.)22 b(Baah)17
b({)g(I)g(sa)o(y)l(.)22 b(What)17 b(do)q(es)h(the)e(Program)h(while)f(y)o
(our)g(Hardw)o(are)h(is'n)o(t)150 1002 y(ready?)33 b(|)20 b(Righ)o(t!)32
b(..)g(nothing)21 b(but)f(burne)g(cycles.)31 b(Oh)20 b(sw)o(eet)g
(conciousness!)33 b(This)20 b(time)150 1071 y(could)e(b)q(e)h(used)f(to)h(do)
g(man)o(y)e(other)h(requests.)27 b(And)18 b(what)i(is)e(if)f(y)o(our)i(hardw)
o(are)g(nev)o(er)e(gets)150 1140 y(ready)f(....?)150 1251 y(As)g(men)o
(tioned)e(in)i(the)g(sections)g(ab)q(o)o(v)o(e)g(can)h(this)f(problem)f(b)q
(e)h(solv)o(ed)g(with)g(an)g(timeout:)223 1417 y Fn(\017)24
b Fo(Program)19 b(a)g(timer)e(to)j(y)o(our)f(expire)e(time)g(with)i(an)h
(routine)e(that)i(should)f(b)q(e)h(called)e(if)272 1485 y(the)e(timer)e
(expires.)223 1595 y Fn(\017)24 b Fo(Use)16 b(this)g(routine)g(to)g(p)q
(erform)g(the)g(apropriate)g(op)q(erations.)223 1706 y Fn(\017)24
b Fo(if)16 b(it)f(is)h(w)o(ok)o(en)g(b)o(y)g(the)g(timer)e(giv)o(e)h(con)o
(trol)h(bac)o(k)g(\(don)o(t)g(forget)h(to)g(clear)e(the)h(timer\))150
1871 y(Let)d(us)g(ha)o(v)o(e)f(a)h(lo)q(ok)g(ho)o(w)g(this)f(can)h(b)q(e)g
(done)g(\(this)f(co)q(de)h(to)g(mak)o(e)e(a)i(sound)h(on)f(the)f(PC)h(sp)q
(eak)o(er)150 1940 y(has)k(b)q(een)f(stolen)g(from)f($LINUX)p
794 1940 15 2 v 17 w(SOUR)o(CE/driv)o(ers/c)o(har/vt.c)g(\):)150
2101 y Fh(static)23 b(void)150 2230 y(kd_nosound\(unsigned)e(long)j
(ignored\))150 2294 y({)150 2358 y(/*)g(disable)e(counter)h(2)h(*/)150
2423 y(outb\(inb_p\(0x61\)&0xFC,)d(0x61\);)150 2487 y(return;)150
2551 y(})p eop
%%Page: 37 38
37 37 bop 150 -84 1800 3 v 150 -100 a Fk(4.3.)43 b(In)n(terrupt)18
b(driv)n(en)g(I/O)1110 b Fo(37)150 161 y Fh(void)150 225 y
(kd_mksound\(unsigned)21 b(int)j(count,)f(unsigned)g(int)g(ticks\))150
289 y({)150 354 y(static)g(struct)g(timer_list)g(sound_timer)f(=)i({)f(NULL,)
h(NULL,)f(0,)g(0,)h(kd_nosound)e(};)150 482 y(cli\(\);)150
547 y(del_timer\(&sound_timer\);)150 611 y(if)i(\(count\))e({)150
676 y(/*)i(enable)f(counter)g(2)g(*/)150 740 y(outb_p\(inb_p\(0x61\)|3,)e
(0x61\);)150 804 y(/*)j(set)f(command)g(for)g(counter)g(2,)h(2)g(byte)f
(write)g(*/)150 869 y(outb_p\(0xB6,)f(0x43\);)150 933 y(/*)i(select)f
(desired)g(HZ)g(*/)150 997 y(outb_p\(count)f(&)i(0xff,)f(0x42\);)150
1062 y(outb\(\(count)f(>>)i(8\))g(&)f(0xff,)g(0x42\);)150 1190
y(if)h(\(ticks\))e({)150 1255 y(sound_timer.expires)f(=)j(ticks;)150
1319 y(add_timer\(&sound_timer\);)150 1383 y(})150 1448 y(})g(else)150
1512 y(kd_nosound\(0\);)150 1577 y(sti\(\);)150 1641 y(return;)150
1705 y(})150 1935 y Fo(The)17 b(other)g(adv)m(an)o(tage)g(of)g(this)g
(concept)f(is)h(the)f(p)q(ossibilit)o(y)g(to)h(generate)f(an)i(\014nal)f
(timeout)e(if)150 2004 y(y)o(our)h(card)g(is'n)o(t)g(resp)q(onding.)150
2226 y Ff(4.3)83 b(In)n(terrupt)27 b(driv)n(en)f(I/O)150 2387
y Fo(First,)11 b(a)h(brief)e(exp)q(osition)i(on)f(the)g(Meaning)g(of)h(In)o
(terrupts.)19 b(There)11 b(are)g(three)f(w)o(a)o(ys)h(b)o(y)g(whic)o(h)g(a)
150 2455 y(program)k(running)h(in)e(the)h(CPU)h(ma)o(y)d(b)q(e)j(in)o
(terrupted.)j(The)d(\014rst)f(is)g(the)g(external)f(in)o(terrupt.)150
2524 y(This)22 b(is)f(caused)h(b)o(y)f(an)h(external)f(device)f(\(that)i(is,)
g(external)f(to)h(the)f(CPU\))g(signalling)h(for)p eop
%%Page: 38 39
38 38 bop 150 -84 1800 3 v 150 -100 a Fk(4.3.)37 b(In)n(terrupt)18
b(driv)n(en)g(I/O)1116 b Fo(38)150 96 y(atten)o(tion.)21 b(These)16
b(are)g(referred)g(to)g(as)h("in)o(terrupt)f(requests")g(or)h("IR)o(Qs".)150
208 y(The)j(second)g(metho)q(d)e(is)i(the)f(exception,)g(whic)o(h)g(is)h
(caused)g(b)o(y)f(something)g(in)o(ternal)f(to)i(the)150 276
y(CPU,)c(usually)g(in)g(resp)q(onse)h(to)f(a)h(condition)f(generated)g(b)o(y)
g(execution)f(of)i(an)f(instruction.)150 388 y(The)d(third)h(metho)q(d)e(is)i
(the)f(soft)o(w)o(are)g(in)o(terrupt,)g(whic)o(h)g(is)g(a)h(delib)q(erately)e
(executed)g(in)o(terrupt)150 457 y({)24 b(the)f(INT)g(instruction)g(in)g
(assem)o(bly)l(.)41 b(System)22 b(calls)h(are)g(implem)o(en)o(ted)d(using)k
(soft)o(w)o(are)150 525 y(in)o(terrupts;)f(when)f(a)h(system)d(call)h(is)g
(desired,)i(Lin)o(ux)e(places)g(the)h(system)e(call)h(n)o(um)o(b)q(er)f(in)
150 594 y(EAX,)15 b(and)i(p)q(erforms)e(an)i(INT)f(0x80)h(instruction.)150
705 y(Since)h(driv)o(ers)g(usually)g(deal)h(with)g(hardw)o(are)g(devices,)f
(it)g(is)h(logical)f(that)h(driv)o(er)f(in)o(terrupts)150 774
y(should)23 b(refer)f(to)g(external)g(in)o(terrupts.)39 b(There)22
b(are)h(16)g(a)o(v)m(ailable)e(IR)o(Qs)h({)h(IR)o(Q0)f(through)150
843 y(IR)o(Q15.)f(The)16 b(follo)o(wing)g(table)g(lists)g(the)g(o\016cial)f
(uses)i(of)g(the)f(v)m(arious)g(IR)o(Qs:)p 150 901 774 2 v
149 970 2 69 v 185 949 a(IR)o(Q)p 310 970 V 60 w(F)l(unction)p
923 970 V 150 971 774 2 v 150 981 V 149 1050 2 69 v 218 1029
a(0)p 310 1050 V 94 w(timer)e(0)p 923 1050 V 150 1051 774 2
v 149 1120 2 69 v 218 1099 a(1)p 310 1120 V 94 w(k)o(eyb)q(oard)p
923 1120 V 150 1122 774 2 v 149 1190 2 69 v 218 1170 a(2)p
310 1190 V 94 w(A)l(T)i(sla)o(v)o(e)f(8259)j(\("cascade"\))p
923 1190 V 150 1192 774 2 v 149 1261 2 69 v 218 1240 a(3)p
310 1261 V 94 w(COM2)p 923 1261 V 150 1262 774 2 v 149 1331
2 69 v 218 1310 a(4)p 310 1331 V 94 w(COM1)p 923 1331 V 150
1333 774 2 v 149 1401 2 69 v 218 1381 a(5)p 310 1401 V 94 w(LPT2)p
923 1401 V 150 1403 774 2 v 149 1471 2 69 v 218 1451 a(6)p
310 1471 V 94 w(\015opp)o(y)p 923 1471 V 150 1473 774 2 v 149
1542 2 69 v 218 1521 a(7)p 310 1542 V 94 w(LPT1)p 923 1542
V 150 1543 774 2 v 149 1612 2 69 v 186 1591 a(8-12)p 310 1612
V 62 w(??????)p 923 1612 V 150 1614 774 2 v 149 1682 2 69 v
206 1662 a(13)p 310 1682 V 82 w(copro)q(cessor)f(error)p 923
1682 V 150 1684 774 2 v 149 1753 2 69 v 175 1732 a(14,15)p
310 1753 V 51 w(??????)p 923 1753 V 150 1754 774 2 v 150 1836
a(W)l(riting)e(driv)o(ers)g(whic)o(h)f(can)i(b)q(e)g(in)o(terrupted)e
(requires)h(care.)20 b(Be)15 b(a)o(w)o(are)h(that)g(ev)o(ery)e(line)g(y)o(ou)
150 1904 y(write)f(can)h(b)q(e)g(in)o(terrupted,)e(and)j(th)o(us)e(cause)h(v)
m(ariable)f(c)o(hanges)h(to)g(o)q(ccur.)21 b(If)13 b(y)o(ou)g(really)g(w)o
(an)o(t)150 1973 y(to)j(protect)f(critical)f(sections)i(from)f(b)q(eing)g(in)
o(terrupted,)g(use)g(the)h(cli\(\))e(and)i(sti\(\))g(driv)o(er)e(calls.)150
2085 y(Supp)q(ose)k(y)o(ou)e(w)o(an)o(ted)h(to)g(test)f(some)g(kind)g(of)h
(funky)f(condition,)g(where)h(success)f(of)h(the)g(con-)150
2153 y(dition)j(leads)g(to)h(going)g(to)g(sleep,)f(and)h(b)q(eing)f(w)o(ok)o
(en)g(up)h(b)o(y)e(an)i(in)o(terrupt.)33 b(Consider)20 b(this)150
2222 y(co)q(de:)150 2361 y Fh(void)j(driver_interrupt\(int)e(unused\))150
2425 y({)198 2489 y(if)i(\(!driver_stuff.int_flag\))e(return;)47
b(/*)23 b(Spurious)g(interrupts)1152 2554 y(are)h(not)f(unheard)g(of)h(*/)p
eop
%%Page: 39 40
39 39 bop 150 -84 1800 3 v 150 -100 a Fk(4.3.)43 b(In)n(terrupt)18
b(driv)n(en)g(I/O)1110 b Fo(39)198 96 y Fh(driver_stuff.int_flag=0;)198
161 y(weird_wacky\(\);)22 b(/*)h(Do)h(some)f(weird)g(and)h(wacky)f(stuff)627
225 y(here)h(to)f(handle)g(the)h(interrupt)e(*/)198 289 y(disable_ints\(\);)g
(/*)h(Disable)g(the)g(device)h(from)f(issuing)g(interrupts)f(*/)198
354 y(wake_up\(&driver_stuff.wa)o(it_queu)o(e\);)f(/*)j(Sets)f(process)g(to)g
(TASK_RUNNING)g(*/)150 418 y(})150 547 y(if)h(\(conditions_are_ripe\(\)\))150
611 y({)198 676 y(driver_stuff.int_flag)d(=)i(1;)198 740 y(enable_ints\(\);)f
(/*)h(Enable)g(device)g(to)h(interrupt)f(us)g(*/)198 804 y
(sleep_on\(&driver_stuff.w)o(ait_que)o(ue\);)e(/*)i(Sets)h(process)f(to)g
(TASK_UNINTERRUPTIBLE)e(*/)150 869 y(})150 1024 y Fo(Assume)c(w)o(e)i(just)g
(lea)o(v)o(e)e(the)i(conditions)p 937 1024 15 2 v 17 w(are)p
1019 1024 V 18 w(rip)q(e)f(co)q(de,)i(determining)c(that)j(the)g(conditions)
150 1092 y(are)f(rip)q(e!)26 b(W)l(e)17 b(ha)o(v)o(e)g(just)h(enabled)g(the)f
(device)g(to)h(in)o(terrupt)f(the)g(mac)o(hine.)24 b(So)18
b(w)o(e)g(are)g(no)o(w)150 1161 y(ab)q(out)25 b(to)e(en)o(ter)g(the)g(sleep)p
692 1161 V 16 w(on)h(co)q(de,)h(and)f(what)g(should)g(happ)q(en)g(but)f(the)g
(p)q(esky)h(device)150 1229 y(issues)15 b(an)h(in)o(terrupt.)k(Ka-c)o(h)o
(unk!)h(and)16 b(w)o(e)f(en)o(ter)f(the)h(driv)o(er)p 1317
1229 V 16 w(in)o(terrupt)g(routine,)g(whic)o(h)f(do)q(es)150
1298 y(some)g(w)o(eird)g(and)i(w)o(ac)o(ky)e(stu\013)i(to)g(handle)f(the)g
(in)o(terrupt,)f(and)h(then)g(w)o(e)g(disable)g(the)g(device's)150
1367 y(in)o(terrupts.)20 b(Ka-c)o(hing!)g(w)o(e)14 b(en)o(ter)f(the)h(w)o(ak)
o(e)p 1001 1367 V 16 w(up)h(function)e(whic)o(h)h(sets)g(the)g(pro)q(cess)g
(up)g(to)h(run)150 1435 y(again.)32 b(Boink!)f(w)o(e)19 b(exit)g(the)g(in)o
(terrupt)g(handler)h(and)g(commence)c(where)j(w)o(e)h(left)e(o\013)j(\(just)
150 1504 y(ab)q(out)d(to)f(en)o(ter)f(the)g(sleep)p 665 1504
V 17 w(on)h(co)q(de\).)22 b(V)l(o)q(o)q(osh!)j(w)o(e're)15
b(no)o(w)i(sleeping)f(the)g(pro)q(cess,)h(a)o(w)o(aiting)150
1573 y(an)i(in)o(terrupt)e(whic)o(h)h(will)f(nev)o(er)g(o)q(ccur,)i(since)f
(the)g(in)o(terrupt)f(handler)h(disabled)g(the)h(device)150
1641 y(from)c(in)o(terrupts!)21 b(What)16 b(to)h(do?)150 1748
y(Use)f(cli\(\))f(and)i(sti\(\))e(to)i(protect)f(the)g(critical)f(sections)h
(of)g(co)q(de:)150 1889 y Fh(cli\(\);)150 1954 y(if)24 b
(\(conditions_are_ripe\(\)\))150 2018 y({)198 2082 y(driver_stuff.int_flag)d
(=)i(1;)198 2147 y(enable_ints\(\);)f(/*)h(Enable)g(device)g(to)h(interrupt)f
(us)g(*/)198 2211 y(sleep_on\(&driver_stuff.w)o(ait_que)o(ue\);)e(/*)i(Sets)h
(process)f(to)g(TASK_UNINTERRUPTIBLE)e(*/)150 2275 y(})150
2340 y(else)i(sti\(\);)150 2485 y Fo(First)18 b(w)o(e)g(clear)g(in)o
(terrupts.)28 b(This)18 b(is)h(not)g(the)f(same)g(as)h(disabling)f(device)f
(in)o(terrupts!)28 b(This)150 2554 y(actually)19 b(prev)o(en)o(ts)g(a)h
(hardw)o(are)h(in)o(terrupt)e(from)f(causing)j(the)e(CPU)h(to)h(execute)d(in)
o(terrupt)p eop
%%Page: 40 41
40 40 bop 150 -84 1800 3 v 150 -100 a Fk(4.3.)43 b(In)n(terrupt)18
b(driv)n(en)g(I/O)1110 b Fo(40)150 96 y(co)q(de.)21 b(In)16
b(e\013ect,)g(the)g(in)o(terrupt)f(is)h(deferred.)150 208 y(No)o(w)21
b(w)o(e)f(can)h(do)g(our)g(c)o(hec)o(k)e(and)i(p)q(erform)f(sleep)p
1130 208 15 2 v 17 w(on,)i(secure)e(in)g(the)h(kno)o(wledge)f(that)h(the)150
276 y(in)o(terrupt)e(handler)i(cannot)g(b)q(e)f(called.)33
b(The)20 b(sleep)p 1157 276 V 17 w(on)h(\(and)f(in)o(terruptible)p
1632 276 V 36 w(sleep)p 1772 276 V 17 w(on\))h(call)150 345
y(has)h(a)g(sti\(\))f(in)g(it)g(in)h(the)f(righ)o(t)g(place,)h(so)g(y)o(ou)f
(don't)h(ha)o(v)o(e)f(to)g(w)o(orry)h(ab)q(out)h(calling)d(sti\(\))150
414 y(b)q(efore)c(sleep)p 403 414 V 17 w(on,)g(and)h(running)g(in)o(to)f(a)g
(race)g(condition)g(again.)150 525 y(Of)i(course,)h(with)f(an)o(y)g(in)o
(terruptible)e(device)h(driv)o(er,)g(y)o(ou)h(m)o(ust)f(b)q(e)i(careful)f
(nev)o(er)f(to)h(sp)q(end)150 594 y(to)q(o)f(m)o(uc)o(h)c(time)g(in)j(the)f
(in)o(terrupt)f(routine)i(if)f(y)o(ou)g(are)h(exp)q(ecting)e(more)h(than)h
(one)f(in)o(terrupt,)150 662 y(b)q(ecause)h(y)o(ou)h(ma)o(y)d(miss)h(y)o(our)
h(second)h(in)o(terrupt.)150 860 y Fa(4.3.1)70 b(Timeouts)21
b(and)j(In)n(terrupts)150 1004 y Fo(Supp)q(ose)15 b(y)o(ou)e(w)o(an)o(ted)g
(to)h(sleep)f(on)h(an)g(in)o(terrupt,)e(but)i(also)g(time)e(out)i(after)f(a)h
(p)q(erio)q(d)g(of)g(time.)150 1072 y(Y)l(ou)i(could)f(alw)o(a)o(ys)h(use)f
(the)h(add)p 783 1072 V 18 w(timer,)d(but)j(that's)g(fro)o(wned)g(up)q(on)g
(b)q(ecause)g(there)f(are)h(only)150 1141 y(a)h(limited)c(n)o(um)o(b)q(er)h
(of)j(timers)d(a)o(v)m(ailable)i({)g(curren)o(tly)f(there)h(are)g(64.)150
1248 y(The)g(usual)h(solution)f(is)g(to)h(man)o(ually)d(alter)i(the)g(curren)
o(t)g(pro)q(cess's)g(timeout:)150 1397 y Fh(current->timeout)22
b(=)h(jiffies)g(+)h(X;)150 1461 y(interruptible_sleep_on\(&dr)o(iver_st)o
(uff.wait)o(_queue\))o(;)150 1615 y Fo(\(In)o(terruptible)15
b(sleep)p 564 1615 V 16 w(on)j(m)o(ust)d(b)q(e)i(used)g(here)f(to)h(allo)o(w)
g(a)g(timeout)e(to)i(in)o(terrupt)f(the)g(sleep\).)150 1683
y(This)j(will)f(cause)h(the)g(sc)o(heduler)f(to)h(set)g(the)g(task)h(running)
f(again)h(when)f(X)g(ji\016es)f(has)h(gone)150 1752 y(b)o(y)l(.)30
b(Ev)o(en)19 b(if)g(the)g(timeout)f(go)q(es)i(o\013)g(and)g(the)g(pro)q(cess)
g(is)f(allo)o(w)o(ed)f(to)i(con)o(tin)o(ue)e(running,)i(it)150
1820 y(is)c(probably)h(a)f(go)q(o)q(d)j(idea)d(to)g(call)g(w)o(ak)o(e)p
924 1820 V 17 w(up)p 995 1820 V 18 w(in)o(terruptible)e(in)i(case)g(the)g
(pro)q(cess)h(needs)f(to)h(b)q(e)150 1889 y(resc)o(heduled.)150
2000 y(T)l(o)h(\014nd)g(out)g(if)e(it)h(w)o(as)h(a)g(timeout)e(whic)o(h)g
(caused)i(the)f(pro)q(cess)h(to)g(w)o(ak)o(e)f(up,)g(c)o(hec)o(k)f(curren)o
(t-)150 2069 y(>timeout.)22 b(If)17 b(it)f(is)h(0,)g(a)h(timeout)d(o)q
(ccurred.)24 b(Otherwise)16 b(it)h(should)g(remain)f(what)i(y)o(ou)f(set)f
(it)150 2138 y(at.)26 b(If)17 b(a)h(timeout)e(did)i(not)g(o)q(ccur,)g(and)g
(something)f(else)f(w)o(ok)o(e)h(the)h(pro)q(cess)g(up,)g(y)o(ou)g(should)150
2206 y(set)e(curren)o(t->timeout)e(to)j(0)f(to)h(prev)o(en)o(t)e(the)h
(timeout)e(from)h(con)o(tin)o(uing.)150 2318 y(The)i(disadv)m(an)o(tage)h(of)
f(this)f(metho)q(d)h(is)f(that)h(the)g(pro)q(cess)h(can)f(only)f(ha)o(v)o(e)g
(one)h(timeout)e(at)j(a)150 2386 y(time.)h(Ov)o(er)c(*all*)i(driv)o(ers.)p
eop
%%Page: 41 42
41 41 bop 150 -84 1800 3 v 150 -100 a Fk(4.4.)43 b(Driv)n(ers)17
b(and)j(signals:)1135 b Fo(41)150 96 y Ff(4.4)83 b(Driv)n(ers)26
b(and)h(signals:)150 257 y Fo(When)16 b(a)h(pro)q(cess)g(is)f(sleeping)f(in)h
(an)g(in)o(terruptible)f(state,)h(an)o(y)g(signal)g(can)g(w)o(ak)o(e)g(it)f
(up.)22 b(This)150 326 y(is)16 b(the)g(sequence)f(of)i(ev)o(en)o(ts)e(whic)o
(h)g(o)q(ccurs)i(when)f(a)h(sleeping)e(pro)q(cess)i(receiv)o(es)d(a)j
(signal:)223 479 y Fn(\017)24 b Fo(Set)16 b(curren)o(t->signal.)223
589 y Fn(\017)24 b Fo(Set)16 b(the)g(pro)q(cess)h(to)f(a)h(runnable)f(state.)
223 699 y Fn(\017)24 b Fo(Execute)15 b(the)h(rest)g(of)h(the)f(driv)o(er)f
(call.)223 809 y Fn(\017)24 b Fo(Run)16 b(the)g(signal)h(handler.)223
919 y Fn(\017)24 b Fo(If)10 b(the)h(driv)o(er)e(call)h(in)h(step)g(3)g
(returned)f(-EREST)l(AR)l(TNOHAND)g(or)h(-EREST)l(AR)l(TNOINTR,)272
988 y(then)21 b(return)f(from)g(the)g(driv)o(er)g(call)g(with)h(EINTR.)e(If)i
(the)f(driv)o(er)g(call)g(in)g(step)h(3)g(re-)272 1057 y(turned)f(-EREST)l
(AR)l(TSYS,)g(then)g(restart)h(the)e(driv)o(er)g(call.)33 b(Otherwise,)20
b(just)g(return)272 1125 y(with)c(whatev)o(er)g(w)o(as)g(returned)g(from)f
(the)h(driv)o(er)f(call.)150 1274 y(In)d(the)h(driv)o(er,)e(y)o(ou)i(can)g
(tell)e(if)i(a)g(sleep)f(has)h(b)q(een)g(in)o(terrupted)e(b)o(y)h(a)h(signal)
g(with)g(the)f(follo)o(wing)150 1338 y(co)q(de:)198 1487 y
Fh(if)23 b(\(current->signal)f(&)i(~current->blocked\))198
1551 y({)245 1616 y(/*)g(Do)g(things)f(based)g(on)g(sleep)h(interrupted)e(by)
i(signal)f(*/)198 1680 y(})150 1902 y Ff(4.5)83 b(DMA-T)-7
b(ransfers)150 2063 y Fo(Some)21 b(Hardw)o(are)g(supp)q(orts)i(an)g(Mec)o
(hanism)c(to)j(tranfer)g(a)g(Blo)q(c)o(k)f(of)h(Data)h(from)d(System-)150
2132 y(Memory)12 b(to)j(a)g(Memory)d(at)j(the)f(card)g(or)h(bac)o(kw)o
(ards\(Hard)f(and)h(Flopp)o(y)f(Disks,)g(T)l(ap)q(es,)h(some)150
2200 y(A/D)23 b(cards\).)40 b(This)23 b(is)f(done)h(b)o(y)f(sp)q(ecial)g(con)
o(trollers)g(so)h(that)g(the)f(CPU)h(load)g(is)f(lo)o(w)h(for)150
2269 y(this)18 b(transactions.)29 b(This)19 b(is)f(the)g(so)h(called)e
(Direct)h(Memory)e(Access)i(\(DMA\).)f(This)i(sounds)150 2337
y(w)o(ondeful)14 b(but)h(is)f(a)g(v)o(ery)g(di\016cult)e(task)j(in)f(detail)g
(exp)q(ecially)e(for)j(the)f(driv)o(er)f(programmer.)18 b(It)150
2406 y(requires)c(a)i(complex)e(in)o(teraction)g(b)q(et)o(w)o(een)h(in)o
(terrupts,)f(hardw)o(are-con)o(trollers)i(and)g(memory)150
2475 y(managemen)o(t.)p eop
%%Page: 42 43
42 42 bop 150 -84 1800 3 v 150 -100 a Fk(4.5.)43 b(DMA-T)-5
b(ransfers)1238 b Fo(42)150 96 y(BTW,)16 b(its)h(p)q(ossible)g(so)g(let's)f
(go)i(on.)24 b(First)16 b(w)o(e)g(ha)o(v)o(e)g(to)i(understand)f(the)g
(Principle)e(of)i(op)q(er-)150 165 y(ation.)150 276 y(On)f(the)f(initiate)f
(Phase)j(of)f(an)g(DMA)f(Op)q(eration)h(the)f(CPU)h(giv)o(es)f(the)g(DMA-Con)
o(troller)g(the)150 345 y(ph)o(ysical)h(memory)d(adress)k(where)g(the)f(data)
h(blo)q(c)o(k)f(is)h(to)g(go)g(and)g(the)g(n)o(um)o(b)q(er)d(of)j(data)h(b)o
(ytes)150 414 y(to)h(transfer,)g(under)f(Lin)o(ux)g(this)g(is)h(con)o
(trolled)e(b)o(y)h(the)g(t)o(w)o(o)h(functions)f(set)p 1593
414 15 2 v 18 w(dma)p 1704 414 V 16 w(addr\(\))h(and)150 482
y(set)p 213 482 V 17 w(dma)p 323 482 V 17 w(coun)o(t\(\).)i(Once)14
b(the)h(DMA)f(transfer)i(has)f(b)q(een)g(initiated)f(the)h(con)o(troller)f
(copies)g(the)150 551 y(\014rst)g(b)o(yte)f(\(or)h(w)o(ord\))g(to)h(the)e
(adress)i(sp)q(eci\014ed)e(at)h(the)g(Adress)g(Register.)19
b(Then)14 b(it)g(incremen)o(ts)150 620 y(the)g(DMA-Adress)h(Register)f(and)h
(decremen)o(ts)d(the)i(Coun)o(t)h(Register.)20 b(This)15 b(is)g(rep)q(eated)f
(un)o(til)150 688 y(the)i(coun)o(t)g(register)g(reac)o(hed)f(the)h(zero)g(v)m
(alue)g(and)h(the)f(con)o(troller)f(causes)i(an)g(In)o(terrupt.)150
800 y(F)l(or)j(the)g(DMA)g(T)l(ransfer)h(sev)o(eral)e(lines)g(of)i(the)f
(system)e(bus)j(are)f(used)h(for)f(the)g(Handshak)o(e)150 868
y(b)q(et)o(w)o(een)15 b(The)h(Host-side)g(DMA)g(con)o(troller)f(and)i(the)f
(Card-side)g(DMA)g(con)o(troller)f(while)g(the)150 937 y(transfer)c(is)g
(done.)20 b(These)11 b(lines)f(are)h(group)q(ed)h(in)f(so)g(called)f
(DMA-Channels.)20 b(T)l(o)12 b(use)f(an)g(DMA-)150 1005 y(Channel)17
b(in)f(lin)o(ux)g(y)o(ou)g(ha)o(v)o(e)g(to)h(tell)e(this)i(to)g(the)f(k)o
(ernel)g(similar)e(to)j(IR)o(Q)f(use.)22 b(This)17 b(is)g(done)150
1074 y(b)o(y)i(the)g(request)p 465 1074 V 17 w(dma\(\))g(function)g(that)h
(tak)o(es)f(the)g(required)f(DMA-Channel)i(as)g(argumen)o(t.)150
1143 y(It)c(should)h(b)q(e)f(called)f(in)h(y)o(our)g(init)g(function.)150
1254 y(The)h(PC)g(has)g(t)o(w)o(o)g(DMA)f(con)o(trollers,)f(the)i(\014rst)g
(is)f(connected)g(to)h(c)o(hannel)f(0-3)i(and)f(used)g(for)150
1323 y(b)o(yte)h(transfers)h(\(that)f(means)g(b)o(yte-b)o(y-b)o(yte)f(on)i(o)
q(dd)g(adresses\),)g(the)g(other)f(one)h(is)f(used)h(for)150
1391 y(w)o(ord)e(\(16)g(bit)f(w)o(ord-b)o(y-w)o(ord\))i(transfers.)k(A)o(t)16
b(eac)o(h)g(W)l(ord)h(transfer)g(the)f(adress)h(register)f(has)150
1460 y(to)d(b)q(e)h(incremen)o(te)o(d)d(b)o(y)h(2)i(and)f(the)g(coun)o(t)g
(register)f(decremen)o(ted)e(b)o(y)j(one)g(\(n)o(um)o(b)q(er)f(of)h(w)o
(ords\).)150 1529 y(The)i(PC)g(designers)f(shifted)h(the)f(adress)h(lines)f
(of)h(the)f(2nd)i(con)o(troller)d(b)o(y)h(one)h(\(m)o(ultiplication)150
1597 y(b)o(y)j(2\).)27 b(All)17 b(DMA)h(transfers)g(are)h(limited)c(to)j(the)
g(lo)o(w)o(er)g(16MB)g(of)g Fg(physic)n(al)g Fo(memory)l(.)24
b(Note)150 1666 y(that)17 b(addresses)f(loaded)h(in)o(to)e(registers)h(m)o
(ust)f(b)q(e)h Fg(physic)n(al)g Fo(addresses,)g(not)h(logical)e(addresses)150
1735 y(\(whic)o(h)h(ma)o(y)e(di\013er)i(if)g(paging)h(is)f(activ)o(e\).)150
1846 y(Due)g(to)h(this)f(fact\(s\))g(there)g(are)g(some)g(restrictions)f(for)
i(DMA-transfers)1534 1828 y Fd(2)1554 1846 y Fo(:)223 2012
y Fn(\017)24 b Fo(ALL)17 b(con)o(troller)e(registers)h(are)g(8)h(bits)f(only)
l(,)f(regardless)i(of)f(transfer)h(size)223 2122 y Fn(\017)24
b Fo(c)o(hannel)15 b(4)i(is)f(not)h(used)f(-)h(cascades)f(1)h(in)o(to)f(2.)
223 2232 y Fn(\017)24 b Fo(c)o(hannels)16 b(0-3)h(are)f(b)o(yte)g(-)g
(addresses/coun)o(ts)i(are)e(for)g(ph)o(ysical)g(b)o(ytes)223
2342 y Fn(\017)24 b Fo(c)o(hannels)16 b(5-7)h(are)f(w)o(ord)h(-)f
(addresses/coun)o(ts)i(are)e(for)h(ph)o(ysical)e(w)o(ords)223
2452 y Fn(\017)24 b Fo(transfers)17 b(m)o(ust)d(not)j(cross)g(ph)o(ysical)e
(64K)i(\(0-3\))g(or)g(128K)g(\(5-7\))h(b)q(oundaries)p 150
2499 720 2 v 206 2534 a Fc(2)225 2549 y Fb(This)c(Rules)f(come)g(from)g
(<asm/dm)o(a.)o(h>)e(from)h(Henn)o(us)j(Bergman)p eop
%%Page: 43 44
43 43 bop 150 -84 1800 3 v 150 -100 a Fk(4.5.)43 b(DMA-T)-5
b(ransfers)1238 b Fo(43)223 96 y Fn(\017)24 b Fo(transfer)16
b(coun)o(t)h(loaded)f(to)h(registers)f(is)g(1)g(less)g(than)h(actual)f(coun)o
(t)223 202 y Fn(\017)24 b Fo(con)o(troller)15 b(2)i(o\013sets)g(are)f(all)g
(ev)o(en)f(\(2x)h(o\013sets)i(for)e(con)o(troller)f(1\))223
309 y Fn(\017)24 b Fo(page)17 b(registers)f(for)g(5-7)h(don't)g(use)f(data)h
(bit)f(0,)g(represen)o(t)g(128K)h(pages)223 415 y Fn(\017)24
b Fo(page)17 b(registers)f(for)g(0-3)h(use)g(bit)f(0,)g(represen)o(t)f(64K)i
(pages)150 565 y Fe(\(from)24 b(<asm/dma.)o(h>)e(by)j(Hennus)f(Bergman\))176
702 y(*)51 b(Address)23 b(mapping)g(for)h(channels)f(0-3:)176
770 y(*)176 839 y(*)76 b(A23)25 b(...)f(A16)h(A15)f(...)h(A8)50
b(A7)25 b(...)g(A0)102 b(\(Physical)22 b(addresses\))176 908
y(*)102 b(|)51 b(...)f(|)76 b(|)51 b(...)25 b(|)76 b(|)51 b(...)25
b(|)176 976 y(*)102 b(|)51 b(...)f(|)76 b(|)51 b(...)25 b(|)76
b(|)51 b(...)25 b(|)176 1045 y(*)102 b(|)51 b(...)f(|)76 b(|)51
b(...)25 b(|)76 b(|)51 b(...)25 b(|)176 1113 y(*)76 b(P7)51
b(...)f(P0)g(A7)25 b(...)g(A0)50 b(A7)25 b(...)g(A0)176 1182
y(*)g(|)102 b(Page)f(|)25 b(Addr)g(MSB)f(|)h(Addr)g(LSB)f(|)77
b(\(DMA)24 b(registers)o(\))176 1251 y(*)176 1319 y(*)51 b(Address)23
b(mapping)g(for)h(channels)f(5-7:)176 1388 y(*)176 1457 y(*)76
b(A23)25 b(...)f(A17)h(A16)f(A15)h(...)f(A9)h(A8)g(A7)g(...)g(A1)f(A0)102
b(\(Physical)23 b(addresses)o(\))176 1525 y(*)102 b(|)51 b(...)f(|)76
b(\\)h(\\)f(...)25 b(\\)51 b(\\)g(\\)g(...)24 b(\\)51 b(\\)176
1594 y(*)102 b(|)51 b(...)f(|)102 b(\\)77 b(\\)f(...)25 b(\\)51
b(\\)f(\\)h(...)25 b(\\)51 b(\(not)24 b(used\))176 1662 y(*)102
b(|)51 b(...)f(|)128 b(\\)76 b(\\)h(...)24 b(\\)51 b(\\)g(\\)g(...)24
b(\\)176 1731 y(*)76 b(P7)51 b(...)f(P1)25 b(\(0\))f(A7)h(A6)51
b(...)24 b(A0)h(A7)g(A6)g(...)f(A0)176 1800 y(*)h(|)153 b(Page)g(|)51
b(Addr)24 b(MSB)76 b(|)50 b(Addr)25 b(LSB)50 b(|)76 b(\(DMA)24
b(registers\))150 1949 y Fo(Again,)19 b(c)o(hannels)e(5-7)j(transfer)f
Fg(physic)n(al)f Fo(w)o(ords)h(\(16)g(bits\),)f(so)h(addresses)g(and)g(coun)o
(ts)g Fg(must)150 2018 y Fo(b)q(e)d(w)o(ord-aligned)h(\(the)f(lo)o(w)o(est)f
(address)i(bit)f(is)g Fg(ignor)n(e)n(d)f Fo(at)i(the)f(hardw)o(are)g(lev)o
(el,)e(so)j(o)q(dd-b)o(yte)150 2087 y(transfers)e(aren't)e(p)q(ossible\).)21
b(T)l(ransfer)14 b(coun)o(t)g(\()p Fg(not)i(#)g(bytes)p Fo(\))e(is)g(limited)
d(to)k(64K,)f(represen)o(ted)150 2155 y(as)h(actual)f(coun)o(t)g(-)h(1)g(:)20
b(64K)15 b(=>)f(0xFFFF,)f(1)i(=>)f(0x0000.)23 b(Th)o(us,)14
b(coun)o(t)g(is)g(alw)o(a)o(ys)g(1)h(or)g(more,)150 2224 y(and)i(up)f(to)h
(128K)g(b)o(ytes)f(ma)o(y)f(b)q(e)h(transferred)g(on)h(c)o(hannels)f(5-7)h
(in)f(one)g(op)q(eration.)150 2335 y(T)l(o)h(do)g(a)f(DMA-T)l(ransfer)h(do)f
(the)g(follo)o(wing:)223 2485 y Fn(\017)24 b Fo(Enable)16 b(DMA)g(on)h(y)o
(our)f(card.)272 2554 y(Lo)q(ok)21 b(to)g(y)o(our)e(hardw)o(are)i(do)q(cumen)
o(tation)e(ho)o(w)h(this)g(has)h(to)f(b)q(e)g(done.)33 b(Some)19
b(cards)p eop
%%Page: 44 45
44 44 bop 150 -84 1800 3 v 150 -100 a Fk(4.5.)43 b(DMA-T)-5
b(ransfers)1238 b Fo(44)272 96 y(ha)o(v)o(e)14 b(registers)h(to)g(enable)g
(DMA)g(and)g(IR)o(Q,)f(it)h(dep)q(ends)g(on)h(y)o(our)f(hardw)o(are)g(what)h
(y)o(ou)272 165 y(ha)o(v)o(e)f(to)i(set.)223 275 y Fn(\017)24
b Fo(Set)16 b(up)g(Host-side)h(registers)327 454 y Fk({)24
b Fo(First)18 b(clear)g(the)g("DMA)g(P)o(oin)o(ter)f(Flip)h(Flop".)27
b(Call)18 b(clear)p 1515 454 15 2 v 17 w(dma)p 1625 454 V 17
w(\013\(unsigned)h(in)o(t)379 522 y(dmanr\))d(with)g(y)o(our)g(DMA-Channel)g
(as)h(argumen)o(t.)327 612 y Fk({)24 b Fo(Set)11 b(the)f(DMA-mo)q(de)g
(register)g(to)i(one)f(of)g(DMA)p 1276 612 V 17 w(MODE)p 1446
612 V 17 w(READ,)g(DMA)p 1750 612 V 17 w(MODE)p 1920 612 V
17 w(WRITE)379 680 y(or)k(DMA)p 559 680 V 17 w(MODE)p 729 680
V 18 w(CASCADE)g(\(In)f(this)h(mo)q(de)f(the)g(DMA-Con)o(troller)g(is)h(used)
f(as)379 749 y(no-op)q(eration)19 b(sla)o(v)o(e)769 731 y Fd(3)788
749 y Fo(\).)24 b(set)p 908 749 V 17 w(dma)p 1018 749 V 17
w(mo)q(de\(unsigned)16 b(in)o(t)h(dmanr,)f(c)o(har)h(mo)q(de\))f(will)379
818 y(do)h(this)f(T)l(ask)h(for)f(y)o(ou.)327 907 y Fk({)24
b Fo(No)o(w)f(set)f(DMA-coun)o(t)g(and)h(DMA)f(adress)i(register)e(but)g
(remem)o(b)q(er)d(the)j(rules)379 976 y(ab)q(o)o(v)o(e.)45
b(Use)24 b(set)p 725 976 V 17 w(dma)p 835 976 V 17 w(addr\(unsigned)h(in)o(t)
e(dmanr,)i(unsigned)g(in)o(t)e(a\))h(\(If)g(y)o(ou)379 1044
y(w)o(an)o(t)15 b(to)f(set)g(the)g(P)o(age)h(register)f(only)g(y)o(ou)g(ha)o
(v)o(e)f(the)i(set)p 1450 1044 V 17 w(dma)p 1560 1044 V 17
w(page\(unsigned)g(in)o(t)379 1113 y(dmanr,)g(c)o(har)h(pagenr\))h(routine)f
(for)h(this\).)379 1192 y(set)p 442 1192 V 18 w(dma)p 553 1192
V 16 w(coun)o(t\(unsigned)23 b(in)o(t)g(dmanr,)g(unsigned)g(in)o(t)g(coun)o
(t\))f(sets)i(the)e(DMA-)379 1260 y(coun)o(t)14 b(register)g(while)f('coun)o
(t')g(represen)o(ts)g Fg(bytes)i Fo(and)f(m)o(ust)f(b)q(e)h(ev)o(en)f(for)i
(c)o(hannels)379 1329 y(5-7.)223 1439 y Fn(\017)24 b Fo(start)17
b(dma-transfer)272 1508 y(No)o(w)k(trigger)h(y)o(our)f(hardw)o(are)h(to)f(do)
h(the)g(transfer.)37 b(If)21 b(y)o(our)g(card)g(supp)q(orts)i(DMA-)272
1576 y(IR)o(Q)18 b(y)o(ou)i(should)f(start)h(the)f(transfer)h(and)g(w)o(ait)f
(for)h(an)g(In)o(terrupt.)29 b(Y)l(ou)20 b(could)f(read)272
1645 y(the)g(residue)h(coun)o(t)f(to)h(c)o(hec)o(k)e(out)i(y)o(our)g
(transfer)g(has)g(b)q(een)g(completed.)30 b(T)l(o)20 b(do)g(this)272
1714 y(get)p 340 1714 V 18 w(dma)p 451 1714 V 16 w(residue\(unsigned)c(in)o
(t)g(dmanr\))f(should)i(return)f(zero.)150 1879 y(Note:)k(There)14
b(is)g(a)h(v)o(ery)e(go)q(o)q(d)j(example)c(for)j(DMA-Programming)d(written)i
(b)o(y)g(Henn)o(us:)20 b(lo)q(ok)150 1948 y(at)33 b(/driv)o(ers/c)o(har/tp)q
(qic02.c)15 b(\(the)h(QIC-02)h(T)l(ap)q(e)g(driv)o(er\).)p
150 2451 720 2 v 206 2481 a Fc(3)225 2496 y Fb(This)e(Mo)q(de)h(is)g(used)g
(on)g(Net)o(w)o(ork-cards)g(for)g(example,)e(if)h(y)o(ou)g(in)o(tend)h(to)f
(use)i(this)e(mo)q(de,)g(ha)o(v)o(e)h(a)f(lo)q(ok)150 2553
y(on)27 b(/driv)o(ers/net/lance.c)15 b(.)p eop
%%Page: 45 46
45 45 bop 150 489 a Fl(Chapter)40 b(5)150 757 y(Sp)s(ecial)i(Concepts)e(in)g
(Lin)m(ux)150 1070 y Ff(5.1)83 b(Accesing)26 b(P)n(orts)i(in)f(User)g(space)
150 1230 y Fo(F)l(or)19 b(some)g(op)q(erations)h(on)g(the)f(hardw)o(are)h
(the)f(standard)h(driv)o(er)e(calls)h(as)h(read\(\))f(or)h(write\(\))150
1299 y(are)14 b(to)q(o)i(slo)o(w.)k(In)14 b(this)g(case)g(it)g(is)g(b)q
(etter)g(to)h(p)q(ermit)d(the)i(i/o)h(p)q(ort)g(access)f(directly)e(to)j(the)
f(user)150 1368 y(pro)q(cess.)26 b(This)18 b(has)g(b)q(een)g(done)f(for)h
(the)g(vgalib)f(graphics)h(library)f(that)h(is)f(used)h(b)o(y)f(the)h(X11)150
1436 y(serv)o(er)f(to)i(get)f(maximal)d(p)q(erformance.)26
b(F)l(or)19 b(this)f(purp)q(ose)h(Lin)o(ux)f(o\013ers)h(the)f(iop)q(erm\(\))f
(call)150 1505 y(that)g(p)q(ermits)d(p)q(ort)j(access.)317
1666 y Fh(#include)23 b(<unistd.h>)317 1795 y(int)47 b(ioperm\(unsigned)f
(long)h(from,)g(unsigned)g(long)23 b(num,)h(int)f(turn_on\);)150
1960 y Fo(Iop)q(erm)11 b(sets)h(the)g(p)q(ort)h(access)f(p)q(ermission)f
(bits)h(for)g(the)g(pro)q(cess)h(for)f(n)o(um)f(b)o(ytes)g(starting)i(from)
150 2029 y(p)q(ort)k(address)g(from)e(to)i(the)f(v)m(alue)g(turn)p
911 2029 15 2 v 17 w(on.)22 b(The)16 b(use)h(of)f(iop)q(erm)f(require)g(ro)q
(ot)i(privileges)1885 2011 y Fd(1)150 2141 y Fo(On)f(success,)f(zero)h(is)g
(returned.)k(On)c(error,)g(-1)h(is)e(returned,)g(and)i(errno)f(is)g(set)g
(appropriately)l(.)150 2252 y(T)l(o)h(use)f(iop)q(erm)f(in)h(a)h(user)f
(programm)f(it)g(m)o(ust)g(run)i(suid)f(ro)q(ot.)p 150 2296
720 2 v 206 2326 a Fc(1)225 2341 y Fb(Only)c(the)h(\014rst)h(0x3\013)e(I/O)h
(p)q(orts)g(can)g(b)q(e)g(sp)q(eci\014ed)i(in)d(this)h(manner.)j(F)m(or)d
(more)e(p)q(orts,)i(the)h(iopl)d(function)150 2398 y(m)o(ust)i(b)q(e)h(used.)
19 b(\(see)d(man)o(ual)11 b(page\))1026 2678 y Fo(45)p eop
%%Page: 46 47
46 46 bop 150 -84 1800 3 v 150 -100 a Fk(5.2.)43 b(Accessing)18
b(Kernel)f(Memory)g(from)g(User)i(Space)551 b Fo(46)150 96
y Ff(5.2)83 b(Accessing)26 b(Kernel)g(Memory)i(from)f(User)g(Space)150
257 y Fo(The)14 b(second)h(Problem)e(in)h(con)o(text)g(with)g(video)g(cards)h
(is)f(the)h(Memory)d(of)j(the)f(card)h(that)g(ha)o(v)o(e)150
326 y(to)i(b)q(e)f(acessed)g(from)g(user)g(space.)22 b(This)16
b(Memory)e(can)j(b)q(e)f(mapp)q(ed)g(to)h(user)f(space)h(using)f(the)150
394 y(mmap\(\))e(call.)150 502 y(T)l(o)j(this)f(a)h(short)f(Example)f(from)g
(vgalib:)317 650 y Fh(#include)23 b(<sys/types.h>)317 715 y(#include)g
(<sys/mman.h>)341 843 y([....])150 972 y(/*)h(open)f(/dev/mem)g(*/)150
1037 y(if\(\()g(mem_fd)g(=)h(open\("/dev/mem",O_RDWR\)\)==N)o(ULL\){)150
1101 y(error_and_exit\(\);)150 1165 y(})150 1294 y(/*)g(mmap)f(graphics)g
(memory)g(*/)150 1358 y(if\(\()g(graph_mem)g(=)h(malloc\(GRAPH_SIZE)d(+)j
(\(PAGE_SIZE-1\))e(\)\)==NULL\){)150 1423 y(error_and_exit\(\);)150
1487 y(})150 1616 y(/*)i(align)f(to)g(page)h(boundary)e(*/)150
1680 y(if\(\(unsigned)g(long\)graph_mem)g(\045)i(PAGE_SIZE\))150
1744 y(graph_mem)f(+=)g(-)h(\(\(unsigned)e(long\))i(graph_mem)e(\045)i
(PAGE_SIZE\);)150 1873 y(/*)g(now)f(map)g(the)h(memory)f(*/)150
1938 y(if\(\(graph_mem)f(=)i(\(unsigned)e(char)i(*\))f(mmap\()150
2002 y(\(caddr_t\))g(graph_mem,)150 2066 y(GRAPH_SIZE,)150
2131 y(PROT_READ|PROT_WRITE,)150 2195 y(MAP_SHARED|MAP_FIXED,)150
2259 y(mem_fd,)150 2324 y(GRAPH_BASE)198 2388 y(\)\))g(<)h(\(long\))f(0\){)
150 2452 y(error_and_exit\(\);)150 2517 y(})p eop
%%Page: 47 48
47 47 bop 150 -84 1800 3 v 150 -100 a Fk(5.3.)37 b(Reading)18
b(the)g(k)n(ernel)f(En)n(vironmen)n(t)824 b Fo(47)150 96 y(First)20
b(the)h(/dev/mem)d(device)h(is)h(op)q(ened,)i(then)f(enough)g(memory)d(is)i
(allo)q(cated)h(to)g(do)g(the)150 165 y(map)16 b(on)i(a)g(4096)g(b)o(yte)f(b)
q(oundary)l(.)25 b(GRAPH)p 1015 165 15 2 v 17 w(SIZE)17 b(is)g(the)f(size)h
(of)g(the)g(Memory)e(of)j(the)f(card)150 234 y(b)q(eginning)g(at)f(GRAPH)p
617 234 V 17 w(BASE.)150 345 y(An)o(y)f(access)h(to)h(graph)p
582 345 V 19 w(mem)c(no)o(w)j(is)g(mapp)q(ed)g(to)h(screen)e(memory)l(.)150
457 y(F)l(or)h(details)g(on)h(the)f(\015ags)h(please)f(refer)g(to)g(the)g
(man)o(ual)f(page)i(of)g(mmap.)150 678 y Ff(5.3)83 b(Reading)27
b(the)g(k)n(ernel)f(En)n(vironmen)n(t)150 839 y Fo(Lin)o(ux)17
b(pro)o(vides)g(an)h(Metho)q(d)g(to)g(con\014gure)g(Driv)o(ers)f(at)h(b)q(o)q
(ot)h(time)d(without)i(rebuilding)e(the)150 908 y(k)o(ernel.)j(This)c
(con\014guration)h(options)g(are)f(giv)o(en)f(b)o(y)h(lilo)f(to)h(the)g(k)o
(ernel)f(as)h(a)h(string.)21 b(Y)l(ou)15 b(can)150 976 y(giv)o(e)g(this)h
(parameters)g(at)g(b)q(o)q(ot)i(time)c(at)j(the)f(lilo)f(b)q(o)q(ot)j
(prompt,)d(for)h(example:)150 1128 y Fe(LILO)24 b(boot:)g(linux)g(mydriver=)o
(0x2)o(40,)o(4)150 1275 y Fo(The)16 b(k)o(ernel)f(passes)i(this)f(options)h
(to)g(the)f(driv)o(er's)e(bmouse)p 1288 1275 V 17 w(setup)i(routine.)21
b(F)l(or)c(example:)150 1422 y Fh(static)23 b(int)g(my_driver_irq)g(=)g
(DEFAULT_IRQ;)150 1487 y(static)g(int)g(my_driver_base)f(=)i(DEFAULT_BASE;)
150 1680 y(void)f(my_driver_setup\(char)e(*str,)j(int)f(*ints\))150
1744 y({)150 1809 y(if)h(\(ints[0])e(==)i(2\){)357 b(/*)24
b(ints[0])f(holds)g(the)h(number)f(of)g(arguments)g(*/)150
1873 y(my_driver_base=ints[1];)150 1937 y(my_driver_irq=ints[2];)150
2002 y(})150 2066 y(})150 2213 y Fo(T)l(o)13 b(bind)f(the)g(option)h("m)o
(ydriv)o(er=")c(and)k(the)p 1015 2213 V 30 w(setup)f(routine)g(together)g
(and)h(to)g(mak)o(e)d(it)i(recog-)150 2278 y(nized)e(b)o(y)g(the)h(k)o
(ernel,)f(y)o(ou)g(ha)o(v)o(e)g(to)i(mo)q(dify)d(the)i(b)q(o)q(otsetups[])h
(arra)o(y)e(in)h($LINUX)p 1679 2278 V 17 w(SOUR)o(CE/init/main.c:)150
2425 y Fh(struct)23 b({)150 2489 y(char)g(*str;)150 2554 y(void)g
(\(*setup_func\)\(char)f(*,)h(int)h(*\);)p eop
%%Page: 48 49
48 48 bop 150 -84 1800 3 v 150 -100 a Fk(5.4.)43 b(W)-5 b(riting)18
b(Loadable)g(Mo)r(dules)966 b Fo(48)150 96 y Fh(})24 b(bootsetups[])e(=)i({)
150 161 y({)g("reserve=",)e(reserve_setup)g(},)341 225 y(:)341
289 y(:)i(/*)f(some)h(option)f(strings)f(*/)341 354 y(:)150
418 y(#ifdef)h(CONFIG_MYDRIVER)150 482 y({)h("mydriver=",)e(my_driver_setup)g
(},)150 547 y(#endif)341 611 y(:)341 676 y(:)i(/*)f(some)h(other)f(options)g
(*/)341 740 y(:)341 804 y(:)150 869 y({)h(0,)f(0)h(})150 933
y(};)150 1083 y Fo(Note)15 b(that)g(the)g(setup)h(routine)e(is)h(called)g(b)q
(efore)g(an)o(y)g(init)f(routine.)21 b(This)15 b(mec)o(hanism)d(is)j(used)150
1152 y(b)o(y)h(sev)o(eral)f(driv)o(ers)g(to)i(con\014gure)f(IR)o(Q)g(and)g
(base)h(adress.)150 1373 y Ff(5.4)83 b(W)-7 b(riting)28 b(Loadable)f(Mo)r
(dules)150 1534 y Fo(2.5)17 b(This)h(section)e(has)i(partially)e(b)q(een)h
(stolen)g(from)f(Jon.)25 b(T)l(om)o(b's)16 b(do)q(c)h(\014le)g(in)f(the)h(mo)
q(dutils)150 1603 y(pac)o(k)m(age.)150 1714 y(A)23 b(mo)q(dule)f(is)i(a)g
(collection)e(of)i(co)q(de)f(whic)o(h)g(can)h(b)q(e)g(dynamicly)d(link)o(ed)h
(in)o(to)h(the)g(k)o(ernel.)150 1783 y(Mo)q(dules)14 b(can)h(con)o(tain)f
(things)g(suc)o(h)g(as)h(device)d(driv)o(ers,)h(system)g(calls,)g(and)i
(\014le)f(system)e(t)o(yp)q(es)150 1852 y([system)i(calls)i(are)g(actually)g
(nolonger)h(p)q(ermitted].)150 1963 y(A)d(mo)q(dule)g(consists)h(of)g(a)g
(normal)f(.o)g(\014le.)20 b(If)14 b(y)o(ou)h(ha)o(v)o(e)f(m)o(ultiple)d
(source)k(\014les,)f(com)o(bine)f(them)150 2032 y(in)o(to)j(a)h(single)e(.o)i
(\014le)e(using)i("ld)f(-r".)150 2143 y(Ho)o(w)g(do)q(es)h(the)f(k)o(ernel)f
(kno)o(w)h(to)h(use)f(m)o(y)e(mo)q(dule?)150 2255 y(Y)l(our)d(co)q(de)g(m)o
(ust)e(con)o(tain)i(a)g(routine)g(named)e("init)p 1103 2255
15 2 v 18 w(mo)q(dule")h(and)h(a)g(routine)g(named)f("clean)o(up)p
1937 2255 V 17 w(mo)q(dule".)150 2323 y(These)16 b(routines)g(are)h
(de\014ned)f(as:)176 2485 y Fe(int)24 b(init_modul)o(e\(v)o(oid)o(\);)176
2554 y(void)g(cleanup\\_)o(mod)o(ule)o(\(vo)o(id)o(\);)p eop
%%Page: 49 50
49 49 bop 150 -84 1800 3 v 150 -100 a Fk(5.4.)37 b(W)-5 b(riting)17
b(Loadable)i(Mo)r(dules)972 b Fo(49)150 96 y("Init)p 255 96
15 2 v 17 w(mo)q(dule")20 b(will)g(b)q(e)h(called)f(when)h(the)g(mo)q(dule)f
(is)h(loaded.)35 b(It)21 b(should)g(return)g(zero)g(on)150
165 y(success)i(and)h(-1)g(on)g(failure.)42 b("Clean)o(up)p
957 165 V 18 w(mo)q(dule")22 b(will)h(b)q(e)g(called)f(b)q(efore)i(the)f(mo)q
(dule)f(is)150 234 y(deleted.)g(It)17 b(should)g(undo)h(the)e(op)q(erations)i
(p)q(erformed)e(b)o(y)g("init)p 1396 234 V 18 w(mo)q(dule".)22
b(F)l(or)17 b(example,)e(if)150 302 y(a)f(mo)q(dule)f(de\014nes)h(a)g(sp)q
(ecial)g(device)e(t)o(yp)q(e)i("init)p 1065 302 V 17 w(mo)q(dule")f(should)h
(register)g(the)g(device)e(ma)s(jor)150 371 y(n)o(um)o(b)q(er)i(and)j(and)g
("clean)o(up)p 706 371 V 17 w(mo)q(dule")f(should)h(remo)o(v)o(e)c(it.)150
482 y(Also)i(note)g(for)g(the)g(mo)q(dule)e(to)j(b)q(e)f(installed)f(it)g(m)o
(ust)g(con)o(tain)h(a)g(string)g(k)o(ernel)p 1656 482 V 16
w(v)o(ersion[])f(that)150 551 y(matc)o(hes)h(the)h(release)f(of)i(the)f
(curren)o(t)f(k)o(ernel)g(\(i.e.)20 b(matc)o(hes)14 b(uname)h(-r\).)150
658 y(Here)g(is)h(a)h(short)g(Example)d(of)j(the)f(parts)h(of)f(an)h(Driv)o
(er)e(that)i(mak)o(es)d(it)i(to)h(an)g(Mo)q(dule:)150 871 y
Fh(###)23 b(other)h(includes)150 936 y(#include)f(<linux/module.h>)150
1129 y(char)g(kernel_version[])f(=)i("1.0";)f(/*)g(or)h(what)f(ever)h(uname)f
(-r)g(says)h(*/)150 1257 y(###)f(other)h(driver)f(routines)150
1386 y(/*)174 1451 y(*)h(Our)f(special)g(open)g(code.)174 1515
y(*)h(MOD_INC_USE_COUNT)d(make)i(sure)h(that)f(the)h(driver)f(memory)g(is)g
(not)h(freed)174 1579 y(*)g(while)f(the)g(device)g(is)h(in)f(use.)174
1644 y(*/)150 1708 y(static)g(int)150 1772 y(hw_open\()g(struct)g(inode*)g
(ino,)g(struct)g(file*)g(filep\))150 1837 y({)222 1901 y(MOD_INC_USE_COUNT;)
222 1965 y(return)g(0;)150 2030 y(})150 2158 y(/*)174 2223
y(*)h(Now)f(decrement)g(the)g(use)h(count.)174 2287 y(*/)150
2352 y(static)f(void)150 2416 y(hw_close\()g(struct)g(inode*)g(ino,)g(struct)
g(file*)g(filep\))150 2480 y({)222 2545 y(MOD_DEC_USE_COUNT;)p
eop
%%Page: 50 51
50 50 bop 150 -84 1800 3 v 150 -100 a Fk(5.4.)37 b(W)-5 b(riting)17
b(Loadable)i(Mo)r(dules)972 b Fo(50)150 96 y Fh(})150 225 y(static)23
b(struct)g(file_operations)f(hw_fops)h(=)h({)150 289 y(hw_lseek,)150
354 y(hw_read,)150 418 y(NULL,)150 482 y(NULL,)f(/*)h(hw_readdir)e(*/)150
547 y(NULL,)h(/*)h(hw_select)e(*/)150 611 y(NULL,)h(/*)h(hw_ioctl)f(*/)150
676 y(NULL,)150 740 y(hw_open,)150 804 y(hw_close,)150 869
y(NULL)g(/*)h(fsync)f(*/)150 933 y(};)150 1190 y(/*)174 1255
y(*)h(And)f(now)g(the)h(modules)f(code)g(and)h(kernel)f(interface.)174
1319 y(*/)150 1383 y(extern)g(int)g(printk\()g(const)h(char*)f(fmt,)g(...\);)
150 1577 y(int)150 1641 y(init_module\()f(void\))h({)150 1705
y(printk\()g("drv_hello.c:)46 b(init_module)22 b(called\\n"\);)150
1770 y(if)i(\(register_chrdev\(HW_MAJ)o(OR,)d("hw",)i(&hw_fops\)\))g({)198
1834 y(printk\("register_chrdev)d(failed:)j(goodbye)g(world)g(:-\(\\n"\);)198
1898 y(return)g(-EIO;)150 1963 y(})h(else)198 2027 y(printk\()f("Hello,)g
(world\\n"\);)150 2156 y(return)g(0;)150 2220 y(})150 2349
y(void)150 2413 y(cleanup_module\()f(void\))h({)198 2478 y(printk\()g
("drv_hello.c:)46 b(cleanup_module)22 b(called\\n"\);)p eop
%%Page: 51 52
51 51 bop 150 -84 1800 3 v 150 -100 a Fk(5.4.)43 b(W)-5 b(riting)18
b(Loadable)g(Mo)r(dules)966 b Fo(51)198 96 y Fh(if)23 b(\(MOD_IN_USE\))245
161 y(printk\("hw:)g(device)g(busy,)g(remove)g(delayed\\n"\);)198
354 y(if)g(\(unregister_chrdev\(HW_MAJOR,)d("hw"\))k(!=)f(0\))h({)245
418 y(printk\("cleanup_module)d(failed\\n"\);)198 482 y(})i(else)h({)245
547 y(printk\("cleanup_module)d(succeeded\\n"\);)198 611 y(})150
676 y(})150 829 y Fo(Note)16 b(that)h(there)e(is)h(a)h(new)f(k)o(ernel)f
(routine)h(unregister)p 1215 829 15 2 v 17 w(c)o(hrdev\(\))f(that)i(remo)o(v)
o(es)d(the)i(ho)q(ok)o(ed)150 897 y(fops)h(functions)f(from)f(the)g(k)o
(ernel.)20 b(Be)15 b(sh)o(ure)h(to)g(call)f(this)h(routine)g(at)g(clean)o
(up.)21 b(Do'n)o(t)16 b(forget)150 966 y(to)h(free)e(irq's,)g(dma's)g(and)i
(memory)c(pages.)150 1077 y(The)e(Macros)g(MOD)p 532 1077 V
17 w(INC)p 639 1077 V 17 w(USE)p 753 1077 V 18 w(COUNT)f(and)i(MOD)p
1173 1077 V 17 w(DEC)p 1295 1077 V 18 w(USE)p 1410 1077 V 18
w(COUNT)e(are)h(used)g(in)f(op)q(en/close)150 1146 y(to)26
b(prev)o(en)o(t)e(the)h(mo)q(dule)f(b)q(eing)i(freed)e(while)h(it)g(is)g
(still)f(running.)49 b(This)25 b(is)h(c)o(hec)o(k)o(ed)d(b)o(y)150
1215 y(MOD)p 273 1215 V 17 w(IN)p 345 1215 V 17 w(USE)16 b(at)h(clean)o(up.)
150 1326 y(F)l(or)12 b(loading,)h(unloading)g(and)g(listing)e(mo)q(dules)g
(there)h(are)g(sev)o(eral)f(programs)h(to)g(do)h(this)f(tasks.)150
1438 y("insmo)q(d)18 b(ob)s(ject)p 481 1438 V 17 w(\014le")g(will)f(install)h
(a)h(mo)q(dule)e(in)o(to)h(the)g(k)o(ernel.)26 b(The)18 b(name)f(of)i(the)f
(mo)q(dule)150 1506 y(consists)f(of)f(the)g(name)f(of)i(the)f(ob)s(ject)g
(\014le)f(with)h(the)g(.o)g(and)h(an)o(y)f(directory)g(names)f(remo)o(v)o
(ed.)150 1618 y("lsmo)q(d")i(will)e(pro)q(duce)i(a)g(list)f(of)h(mo)q(dules)e
(curren)o(tly)g(in)h(the)h(k)o(ernel,)d(including)i(the)g(mo)q(dule)150
1686 y(name)f(and)i(size)e(in)h(pages.)150 1798 y("rmmo)q(d)h(name")i(will)f
(remo)o(v)o(e)e(a)j(mo)q(dule.)29 b(The)19 b(argumen)o(t)e(should)j(b)q(e)f
(the)g(mo)q(dule)f(name,)150 1866 y(not)f(the)f(ob)s(ject)f(\014le)h(name.)p
eop
%%Page: 52 53
52 52 bop 150 489 a Fl(App)s(endix)41 b(A)150 757 y(Reference)g(Guide)150
1070 y Ff(A.1)83 b(Kernel-callable)26 b(functions)150 1230
y Fo(Note:)20 b(There)14 b(is)h(no)g(close)f(for)h(a)g(c)o(haracter)f
(device.)19 b(There)14 b(is)h(only)f(release.)20 b(See)14 b(the)g(\014le)g
(data)150 1299 y(structure)g(b)q(elo)o(w)g(to)h(\014nd)f(out)h(ho)o(w)g(to)g
(determine)c(the)j(n)o(um)o(b)q(er)f(of)h(pro)q(cesses)h(whic)o(h)f(ha)o(v)o
(e)f(the)150 1368 y(device)i(op)q(en.)150 1511 y Fk(init)j(:)24
b Fo(Initializes)14 b(the)i(driv)o(er)f(on)h(b)q(o)q(otup.)320
1622 y Fh(unsigned)22 b(long)i(driver_init\(unsigned)d(long)i(kmem_start,)g
(unsigned)f(long)i(kmem_end\))320 1751 y(Arguments:)e(kmem_start)h(--)g(the)h
(start)f(of)g(kernel)h(memory)534 1815 y(kmem_end)71 b(--)24
b(the)f(end)g(of)h(kernel)f(memory)320 1944 y(Returns:)f(The)i(new)f(start)h
(of)f(kernel)g(memory.)47 b(This)23 b(will)h(be)f(different)g(from)g(the)534
2008 y(kmem_start)g(argument)g(if)g(you)h(want)f(to)h(allocate)e(memory)h
(for)h(the)f(driver.)272 2123 y Fo(The)14 b(argumen)o(ts)f(y)o(ou)i(use)f
(dep)q(ends)g(on)h(what)g(y)o(ou)f(w)o(an)o(t)g(to)h(do.)21
b(Remem)n(b)q(er)11 b(that)k(since)272 2192 y(y)o(ou)f(are)g(going)h(to)f
(add)h(y)o(our)f(init)f(function)h(to)g(k)o(ernel/c)o(hr)p
1384 2192 15 2 v 16 w(dev/mem.)o(c,)d(y)o(ou)j(can)g(mak)o(e)272
2261 y(y)o(our)g(call)f(an)o(ything)h(y)o(ou)g(lik)o(e,)e(but)j(y)o(ou)f(ha)o
(v)o(e)f(access)h(to)g(the)g(k)o(ernel)f(memory)e(start)j(and)272
2329 y(end.)272 2416 y(Generally)l(,)21 b(the)h(init)f(function)g
(initializes)e(the)j(driv)o(er)e(and)i(hardw)o(are,)h(and)f(displa)o(ys)272
2485 y(some)13 b(message)g(telling)g(of)h(the)f(a)o(v)m(ailabilit)o(y)f(of)i
(the)g(driv)o(er)e(and)j(hardw)o(are.)21 b(In)13 b(addition,)272
2554 y(the)j(register)p 517 2554 V 17 w(c)o(hrdev)f(function)h(is)g(usually)g
(called)f(here.)1026 2678 y(52)p eop
%%Page: 53 54
53 53 bop 150 -84 1800 3 v 150 -100 a Fk(A.1.)43 b(Kernel-callable)16
b(functions)998 b Fo(53)150 96 y Fk(op)r(en)18 b(:)24 b Fo(Op)q(en)16
b(a)h(device)320 209 y Fh(static)23 b(int)g(driver_open\(struct)f(inode)h(*)g
(inode,)h(struct)f(file)g(*)h(file\))320 338 y(Arguments:)e(inode)95
b(--)24 b(pointer)e(to)i(the)f(inode)h(structure)e(for)i(this)f(device)582
402 y(file)119 b(--)24 b(pointer)e(to)i(the)f(file)h(structure)e(for)i(this)f
(device)320 531 y(Returns:)f(0)i(on)g(success,)487 595 y(-errno)f(on)g
(error.)272 712 y Fo(This)g(function)f(is)h(called)e(whenev)o(er)h(a)h(pro)q
(cess)g(p)q(erforms)f(op)q(en)h(\(or)g(fop)q(en\))g(on)g(the)272
781 y(device)10 b(sp)q(ecial)h(\014le.)19 b(If)11 b(there)g(is)g(no)h(op)q
(en)h(function)e(for)h(the)f(driv)o(er,)g(nothing)h(sp)q(ectacular)272
849 y(happ)q(ens.)22 b(As)16 b(long)h(as)g(the)f(/dev)g(\014le)g(exists,)f
(the)h(op)q(en)h(will)e(succeed.)150 951 y Fk(read)k(:)k Fo(Read)17
b(from)e(a)i(device)320 1064 y Fh(static)23 b(int)g(driver_read\(struct)f
(inode)h(*)g(inode,)h(struct)f(file)g(*)h(file,)869 1128 y(char)f(*)h
(buffer,)e(int)i(count\))320 1257 y(Arguments:)e(inode)95 b(--)24
b(pointer)e(to)i(the)f(inode)h(structure)e(for)i(this)f(device)582
1321 y(file)119 b(--)24 b(pointer)e(to)i(the)f(file)h(structure)e(for)i(this)
f(device)582 1386 y(buffer)71 b(--)24 b(pointer)e(to)i(the)f(buffer)h(in)f
(user)g(space)h(to)f(read)h(into)582 1450 y(count)95 b(--)24
b(the)f(number)g(of)h(bytes)f(to)g(read)320 1579 y(Returns:)f(-errno)h(on)h
(error)534 1643 y(>=0)g(:)g(the)f(number)g(of)h(bytes)f(actually)g(read)272
1760 y Fo(If)16 b(there)f(is)h(no)h(read)g(function)f(for)g(the)g(driv)o(er,)
f(read)h(calls)g(will)f(return)h(EINV)-5 b(AL.)150 1862 y Fk(write)18
b(:)24 b Fo(W)l(rite)15 b(to)i(a)g(device)320 1974 y Fh(static)23
b(int)g(driver_write\(struct)e(inode)j(*)f(inode,)g(struct)g(file)h(*)f
(file,)892 2039 y(char)h(*)f(buffer,)g(int)h(count\))320 2167
y(Arguments:)e(inode)95 b(--)24 b(pointer)e(to)i(the)f(inode)h(structure)e
(for)i(this)f(device)582 2232 y(file)119 b(--)24 b(pointer)e(to)i(the)f(file)
h(structure)e(for)i(this)f(device)582 2296 y(buffer)71 b(--)24
b(pointer)e(to)i(the)f(buffer)h(in)f(user)g(space)h(to)f(write)g(from)582
2361 y(count)95 b(--)24 b(the)f(number)g(of)h(bytes)f(to)g(write)320
2489 y(Returns:)f(-errno)h(on)h(error)534 2554 y(>=0)g(:)g(the)f(number)g(of)
h(bytes)f(actually)g(written)p eop
%%Page: 54 55
54 54 bop 150 -84 1800 3 v 150 -100 a Fk(A.1.)43 b(Kernel-callable)16
b(functions)998 b Fo(54)272 96 y(If)16 b(there)f(is)h(no)h(write)f(function)g
(for)g(the)g(driv)o(er,)f(write)g(calls)h(will)f(return)h(EINV)-5
b(AL.)272 186 y(**********)q(**)q(**)150 291 y Fk(lseek)17
b(:)24 b Fo(Change)17 b(the)f(p)q(osition)h(o\013set)g(of)g(the)f(device)320
417 y Fh(static)23 b(int)g(driver_lseek\(struct)e(inode)j(*)f(inode,)g
(struct)g(file)h(*)f(file,)892 481 y(off_t)h(offset,)e(int)i(origin\))320
610 y(Arguments:)e(inode)95 b(--)24 b(pointer)e(to)i(the)f(inode)h(structure)
e(for)i(this)f(device)582 674 y(file)119 b(--)24 b(pointer)e(to)i(the)f(file)
h(structure)e(for)i(this)f(device)582 739 y(offset)71 b(--)24
b(offset)f(from)g(origin)g(to)h(move)f(to)g(\(bytes\))582 803
y(origin)71 b(--)24 b(origin)f(to)g(move)g(from)h(:)869 867
y(0)f(=)h(from)f(origin)g(0)h(\(beginning\))869 932 y(1)f(=)h(from)f(current)
g(position)869 996 y(2)g(=)h(from)f(end)320 1125 y(Returns:)f(-errno)h(on)h
(error)534 1189 y(>=0)g(:)g(the)f(position)g(after)g(the)g(move)272
1319 y Fo(See)16 b(Also:)21 b(Data)c(Structure)f('\014le')272
1408 y(If)g(there)g(is)g(no)h(lseek)f(function)g(for)h(the)f(driv)o(er,)f
(the)h(k)o(ernel)f(will)g(tak)o(e)h(the)g(default)h(seek)272
1477 y(action,)k(whic)o(h)f(is)g(to)h(alter)f(the)g(\014le->f)p
1024 1477 15 2 v 17 w(p)q(os)h(elemen)o(t.)31 b(F)l(or)20 b(origins)h(of)g
(2,)g(the)f(default)272 1546 y(action)d(results)g(in)g(-EINV)-5
b(AL)17 b(if)f(\014le->f)p 1018 1546 V 17 w(ino)q(de)i(is)f(NULL,)g(or)h(it)f
(sets)g(\014le->f)p 1707 1546 V 17 w(p)q(os)i(to)e(\014le-)272
1614 y(>f)p 313 1614 V 17 w(ino)q(de->i)p 498 1614 V 18 w(size)e(+)i
(o\013set)g(otherwise.)150 1720 y Fk(io)r(ctl)g(:)24 b Fo(V)l(arious)16
b(device-dep)q(enden)o(t)f(services)320 1846 y Fh(static)23
b(int)g(driver_ioctl\(struct)e(inode)j(*inode,)f(struct)g(file)g(*file,)892
1910 y(unsigned)g(int)h(cmd,)f(unsigned)g(long)g(arg\))320
2039 y(Arguments:)f(inode)95 b(--)24 b(pointer)e(to)i(the)f(inode)h
(structure)e(for)i(this)f(device)582 2103 y(file)119 b(--)24
b(pointer)e(to)i(the)f(file)h(structure)e(for)i(this)f(device)582
2167 y(cmd)143 b(--)24 b(the)f(user-defined)f(command)h(to)h(perform)582
2232 y(arg)143 b(--)24 b(the)f(user-defined)f(argument.)47
b(You)23 b(may)h(use)f(this)869 2296 y(as)g(a)h(pointer)f(to)g(user)h(space,)
f(since)g(sizeof\(long\)==)869 2361 y(sizeof\(void)f(*\).)320
2489 y(Returns:)g(-errno)h(on)h(error)534 2554 y(>=0)g(:)g(whatever)e(you)i
(like!)f(\(user-defined\))p eop
%%Page: 55 56
55 55 bop 150 -84 1800 3 v 150 -100 a Fk(A.1.)37 b(Kernel-callable)16
b(functions)1004 b Fo(55)272 96 y(F)l(or)16 b(cmd,)e(FIOCLEX,)i(FIONCLEX,)f
(FIONBIO,)e(and)k(FIO)o(ASYNC)d(are)i(already)g(de-)272 165
y(\014ned.)21 b(See)14 b(the)h(\014le)f(lin)o(ux/fs/io)q(ctl.c,)f(sys)p
1068 165 15 2 v 18 w(io)q(ctl)h(to)i(\014nd)f(out)g(what)h(they)e(do.)21
b(If)15 b(there)f(is)272 234 y(no)j(io)q(ctl)f(call)g(for)h(the)f(driv)o(er,)
f(and)i(the)g(io)q(ctl)f(command)f(p)q(erformed)g(is)h(not)i(one)e(of)h(the)
272 302 y(four)g(t)o(yp)q(es)f(listed)f(here,)g(io)q(ctl)h(will)f(return)h
(-EINV)-5 b(AL.)150 405 y Fk(select)17 b(:)24 b Fo(P)o(erforms)15
b(the)h(select)f(call)g(on)i(the)f(device:)320 522 y Fh(static)23
b(int)g(driver_select\(struct)e(inode)i(*inode,)g(struct)g(file)h(*file,)916
587 y(int)g(sel_type,)e(select_table)h(*)g(wait\))320 715 y(Arguments:)f
(inode)95 b(--)24 b(pointer)e(to)i(the)f(inode)h(structure)e(for)i(this)f
(device)582 780 y(file)119 b(--)24 b(pointer)e(to)i(the)f(file)h(structure)e
(for)i(this)f(device)582 844 y(sel_type)g(--)h(the)f(select)g(type)g(to)h
(perform)f(:)892 909 y(SEL_IN)g(\(read\))892 973 y(SEL_OUT)g(\(write\))892
1037 y(SEL_EX)g(\(exception\))582 1102 y(wait)119 b(--)24 b(see)f(the)g
(section)g("Some)h(Notes")f(for)g(select.)320 1230 y(Returns:)f(0)i(if)g(the)
f(device)g(is)h(not)f(ready)g(to)h(perform)f(the)g(sel_type)g(operation)534
1295 y(!=0)h(if)f(it)h(is.)272 1416 y Fo(See)d(the)g("Some)f(Notes")i
(section)e('w)o(a)o(y)h(b)q(elo)o(w)g(on)h(information)e(on)i(ho)o(w)f(to)h
(use)f(the)272 1485 y(select)15 b(call)g(in)h(driv)o(ers.)k(If)c(there)g(is)g
(no)g(select)f(call)h(for)g(the)g(driv)o(er,)e(select)h(will)g(act)i(as)g(if)
272 1553 y(the)f(driv)o(er)f(is)h(ready)g(for)h(the)f(op)q(eration.)150
1656 y Fk(release)h(:)24 b Fo(Release)16 b(device)e(\(no)j(pro)q(cess)g
(holds)f(it)g(op)q(en\))320 1774 y Fh(static)23 b(void)g
(driver_release\(struct)e(inode)i(*)h(inode,)f(struct)g(file)g(*)h(file\))320
1902 y(Arguments:)e(inode)95 b(--)24 b(pointer)e(to)i(the)f(inode)h
(structure)e(for)i(this)f(device)582 1967 y(file)119 b(--)24
b(pointer)e(to)i(the)f(file)h(structure)e(for)i(this)f(device)272
2088 y Fo(The)c(release)g(call)f(is)h(activ)m(ated)g(only)g(when)h(the)f(pro)
q(cess)h(closes)f(the)g(device)f(as)h(man)o(y)272 2157 y(times)g(as)i(it)f
(has)i(op)q(ened)f(it.)34 b(That)21 b(is,)g(if)f(the)h(pro)q(cess)g(has)g(op)
q(ened)g(the)g(device)e(\014v)o(e)272 2225 y(times,)h(then)h(only)h(when)f
(close)g(is)g(called)f(for)i(the)f(\014fth)h(time)d(will)h(release)h(b)q(e)g
(called)272 2294 y(\(that)c(is,)f(pro)o(vided)g(there)g(w)o(ere)f(no)i(more)f
(calls)g(to)g(op)q(en!\).)23 b(If)16 b(there)g(is)g(no)h(release)f(call)272
2362 y(for)g(the)g(driv)o(er,)f(nothing)i(sp)q(ectacular)f(happ)q(ens.)272
2450 y(**********)q(**)q(**)150 2554 y Fk(readdir)i(:)24 b
Fo(Get)16 b(the)g(next)g(directory)f(en)o(try)p eop
%%Page: 56 57
56 56 bop 150 -84 1800 3 v 150 -100 a Fk(A.2.)43 b(Data)19
b(structures)1221 b Fo(56)320 96 y Fh(static)23 b(int)g
(driver_readdir\(struct)e(inode)i(*inode,)g(struct)g(file)h(*file,)940
161 y(struct)f(dirent)g(*dirent,)g(int)g(count\))320 289 y(Arguments:)f
(inode)95 b(--)24 b(pointer)e(to)i(the)f(inode)h(structure)e(for)i(this)f
(device)582 354 y(file)119 b(--)24 b(pointer)e(to)i(the)f(file)h(structure)e
(for)i(this)f(device)582 418 y(dirent)71 b(--)24 b(pointer)e(to)i(a)g(dirent)
f(\("directory)f(entry"\))h(structure)582 482 y(count)95 b(--)24
b(number)f(of)g(entries)g(to)h(read)f(\(currently)f(always)i(1\))320
611 y(Returns:)e(0)i(on)g(success)534 676 y(-errno)f(on)h(failure.)272
806 y Fo(If)19 b(there)g(is)h(no)g(readdir)g(function)f(for)h(the)g(driv)o
(er,)f(readdir)g(will)g(return)h(-ENOTDIR.)272 875 y(This)15
b(is)f(really)g(for)h(\014le)f(systems,)g(but)h(y)o(ou)g(can)g(probably)g
(use)f(it)h(for)g(whatev)o(er)f(y)o(ou)h(lik)o(e)272 944 y(in)h(a)g(non-fs)i
(device,)c(as)j(long)g(as)f(y)o(ou)h(return)f(a)g(diren)o(t)f(structure.)272
1033 y(See)h(Also:)21 b(diren)o(t)15 b(\(data)i(structure\))150
1143 y Fk(mmap)f(:)24 b Fo(F)l(orget)13 b(this.)20 b(According)11
b(to)i(the)f(source)g(\(src/lin)o(ux/mm/m)o(m)o(ap.c)o(\),)e(for)j(c)o
(haracter)272 1212 y(devices)h(only)i(/dev/[k]mem)c(ma)o(y)i(b)q(e)i(mapp)q
(ed.)21 b(Besides,)14 b(I'm)g(not)i(to)q(o)h(clear)e(on)h(what)272
1280 y(it)g(will)f(do.)150 1502 y Ff(A.2)83 b(Data)28 b(structures)150
1663 y Fk(diren)n(t)18 b(:)24 b Fo(Information)15 b(ab)q(out)j(\014les)e(in)g
(a)g(directory)l(.)272 1802 y Fh(#include)23 b(<linux/dirent.h>)272
1931 y(struct)g(dirent)g({)463 1995 y(long)286 b(d_ino;)381
b(/*)23 b(Inode)g(of)h(file)f(*/)463 2060 y(off_t)262 b(d_off;)463
2124 y(unsigned)23 b(short)47 b(d_reclen;)463 2189 y(char)286
b(d_name[NAME_MAX+1];)69 b(/*)23 b(Name)h(of)f(file)g(*/)272
2253 y(};)150 2461 y Fk(\014le)18 b(:)24 b Fo(Information)15
b(ab)q(out)j(op)q(en)f(\014les)p eop
%%Page: 57 58
57 57 bop 150 -84 1800 3 v 150 -100 a Fk(A.2.)37 b(Data)19
b(structures)1227 b Fo(57)272 96 y(According)21 b(to)h(the)g(Hac)o(k)o(er's)e
(Guide)h(to)h(Lin)o(ux,)h(this)e(structure)h(is)f(mainly)f(used)i(for)272
165 y(writing)17 b(\014lesystems,)e(not)j(driv)o(ers.)23 b(Ho)o(w)o(ev)o(er,)
15 b(there)h(is)h(no)h(reason)g(it)f(cannot)h(b)q(e)f(used)272
234 y(b)o(y)f(driv)o(ers.)272 373 y Fh(#include)23 b(<linux/fs.h>)272
501 y(struct)g(file)g({)487 566 y(mode_t)g(f_mode;)487 630
y(dev_t)g(f_rdev;)452 b(/*)24 b(needed)f(for)g(/dev/tty)g(*/)511
694 y(off_t)g(f_pos;)476 b(/*)24 b(Curr.)f(posn)g(in)h(file)f(*/)511
759 y(unsigned)f(short)i(f_flags;)213 b(/*)24 b(The)f(flags)g(arg)h(passed)f
(to)h(open)f(*/)534 823 y(unsigned)g(short)g(f_count;)214 b(/*)24
b(Number)f(of)g(opens)g(on)h(this)f(file)h(*/)630 887 y(unsigned)f(short)g
(f_reada;)630 952 y(struct)g(inode)g(*)h(f_inode;)214 b(/*)23
b(pointer)g(to)h(the)f(inode)g(struct)g(*/)630 1016 y(struct)g
(file_operations)f(*)h(f_op;)48 b(/*)23 b(pointer)g(to)h(the)f(fops)g(struct)
g(*/)272 1081 y(};)150 1284 y Fk(\014le)p 226 1284 17 2 v 19
w(op)r(erations)18 b(:)24 b Fo(T)l(ells)16 b(the)g(k)o(ernel)e(whic)o(h)i
(function)g(to)g(call)g(for)g(whic)o(h)g(k)o(ernel)e(function.)272
1411 y Fh(#include)23 b(<linux/fs.h>)272 1539 y(struct)g(file_operations)f({)
463 1604 y(int)47 b(\(*lseek\))23 b(\(struct)g(inode)g(*,)h(struct)f(file)g
(*,)h(off_t,)f(int\);)463 1668 y(int)47 b(\(*read\))23 b(\(struct)g(inode)g
(*,)h(struct)f(file)g(*,)h(char)f(*,)h(int\);)487 1732 y(int)47
b(\(*write\))23 b(\(struct)g(inode)g(*,)g(struct)h(file)f(*,)g(char)h(*,)f
(int\);)487 1797 y(int)47 b(\(*readdir\))23 b(\(struct)f(inode)i(*,)f(struct)
g(file)h(*,)f(struct)g(dirent)g(*,)h(int\);)487 1861 y(int)47
b(\(*select\))23 b(\(struct)g(inode)g(*,)g(struct)g(file)h(*,)f(int,)h
(select_table)e(*\);)487 1925 y(int)47 b(\(*ioctl\))23 b(\(struct)g(inode)g
(*,)g(struct)h(file)f(*,)g(unsigned)g(int,)869 1990 y(unsigned)f(int\);)511
2054 y(int)47 b(\(*mmap\))23 b(\(void\);)511 2119 y(int)47
b(\(*open\))23 b(\(struct)g(inode)g(*,)g(struct)h(file)f(*\);)511
2183 y(void)g(\(*release\))f(\(struct)h(inode)g(*,)h(struct)f(file)g(*\);)534
2247 y(int)48 b(\(*fsync\))23 b(\(struct)f(inode)i(*,)f(struct)g(file)h(*\);)
272 2312 y(};)150 2503 y Fk(ino)r(de)18 b(:)24 b Fo(Information)15
b(ab)q(out)i(the)f(/dev/xxx)g(\014le)g(\(or)g(ino)q(de\))p
eop
%%Page: 58 59
58 58 bop 150 -84 1800 3 v 150 -100 a Fk(A.2.)37 b(Data)19
b(structures)1227 b Fo(58)272 96 y Fh(#include)23 b(<linux/fs.h>)272
225 y(struct)g(inode)g({)487 289 y(dev_t)262 b(i_dev;)511 354
y(unsigned)22 b(long)71 b(i_ino;)47 b(/*)24 b(Inode)f(number)g(*/)511
418 y(umode_t)213 b(i_mode;)23 b(/*)h(Mode)f(of)h(the)f(file)h(*/)511
482 y(nlink_t)213 b(i_nlink;)511 547 y(uid_t)261 b(i_uid;)463
611 y(gid_t)h(i_gid;)487 676 y(dev_t)g(i_rdev;)46 b(/*)24 b(Device)f(major)g
(and)h(minor)f(numbers)g(*/)487 740 y(off_t)262 b(i_size;)487
804 y(time_t)238 b(i_atime;)487 869 y(time_t)g(i_mtime;)487
933 y(time_t)g(i_ctime;)487 997 y(unsigned)22 b(long)72 b(i_blksize;)487
1062 y(unsigned)22 b(long)72 b(i_blocks;)487 1126 y(struct)23
b(inode_operations)e(*)j(i_op;)487 1190 y(struct)f(super_block)f(*)i(i_sb;)
487 1255 y(struct)f(wait_queue)f(*)i(i_wait;)487 1319 y(struct)f(file_lock)f
(*)i(i_flock;)487 1383 y(struct)f(vm_area_struct)f(*)h(i_mmap;)511
1448 y(struct)g(inode)g(*)h(i_next,)e(*)i(i_prev;)487 1512
y(struct)f(inode)g(*)h(i_hash_next,)e(*)i(i_hash_prev;)487
1577 y(struct)f(inode)g(*)h(i_bound_to,)e(*)i(i_bound_by;)487
1641 y(unsigned)e(short)i(i_count;)487 1705 y(unsigned)e(short)i(i_flags;)46
b(/*)24 b(Mount)f(flags)g(\(see)h(fs.h\))f(*/)487 1770 y(unsigned)f(char)i
(i_lock;)487 1834 y(unsigned)e(char)i(i_dirt;)487 1898 y(unsigned)e(char)i
(i_pipe;)487 1963 y(unsigned)e(char)i(i_mount;)487 2027 y(unsigned)e(char)i
(i_seek;)487 2091 y(unsigned)e(char)i(i_update;)487 2156 y(union)f({)678
2220 y(struct)g(pipe_inode_info)e(pipe_i;)678 2284 y(struct)i
(minix_inode_info)e(minix_i;)678 2349 y(struct)i(ext_inode_info)f(ext_i;)654
2413 y(struct)h(msdos_inode_info)e(msdos_i;)678 2478 y(struct)i
(iso_inode_info)f(isofs_i;)678 2542 y(struct)h(nfs_inode_info)f(nfs_i;)p
eop
%%Page: 59 60
59 59 bop 150 -84 1800 3 v 150 -100 a Fk(A.3.)43 b(Driv)n(er)18
b(calls)1323 b Fo(59)558 96 y Fh(})24 b(u;)272 161 y(};)272
292 y Fo(See)10 b(Also:)18 b(Driv)o(er)10 b(Calls:)19 b(MAJOR,)9
b(MINOR,)g(IS)p 1213 292 15 2 v 17 w(RDONL)l(Y,)h(IS)p 1510
292 V 18 w(NOSUID,)f(IS)p 1790 292 V 17 w(NODEV,)272 360 y(IS)p
320 360 V 17 w(NOEXEC,)16 b(IS)p 625 360 V 17 w(SYNC)150 582
y Ff(A.3)83 b(Driv)n(er)27 b(calls)150 717 y Fk(add)p 242 717
17 2 v 21 w(timer)16 b(:)24 b Fo(Cause)g(a)g(function)f(to)h(b)q(e)f
(executed)f(when)i(a)f(giv)o(en)g(amoun)o(t)f(of)i(time)d(has)272
781 y(passed.)272 972 y Fh(#include)i(<linux/sched.h>)272 1101
y(void)g(add_timer\(long)f(jiffies,)h(void)g(\(*fn\)\(void\)\))272
1229 y(Arguments:)f(jiffies)h(--)h(The)f(number)g(of)h(jiffies)f(to)h(time)f
(out)g(after.)558 1294 y(fn)143 b(--)24 b(The)f(function)g(in)h(kernel)f
(space)g(to)g(run)h(after)f(timeout.)272 1489 y Fo(Note!)36
b(This)22 b(is)f(NOT)g(pro)q(cess-sp)q(eci\014c!)37 b(If)21
b(y)o(ou)g(are)h(lo)q(oking)g(for)f(a)h(w)o(a)o(y)f(to)h(ha)o(v)o(e)f(a)272
1558 y(pro)q(cess)e(go)g(to)f(sleep)g(and)g(timeout,)f(lo)q(ok)h(for)h(?)27
b(Excessiv)o(e)17 b(use)h(of)g(this)g(function)g(will)272 1626
y(cause)e(the)g(k)o(ernel)f(to)i(panic)f(if)f(there)h(are)g(to)q(o)i(man)o(y)
c(timeouts)h(activ)o(e)g(at)i(once.)150 1732 y Fk(cli)h(:)24
b Fo(Macro,)16 b(Prev)o(en)o(t)e(in)o(terrupts)i(from)f(o)q(ccuring)272
1923 y Fh(#include)23 b(<asm/system.h>)272 2052 y(#define)g(cli\(\))g
(__asm__)g(__volatile__)f(\("cli"::\))272 2247 y Fo(See)16
b(Also:)21 b(sti)150 2353 y Fk(free)p 245 2353 V 19 w(irq)d(:)24
b Fo(F)l(ree)15 b(a)i(registered)e(in)o(terrupt)272 2480 y
Fh(#include)23 b(<linux/sched.h>)p eop
%%Page: 60 61
60 60 bop 150 -84 1800 3 v 150 -100 a Fk(A.3.)37 b(Driv)n(er)17
b(calls)1330 b Fo(60)272 96 y Fh(void)23 b(free_irq\(unsigned)f(int)h(irq\))
272 225 y(Arguments:)f(irq)i(--)f(the)h(interrupt)f(level)g(to)g(free)h(up)
272 356 y Fo(See)16 b(Also:)21 b(request)p 645 356 15 2 v 17
w(irq)150 466 y Fk(get)p 229 466 17 2 v 20 w(fs)p 288 466 V
20 w(b)n(yte,)d(get)p 525 466 V 19 w(fs)p 583 466 V 21 w(w)n(ord,)h(get)p
835 466 V 19 w(fs)p 893 466 V 21 w(long)f(:)24 b Fo(Get)16
b(data)h(from)f(user)g(space)272 555 y(Purp)q(ose:)28 b(Allo)o(ws)18
b(a)i(driv)o(er)e(to)h(access)h(data)g(in)e(user)i(space)f(\(whic)o(h)f(is)h
(in)g(a)h(di\013eren)o(t)272 624 y(segmen)o(t)15 b(than)h(the)g(k)o(ernel!\))
272 763 y Fh(#include)23 b(<asm/segment.h>)272 892 y(inline)g(unsigned)g
(char)g(get_fs_byte\(const)f(char)h(*)h(addr\))272 956 y(inline)f(unsigned)g
(short)g(get_fs_word\(const)e(unsigned)i(short)g(*addr\))272
1021 y(inline)g(unsigned)g(long)g(get_fs_long\(const)f(unsigned)g(long)i
(*addr\))272 1149 y(Arguments:)e(addr)i(--)f(the)h(address)f(in)g(user)h
(space)f(to)g(get)h(data)f(from)272 1278 y(Returns:)g(the)g(value)g(in)h
(user)f(space.)272 1421 y Fo(See)16 b(Also:)21 b(memc)o(p)o(y)p
670 1421 15 2 v 14 w(fromfs,)15 b(memcp)o(y)p 1026 1421 V 14
w(tofs,)h(put)p 1221 1421 V 18 w(fs)p 1273 1421 V 18 w(b)o(yte,)f(put)p
1486 1421 V 17 w(fs)p 1537 1421 V 18 w(w)o(ord,)h(put)p 1762
1421 V 18 w(fs)p 1814 1421 V 17 w(long)150 1527 y Fk(in)n(b,)j(in)n(b)p
340 1527 17 2 v 20 w(p)g(:)24 b Fo(Inputs)16 b(a)h(b)o(yte)e(from)g(a)i(p)q
(ort)272 1654 y Fh(#include)23 b(<asm/io.h>)272 1783 y(inline)g(unsigned)g
(int)g(inb\(unsigned)f(short)i(port\))272 1847 y(inline)f(unsigned)g(int)g
(inb_p\(unsigned)f(short)h(port\))272 1976 y(Arguments:)f(port)i(--)f(the)h
(port)f(to)h(input)f(a)h(byte)f(from)272 2104 y(Returns:)47
b(Byte)23 b(received)g(in)g(the)h(low)f(byte.)47 b(High)24
b(byte)f(unused.)272 2300 y Fo(See)16 b(Also:)21 b(outb,)16
b(outb)p 715 2300 15 2 v 18 w(p)150 2405 y Fk(IS)p 205 2405
17 2 v 20 w(RDONL)-5 b(Y,)18 b(IS)p 553 2405 V 21 w(NOSUID,)g(IS)p
884 2405 V 20 w(NODEV,)g(IS)p 1198 2405 V 20 w(NOEXEC,)h(IS)p
1547 2405 V 20 w(SYNC:)25 b Fo(Macros,)12 b(c)o(hec)o(k)272
2470 y(the)k(status)h(of)g(the)f(device)e(on)j(the)f(\014lesystem)p
eop
%%Page: 61 62
61 61 bop 150 -84 1800 3 v 150 -100 a Fk(A.3.)37 b(Driv)n(er)17
b(calls)1330 b Fo(61)272 161 y Fh(#include)23 b(<linux/fs.h>)272
289 y(#define)g(IS_RDONLY\(inode\))f(\(\(\(inode\)->i_sb\))f(&&)j
(\(\(inode\)->i_sb->s_flags)d(&)916 354 y(MS_RDONLY\)\))272
418 y(#define)i(IS_NOSUID\(inode\))f(\(\(inode\)->i_flags)f(&)j(MS_NOSUID\))
272 482 y(#define)f(IS_NODEV\(inode\))f(\(\(inode\)->i_flags)f(&)j
(MS_NODEV\))272 547 y(#define)f(IS_NOEXEC\(inode\))f(\(\(inode\)->i_flags)f
(&)j(MS_NOEXEC\))272 611 y(#define)f(IS_SYNC\(inode\))f(\(\(inode\)->i_flags)
f(&)j(MS_SYNC\))150 802 y Fk(kfree,)17 b(kfree)p 430 802 17
2 v 19 w(s)i(:)24 b Fo(F)l(ree)15 b(memory)e(whic)o(h)j(has)h(b)q(een)f
(kmallo)q(ced.)272 929 y Fh(#include)23 b(<linux/kernel.h>)272
1057 y(#define)g(kfree\(x\))g(kfree_s\(\(x\),)f(0\))272 1122
y(void)h(kfree_s\(void)f(*)i(obj,)g(int)f(size\))272 1251 y(Arguments)g(:)g
(obj)48 b(--)23 b(pointer)g(to)h(kernel)f(memory)g(you)g(want)h(to)f(free)558
1315 y(size)h(--)f(size)h(of)f(block)g(you)h(want)f(to)h(free)f(\(0)h(if)f
(you)h(don't)f(know)749 1379 y(or)h(are)f(lazy)h(--)f(slows)g(things)g
(down\))150 1570 y Fk(kmallo)r(c)16 b(:)24 b Fo(Allo)q(cate)15
b(memory)e(in)j(k)o(ernel)f(space)272 1697 y Fh(#include)23
b(<linux/kernel.h>)272 1826 y(void)g(*)h(kmalloc\(unsigned)e(int)h(len,)g
(int)h(priority\))272 1954 y(Arguments:)e(len)143 b(--)24 b(the)f(length)g
(of)h(the)f(memory)g(to)h(allocate.)46 b(Must)24 b(not)f(be)h(bigger)821
2019 y(than)f(4096.)534 2083 y(priority)g(--)h(GFP_KERNEL)e(or)i(GFP_ATOMIC.)
46 b(GFP_ATOMIC)23 b(causes)g(kmalloc)845 2147 y(to)g(return)g(NULL)h(if)f
(the)h(memory)f(could)g(not)g(be)h(found)821 2212 y(immediately.)46
b(GFP_KERNEL)22 b(is)i(the)f(usual)h(priority.)272 2340 y(Returns:)f(NULL)g
(on)h(failure,)e(a)i(pointer)f(to)h(kernel)f(space)g(on)g(success.)150
2467 y Fk(memcp)n(y)p 359 2467 V 17 w(fromfs,)17 b(memcp)n(y)p
770 2467 V 18 w(tofs)h(:)24 b Fo(Copies)11 b(memory)d(from)i
(user\(fromfs\)/k)o(ernel\(tofs\))f(space)272 2531 y(to)17
b(k)o(ernel/user)e(space)p eop
%%Page: 62 63
62 62 bop 150 -84 1800 3 v 150 -100 a Fk(A.3.)43 b(Driv)n(er)18
b(calls)1323 b Fo(62)272 96 y Fh(#include)23 b(<asm/segment.h>)272
225 y(inline)g(void)g(memcpy_fromfs\(void)f(*)h(to,)h(const)f(void)g(*)h
(from,)f(unsigned)g(long)g(n\))272 289 y(inline)g(void)g(memcpy_tofs\(void)f
(*)i(to,)f(const)g(void)h(*)f(from,)h(unsigned)e(long)i(n\))272
418 y(Arguments:)e(to)72 b(--)23 b(Address)g(to)h(copy)f(data)g(to)534
482 y(from)h(--)f(Address)g(to)h(copy)f(data)g(from)534 547
y(n)96 b(--)23 b(number)g(of)h(bytes)f(to)h(copy)272 654 y
Fo(See)10 b(Also:)18 b(get)p 547 654 15 2 v 18 w(fs)p 599 654
V 18 w(b)o(yte,)10 b(get)p 799 654 V 18 w(fs)p 851 654 V 18
w(w)o(ord,)h(get)p 1063 654 V 18 w(fs)p 1115 654 V 18 w(long,)h(put)p
1321 654 V 17 w(fs)p 1372 654 V 18 w(b)o(yte,)f(put)p 1581
654 V 17 w(fs)p 1632 654 V 18 w(w)o(ord,)h(put)p 1853 654 V
18 w(fs)p 1905 654 V 17 w(long)272 740 y(W)l(arning!)22 b(Get)16
b(the)g(order)g(of)h(argumen)o(ts)e(righ)o(t!)150 840 y Fk(MAJOR,)k(MINOR)f
(:)24 b Fo(Macros,)14 b(get)g(ma)s(jor/minor)e(device)h(n)o(um)o(b)q(er)f
(from)h(ino)q(de)h(i)p 1782 840 V 17 w(dev)g(en-)272 904 y(try)l(.)272
1007 y Fh(#include)23 b(<linux/fs.h>)272 1136 y(#define)g(MAJOR\(a\))g
(\(\(\(unsigned\)\(a\)\)>>8\))272 1200 y(#define)g(MINOR\(a\))g
(\(\(a\)&0xff\))150 1304 y Fk(outb,)18 b(outb)p 411 1304 17
2 v 21 w(p)g(:)24 b Fo(Outputs)17 b(a)g(b)o(yte)e(to)i(a)f(p)q(ort)272
1407 y Fh(#include)23 b(<asm/io.h>)272 1536 y(inline)g(void)g(outb\(char)g
(value,)g(unsigned)g(short)g(port\))272 1600 y(inline)g(void)g(outb_p\(char)g
(value,)g(unsigned)f(short)i(port\))272 1729 y(Arguments:)e(value)i(--)f(the)
h(byte)f(to)h(write)f(out)534 1793 y(port)48 b(--)23 b(the)h(port)f(to)h
(write)f(it)g(out)h(on)272 1901 y Fo(See)16 b(Also:)21 b(in)o(b,)15
b(in)o(b)p 654 1901 15 2 v 17 w(p)150 2000 y Fk(prin)n(tk)j(:)24
b Fo(Kernel)15 b(prin)o(tf)272 2103 y Fh(#include)23 b(<linux/kernel.h>)272
2232 y(int)g(printk\(const)g(char)g(*fmt,)g(...\))272 2361
y(Arguments:)f(fmt)i(--)f(printf-style)g(format)558 2425 y(...)h(--)f
(var-arguments,)f(printf-style)272 2554 y(Returns:)h(Number)g(of)g
(characters)g(printed.)p eop
%%Page: 63 64
63 63 bop 150 -84 1800 3 v 150 -100 a Fk(A.3.)37 b(Driv)n(er)17
b(calls)1330 b Fo(63)150 96 y Fk(put)p 237 96 17 2 v 20 w(fs)p
296 96 V 21 w(b)n(yte,)17 b(put)p 541 96 V 21 w(fs)p 601 96
V 20 w(w)n(ord,)i(put)p 860 96 V 20 w(fs)p 919 96 V 21 w(long)f(:)24
b Fo(Put)17 b(data)g(in)o(to)f(user)g(space)272 181 y(Purp)q(ose:)22
b(Allo)o(ws)16 b(a)h(driv)o(er)e(to)h(put)h(a)g(b)o(yte,)e(w)o(ord,)h(or)g
(long)h(in)o(to)f(user)h(space,)f(whic)o(h)f(is)272 246 y(at)i(a)f
(di\013eren)o(t)g(segmen)o(t)e(than)j(the)f(k)o(ernel.)272
371 y Fh(#include)23 b(<asm/segment.h>)272 500 y(inline)g(void)g
(put_fs_byte\(char)f(val,char)h(*addr\))272 564 y(inline)g(void)g
(put_fs_word\(short)f(val,short)g(*)i(addr\))272 629 y(inline)f(void)g
(put_fs_long\(unsigned)e(long)j(val,unsigned)e(long)h(*)h(addr\))272
758 y(Arguments:)e(addr)i(--)f(the)h(address)f(in)g(user)h(space)f(to)g(get)h
(data)f(from)272 886 y(Returns:)g(the)g(value)g(in)h(user)f(space.)272
1081 y Fo(See)16 b(Also:)21 b(memc)o(p)o(y)p 670 1081 15 2
v 14 w(fromfs,)15 b(memcp)o(y)p 1026 1081 V 14 w(tofs,)h(get)p
1213 1081 V 18 w(fs)p 1265 1081 V 17 w(b)o(yte,)f(get)p 1469
1081 V 18 w(fs)p 1521 1081 V 18 w(w)o(ord,)h(get)p 1738 1081
V 17 w(fs)p 1789 1081 V 18 w(long)272 1170 y(W)l(arning!)22
b(Get)16 b(the)g(order)g(of)h(argumen)o(ts)e(righ)o(t!)150
1275 y Fk(register)p 339 1275 17 2 v 19 w(c)n(hrdev)j(:)24
b Fo(Register)15 b(a)i(c)o(haracter)f(device)f(with)h(the)g(k)o(ernel)272
1401 y Fh(#include)23 b(<linux/fs.h>)272 1465 y(#include)g(<linux/errno.h>)
272 1594 y(int)g(register_chrdev\(unsigned)e(int)i(major,)g(const)h(char)f
(*name,)940 1659 y(struct)g(file_operations)f(*fops\))272 1787
y(Arguments:)g(major)i(--)f(the)h(major)f(device)g(number)g(to)h(register)e
(as)630 1852 y(name)47 b(--)24 b(the)f(name)g(of)h(the)f(device)h
(\(currently)e(unused\))725 1916 y(fops)48 b(--)23 b(a)h(file_operations)e
(structure)g(for)i(the)f(device.)272 2045 y(Returns:)g(-EINVAL)g(if)g(major)g
(is)h(>=)g(MAX_CHRDEV)e(\(defined)h(in)g(fs.h)h(as)f(32\))511
2109 y(-EBUSY)g(if)g(major)g(device)g(has)h(already)f(been)g(allocated)534
2173 y(0)h(on)g(success.)150 2299 y Fk(request)p 333 2299 V
19 w(irq)18 b(:)23 b Fo(Request)16 b(to)h(p)q(erform)e(a)i(function)f(on)g
(an)h(in)o(terrupt)272 2425 y Fh(#include)23 b(<linux/sched.h>)272
2489 y(#include)g(<linux/errno.h>)p eop
%%Page: 64 65
64 64 bop 150 -84 1800 3 v 150 -100 a Fk(A.3.)43 b(Driv)n(er)18
b(calls)1323 b Fo(64)272 96 y Fh(int)23 b(request_irq\(unsigned)f(int)h(irq,)
g(void)h(\(*handler\)\(int\)\))272 225 y(Arguments:)e(irq)119
b(--)24 b(the)f(interrupt)g(to)h(request.)558 289 y(handler)f(--)h(the)f
(function)g(to)h(handle)f(the)g(interrupt.)46 b(The)24 b(interrupt)821
354 y(handler)f(should)g(be)g(of)h(the)f(form)h(void)f(handler\(int\).)988
418 y(Unless)g(you)g(really)g(know)h(what)f(you)g(are)h(doing,)f(don't)940
482 y(use)h(the)f(int)g(argument.)272 611 y(Returns:)g(-EINVAL)g(if)g(irq>15)
g(or)h(handler==NULL)511 676 y(-EBUSY)f(if)g(irq)h(is)f(already)g(allocated.)
511 740 y(0)g(on)h(success.)272 862 y Fo(See)16 b(Also:)21
b(free)p 569 862 15 2 v 16 w(irq)150 965 y Fk(select)p 290
965 17 2 v 19 w(w)n(ait)e(:)24 b Fo(Add)16 b(a)g(pro)q(cess)h(to)g(the)f
(select-w)o(ait)f(queue)272 1083 y Fh(#include)23 b(<linux/sched.h>)272
1211 y(inline)g(void)g(select_wait\(struct)f(wait_queue)g(**)i(wait_address,)
e(select_table)g(*)i(p\))272 1340 y(Arguments:)e(wait_address)h(--)g(Address)
g(of)h(a)f(wait_queue)g(pointer)558 1405 y(p)287 b(--)23 b(Address)g(of)h(a)f
(select_table)272 1526 y Fo(Devices)13 b(whic)o(h)g(use)h(select)f(should)h
(de\014ne)g(a)g(struct)g(w)o(ait)p 1359 1526 15 2 v 17 w(queue)f(p)q(oin)o
(ter)h(and)g(initialize)272 1595 y(it)23 b(to)g(NULL.)g(select)p
686 1595 V 16 w(w)o(ait)g(adds)h(the)f(curren)o(t)f(pro)q(cess)i(to)g(a)f
(circular)f(list)h(of)g(w)o(aits.)272 1664 y(The)17 b(p)q(oin)o(ter)h(to)f
(the)h(circular)e(list)h(is)g(w)o(ait)p 1093 1664 V 17 w(address.)26
b(If)17 b(p)g(is)h(NULL,)f(select)p 1735 1664 V 16 w(w)o(ait)g(do)q(es)272
1732 y(nothing,)f(otherwise)g(the)g(curren)o(t)g(pro)q(cess)h(is)f(put)g(to)h
(sleep.)272 1820 y(See)f(Also:)21 b(sleep)p 595 1820 V 16 w(on,)c(in)o
(terruptible)p 962 1820 V 15 w(sleep)p 1081 1820 V 17 w(on,)f(w)o(ak)o(e)p
1284 1820 V 17 w(up,)g(w)o(ak)o(e)p 1490 1820 V 17 w(up)p 1561
1820 V 18 w(in)o(terruptible)150 1924 y Fk(sleep)p 274 1924
17 2 v 19 w(on,)j(in)n(terruptible)p 699 1924 V 18 w(sleep)p
838 1924 V 19 w(on)g(:)24 b Fo(Put)16 b(the)g(curren)o(t)g(pro)q(cess)h(to)f
(sleep.)272 2041 y Fh(#include)23 b(<linux/sched.h>)272 2170
y(void)g(sleep_on\(struct)f(wait_queue)h(**)g(p\))272 2234
y(void)g(interruptible_sleep_on\(struc)o(t)e(wait_queue)i(**)g(p\))272
2363 y(Arguments:)f(q)i(--)g(Pointer)f(to)g(the)h(driver's)e(wait_queue)h
(\(see)g(select_wait\))272 2485 y Fo(sleep)p 379 2485 15 2
v 17 w(on)17 b(puts)h(the)e(curren)o(t)g(pro)q(cess)i(to)f(sleep)f(in)h(an)g
(unin)o(terruptible)e(state.)24 b(That)18 b(is,)272 2554 y(signals)e(will)f
(not)i(w)o(ak)o(e)e(the)h(pro)q(cess)g(up.)22 b(The)16 b(only)f(thing)i(whic)
o(h)e(will)g(w)o(ak)o(e)g(a)h(pro)q(cess)p eop
%%Page: 65 66
65 65 bop 150 -84 1800 3 v 150 -100 a Fk(A.3.)37 b(Driv)n(er)17
b(calls)1330 b Fo(65)272 96 y(up)15 b(in)g(this)g(state)g(is)g(a)h(hardw)o
(are)f(in)o(terrupt)f(\(whic)o(h)h(w)o(ould)g(call)f(the)h(in)o(terrupt)f
(handler)272 165 y(of)20 b(the)f(driv)o(er\))f({)i(and)g(ev)o(en)e(then)h
(the)g(in)o(terrupt)g(routine)g(needs)g(to)h(call)e(w)o(ak)o(e)p
1819 165 15 2 v 17 w(up)i(to)272 234 y(put)c(the)g(pro)q(cess)h(in)f(a)h
(running)f(state.)272 322 y(in)o(terruptible)p 544 322 V 15
w(sleep)p 663 322 V 17 w(on)e(puts)f(the)g(curren)o(t)g(pro)q(cess)h(to)f
(sleep)g(in)f(an)i(in)o(terruptible)d(state,)272 391 y(whic)o(h)g(means)g
(that)i(not)f(only)g(will)f(hardw)o(are)i(in)o(terrupts)e(get)h(through,)i
(but)e(also)h(signals)272 460 y(and)h(pro)q(cess)h(timeouts)d(\("alarms"\))h
(will)g(cause)h(the)f(pro)q(cess)h(to)g(w)o(ak)o(e)f(up)h(\(and)g(execute)272
528 y(in)o(terrupt)20 b(or)h(signal)f(handlers\).)35 b(A)20
b(call)g(to)h(w)o(ak)o(e)p 1260 528 V 17 w(up)p 1331 528 V
17 w(in)o(terruptible)e(is)h(necessary)h(to)272 597 y(w)o(ak)o(e)16
b(up)g(the)g(pro)q(cess)h(and)g(allo)o(w)f(it)f(to)i(con)o(tin)o(ue)e
(running)i(where)f(it)f(left)h(o\013.)272 686 y(See)g(Also:)21
b(select)p 609 686 V 16 w(w)o(ait,)16 b(w)o(ak)o(e)p 851 686
V 16 w(up,)g(w)o(ak)o(e)p 1056 686 V 17 w(up)p 1127 686 V 18
w(in)o(terruptible)150 791 y Fk(sti)i(:)24 b Fo(Macro,)16 b(Allo)o(w)f(in)o
(terrupts)h(to)g(o)q(ccur)272 915 y Fh(#include)23 b(<asm/system.h>)272
1043 y(#define)g(sti\(\))g(__asm__)g(__volatile__)f(\("sti"::\))272
1171 y Fo(See)16 b(Also:)21 b(cli)150 1276 y Fk(sys)p 227 1276
17 2 v 20 w(getegid,)c(sys)p 531 1276 V 20 w(getgid,)g(sys)p
809 1276 V 20 w(getpid,)h(sys)p 1091 1276 V 20 w(getppid,)f(sys)p
1403 1276 V 20 w(getuid,)h(sys)p 1685 1276 V 20 w(geteuid)f(:)24
b Fo(F)l(unky)272 1341 y(functions)16 b(whic)o(h)g(get)g(v)m(arious)h
(information)e(ab)q(out)j(the)e(curren)o(t)f(pro)q(cess,)272
1464 y Fh(#include)23 b(<linux/sys.h>)272 1593 y(int)g(sys_getegid\(void\))
272 1658 y(int)g(sys_getgid\(void\))272 1722 y(int)g(sys_getpid\(void\))272
1786 y(int)g(sys_getppid\(void\))272 1851 y(int)g(sys_getuid\(void\))272
1915 y(int)g(sys_geteuid\(void\))272 2044 y(sys_getegid)f(gets)i(the)f
(effective)g(gid)g(of)h(the)f(process.)272 2108 y(sys_getgid)f(gets)i(the)f
(group)g(ID)h(of)g(the)f(process.)272 2172 y(sys_getpid)f(gets)i(the)f
(process)g(ID)h(of)f(the)h(process.)272 2237 y(sys_getppid)e(gets)i(the)f
(process)g(ID)h(of)f(the)h(process')e(parent.)272 2301 y(sys_geteuid)g(gets)i
(the)f(effective)g(uid)g(of)h(the)f(process.)272 2366 y(sys_getuid)f(gets)i
(the)f(user)h(ID)f(of)h(the)f(process.)150 2489 y Fk(w)n(ak)n(e)p
272 2489 V 21 w(up,)18 b(w)n(ak)n(e)p 508 2489 V 21 w(up)p
591 2489 V 21 w(in)n(terruptible)f(:)24 b Fo(W)l(ak)o(e)d(up)p
1195 2489 15 2 v 40 w(all)p 1265 2489 V 39 w(pro)q(cesses)i(w)o(aiting)f(on)g
(the)g(w)o(ait)272 2554 y(queue.)p eop
%%Page: 66 67
66 66 bop 150 -84 1800 3 v 150 -100 a Fk(A.3.)43 b(Driv)n(er)18
b(calls)1323 b Fo(66)272 96 y Fh(#include)23 b(<linux/sched.h>)272
225 y(void)g(wake_up\(struct)f(wait_queue)h(**q\))272 289 y(void)g
(wake_up_interruptible\(struct)d(wait_queue)j(**q\))272 418
y(Arguments:)f(q)i(--)g(Pointer)f(to)g(the)h(driver's)e(wait_queue)h(\(see)g
(select_wait\))272 539 y Fo(See)16 b(Also:)21 b(select)p 609
539 15 2 v 16 w(w)o(ait,)16 b(sleep)p 850 539 V 16 w(on,)h(in)o(terruptible)p
1217 539 V 15 w(sleep)p 1336 539 V 17 w(on)150 692 y(When)e(a)g(pro)q(cess)h
(issues)f(a)h(select)d(call,)h(it)h(is)g(c)o(hec)o(king)e(to)i(see)g(if)f
(the)h(giv)o(en)f(devices)g(are)h(ready)150 761 y(to)j(p)q(erform)f(the)g
(giv)o(en)g(op)q(erations.)27 b(F)l(or)18 b(example,)d(supp)q(ose)k(y)o(ou)e
(w)o(an)o(t)h(a)g(driv)o(er)f(to)h(ha)o(v)o(e)f(a)150 830 y(command)11
b(written)i(to)h(it,)f(and)g(to)h(disallo)o(w)f(further)g(commands)e(un)o
(til)i(the)g(curren)o(t)f(command)150 898 y(is)18 b(complete.)23
b(W)l(ell,)17 b(in)g(the)h(write)f(call)g(y)o(ou)h(w)o(ould)g(blo)q(c)o(k)f
(commands)f(if)h(there)g(is)h(already)g(a)150 967 y(command)g(op)q(erating)i
(\(for)g(example,)e(w)o(aiting)i(for)g(a)g(b)q(oard)h(to)f(do)g(something\).)
31 b(But)20 b(that)150 1035 y(w)o(ould)f(require)e(the)i(pro)q(cess)g(to)h
(write)e(o)o(v)o(er)g(and)h(o)o(v)o(er)f(again)i(un)o(til)e(it)g(succeeds.)28
b(That)20 b(just)150 1104 y(burns)d(cycles.)150 1216 y(The)d(select)f(call)g
(allo)o(ws)i(a)f(pro)q(cess)h(to)f(determine)e(the)i(a)o(v)m(ailabilit)o(y)e
(of)i(read)h(and)f(write.)20 b(In)14 b(the)150 1284 y(ab)q(o)o(v)o(e)j
(example,)d(one)j(merely)d(has)j(to)h(select)d(for)i(write)f(on)i(that)f
(device's)e(\014le)h(descriptor)g(\(as)150 1353 y(returned)f(b)o(y)g(op)q
(en\),)g(and)h(the)f(pro)q(cess)h(w)o(ould)f(b)q(e)h(put)f(to)h(sleep)e(un)o
(til)h(the)g(device)e(is)i(ready)h(to)150 1421 y(b)q(e)g(written)g(to.)150
1533 y(The)e(k)o(ernel)f(will)g(call)h(the)g(driv)o(er's)f(driv)o(er)p
951 1533 V 16 w(select)g(call)h(when)h(the)f(pro)q(cess)h(issues)f(a)h
(select)e(call.)150 1601 y(The)19 b(argumen)o(ts)f(to)h(the)g(driv)o(er)p
771 1601 V 16 w(select)f(call)g(are)h(detailed)f(ab)q(o)o(v)o(e.)29
b(If)19 b(the)g(w)o(ait)f(argumen)o(t)g(is)150 1670 y(non-NULL,)f(and)g
(there)f(is)g(no)h(error)f(condition)h(caused)f(b)o(y)g(the)g(select,)f(driv)
o(er)p 1665 1670 V 16 w(select)h(should)150 1739 y(put)f(the)f(pro)q(cess)i
(to)f(sleep,)f(and)h(arrange)h(to)f(b)q(e)g(w)o(ok)o(en)f(up)h(when)g(the)f
(device)g(b)q(ecomes)f(ready)150 1807 y(\(usually)j(through)h(an)g(in)o
(terrupt\).)150 1919 y(If,)k(ho)o(w)o(ev)o(er,)f(the)h(w)o(ait)f(argumen)o(t)
g(is)g(NULL,)h(then)f(the)h(driv)o(er)e(should)i(quic)o(kly)e(see)h(if)g(the)
150 1987 y(device)12 b(is)h(ready)l(,)h(and)g(return)g(ev)o(en)e(if)h(it)g
(is)h(not.)21 b(The)13 b(select)p 1288 1987 V 17 w(w)o(ait)g(function)g(do)q
(es)i(this)e(already)150 2056 y(for)k(y)o(ou)f(\(see)f(further\).)150
2168 y(Putting)20 b(the)g(pro)q(cess)h(to)g(sleep)e(do)q(es)i(not)g(require)e
(calling)g(a)i(sleep)p 1465 2168 V 17 w(on)g(function.)32 b(It)20
b(is)g(the)150 2236 y(select)p 271 2236 V 16 w(w)o(ait)i(function)g(whic)o(h)
f(is)h(called,)g(with)g(the)g(p)g(argumen)o(t)e(b)q(eing)j(equal)e(to)h(the)g
(w)o(ait)150 2305 y(argumen)o(t)15 b(passed)i(to)g(driv)o(er)p
712 2305 V 16 w(select.)150 2416 y(select)p 271 2416 V 16 w(w)o(ait)23
b(is)g(prett)o(y)f(m)o(uc)o(h)f(equiv)m(alen)o(t)h(to)h(in)o(terruptible)p
1321 2416 V 16 w(sleep)p 1441 2416 V 17 w(on)g(in)g(that)h(it)e(adds)i(the)
150 2485 y(curren)o(t)c(pro)q(cess)h(to)g(the)g(w)o(ait)f(queue)g(and)i
(sleeps)e(the)h(pro)q(cess)g(in)f(an)i(in)o(terruptible)c(state.)150
2554 y(The)23 b(in)o(ternals)f(of)i(the)e(di\013erences)g(b)q(et)o(w)o(een)g
(select)p 1176 2554 V 17 w(w)o(ait)h(and)g(in)o(terruptible)p
1677 2554 V 16 w(sleep)p 1797 2554 V 16 w(on)h(are)p eop
%%Page: 67 68
67 67 bop 150 -84 1800 3 v 150 -100 a Fk(A.4.)43 b(Installation)18
b(notes)1180 b Fo(67)150 96 y(relativ)o(ely)20 b(irrelev)m(an)o(t)i(here.)40
b(Su\016ce)22 b(it)h(to)g(sa)o(y)g(that)g(to)g(w)o(ak)o(e)f(the)h(pro)q(cess)
g(up)g(from)f(the)150 165 y(select,)14 b(one)j(needs)e(to)i(p)q(erform)e(the)
g(w)o(ak)o(e)p 953 165 15 2 v 17 w(up)p 1024 165 V 18 w(in)o(terruptible)f
(call.)20 b(When)c(that)h(happ)q(ens,)f(the)150 234 y(pro)q(cess)h(is)f(free)
f(to)i(run.)150 345 y(Ho)o(w)o(ev)o(er,)c(in)h(the)g(case)h(of)g(in)o
(terruptible)p 924 345 V 15 w(sleep)p 1043 345 V 17 w(on,)g(the)f(pro)q(cess)
h(will)f(con)o(tin)o(ue)f(running)i(after)150 414 y(the)21
b(call)f(to)h(in)o(terruptible)p 669 414 V 16 w(sleep)p 789
414 V 17 w(on.)36 b(In)21 b(the)f(case)h(of)h(select)p 1348
414 V 16 w(w)o(ait,)g(the)e(pro)q(cess)i(do)q(es)g(not.)150
482 y(driv)o(er)p 279 482 V 16 w(select)14 b(is)h(called)f(as)i(a)g("side)f
(e\013ect")g(of)g(the)g(select)f(call,)g(and)i(so)g(completes)d(ev)o(en)h
(when)150 551 y(it)j(calls)f(select)p 430 551 V 16 w(w)o(ait.)24
b(It)17 b(is)f(not)i(select)p 884 551 V 16 w(w)o(ait)f(whic)o(h)g(sleeps)f
(the)h(pro)q(cess,)g(but)h(the)e(select)g(call.)150 620 y(Nev)o(ertheless,)g
(it)i(is)h(required)e(to)i(call)f(select)p 1018 620 V 16 w(w)o(ait)g(to)h
(add)g(the)g(pro)q(cess)g(to)g(the)f(w)o(ait-queue,)150 688
y(since)d(select)h(will)f(not)h(do)h(that.)150 800 y(All)e(one)h(needs)g(to)h
(remem)n(b)q(er)d(for)i(driv)o(er)p 943 800 V 16 w(select)f(is:)223
944 y Fn(\017)24 b Fo(Call)16 b(select)p 496 944 V 16 w(w)o(ait)g(if)g(the)g
(device)f(is)h(not)g(ready)l(,)g(and)h(return)f(0.)223 1051
y Fn(\017)24 b Fo(Return)16 b(1)h(if)e(the)h(device)f(is)h(ready)l(.)150
1194 y(Calling)d(select)f(with)h(a)h(timeout)e(is)h(really)f(no)i(di\013eren)
o(t)e(to)i(the)f(driv)o(er)f(than)h(calling)g(it)g(without)150
1263 y(select.)19 b(But)13 b(there)g(is)g(one)g(crucial)g(di\013erence.)19
b(Remem)n(b)q(er)10 b(timing)i(out)i(on)f(in)o(terrupts)g(ab)q(o)o(v)o(e?)150
1332 y(W)l(ell,)h(in)o(terrupt)g(timeouts)f(and)j(select)e(timeouts)f(cannot)
j(co-exist.)k(They)15 b(b)q(oth)h(use)f(curren)o(t-)150 1400
y(>timeout)g(to)h(w)o(ak)o(e)g(the)g(pro)q(cess)h(up)f(after)g(a)h(p)q(erio)q
(d)g(of)f(time.)j(Remem)n(b)q(er)14 b(that!)150 1621 y Ff(A.4)83
b(Installation)27 b(notes)150 1782 y Fo(Before)16 b(y)o(ou)h(sit)g(do)o(wn)g
(and)g(write)g(y)o(our)g(\014rst)g(driv)o(er,)e(\014rst)i(mak)o(e)e(sure)i(y)
o(ou)g(understand)h(ho)o(w)150 1850 y(to)c(recompile)d(the)i(k)o(ernel.)19
b(Then)13 b(go)i(ahead)f(and)g(recompile)d(it!)20 b(Recompilation)11
b(of)j(the)g(k)o(ernel)150 1919 y(is)22 b(describ)q(ed)g(in)g(the)g(F)-5
b(A)o(Q.)20 b(If)i(y)o(ou)g(can't)g(recompile)e(the)i(k)o(ernel,)f(y)o(ou)i
(can't)f(install)f(y)o(our)150 1987 y(driv)o(er)c(in)o(to)h(the)f(k)o(ernel.)
25 b([Although)18 b(I)g(hear)g(tell)f(of)h(a)h(pac)o(k)m(age)f(on)h(sunsite)f
(whic)o(h)f(can)i(load)150 2056 y(and)e(unload)f(driv)o(ers)g(while)f(the)h
(k)o(ernel)e(is)i(running.)22 b(Un)o(til)14 b(I)i(test)g(out)g(this)g(pac)o
(k)m(age,)g(I)g(w)o(on't)150 2125 y(include)f(instructions)h(for)h(it)e
(here.])150 2236 y(F)l(or)c(c)o(haracter)f(devices,)g(y)o(ou)h(need)f(to)i
(go)f(in)o(to)g(the)f(mem.c)d(\014le)k(in)f(the)h(\(source\)/lin)o(ux/k)o
(ernel/c)o(hr)p 1998 2236 V 15 w(dev)150 2305 y(directory)l(,)18
b(to)i(the)f(c)o(hr)p 590 2305 V 16 w(dev)p 681 2305 V 18 w(init)f(function,)
h(and)h(add)f(y)o(our)g(init)f(function)h(to)h(it.)29 b(Recompile)150
2373 y(the)16 b(k)o(ernel,)e(and)j(a)o(w)o(a)o(y)f(y)o(ou)g(go!)150
2485 y(\(BTW,)d(w)o(ould)g(y)o(ou)h(man)o(ually)d(ha)o(v)o(e)i(to)h(do)g(a)g
(mkno)q(d)e(to)i(mak)o(e)e(the)h(/dev/xxx)g(en)o(try)f(for)i(y)o(our)150
2554 y(driv)o(er?)20 b(Can)d(y)o(ou)f(do)h(it)f(in)g(the)g(init)f
(function?\))p eop
%%Page: 68 69
68 68 bop 150 -84 1800 3 v 150 -100 a Fk(A.4.)43 b(Installation)18
b(notes)1180 b Fo(68)150 96 y(In)16 b(general,)g(one)g(installs)g(a)g(device)
f(sp)q(ecial)h(\014le)f(in)h(/dev)h(man)o(ually)l(,)c(b)o(y)j(using)h(mkno)q
(d:)198 245 y Fh(mknod)23 b(/dev/xxx)g(c)g(major)h(minor)150
398 y Fo(If)11 b(y)o(ou)g(registered)g(y)o(our)g(c)o(haracter)g(driv)o(er)f
(as)i(ma)s(jor)e(device)g(X,)g(then)i(all)f(accesses)g(to)g(/dev/xxx)150
467 y(where)16 b(ma)s(jor==X)f(will)g(call)g(y)o(our)h(driv)o(er)f
(functions.)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
